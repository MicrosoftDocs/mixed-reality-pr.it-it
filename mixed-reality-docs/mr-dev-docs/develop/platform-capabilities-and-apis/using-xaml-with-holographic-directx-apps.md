---
title: Uso di XAML con app DirectX olografiche
description: Illustra l'effetto del cambio tra visualizzazioni XAML 2D e visualizzazioni immersive nell'app DirectX e come usare in modo efficiente sia una visualizzazione XAML che una visualizzazione immersiva.
author: mikeriches
ms.author: mriches
ms.date: 08/04/2020
ms.topic: article
keywords: realtà mista di Windows, UWP, gestione visualizzazione App, XAML, tastiera, procedura dettagliata, DirectX
ms.openlocfilehash: b062efadca9ccfe2e2caeb054f662becc0807b50
ms.sourcegitcommit: c41372e0c6ca265f599bff309390982642d628b8
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 12/15/2020
ms.locfileid: "97530274"
---
# <a name="using-xaml-with-holographic-directx-apps"></a><span data-ttu-id="f0f28-104">Uso di XAML con app DirectX olografiche</span><span class="sxs-lookup"><span data-stu-id="f0f28-104">Using XAML with holographic DirectX apps</span></span>

> [!NOTE]
> <span data-ttu-id="f0f28-105">Questo articolo si riferisce alle API native di WinRT legacy.</span><span class="sxs-lookup"><span data-stu-id="f0f28-105">This article relates to the legacy WinRT native APIs.</span></span>  <span data-ttu-id="f0f28-106">Per i nuovi progetti di app native, è consigliabile usare l' **[API OpenXR](../native/openxr-getting-started.md)**.</span><span class="sxs-lookup"><span data-stu-id="f0f28-106">For new native app projects, we recommend using the **[OpenXR API](../native/openxr-getting-started.md)**.</span></span>

<span data-ttu-id="f0f28-107">Questo argomento illustra l'effetto del cambio tra [visualizzazioni XAML 2D e viste immersive](../../design/app-views.md) nell'app DirectX e come usare in modo efficiente sia una visualizzazione XAML che una visualizzazione immersiva.</span><span class="sxs-lookup"><span data-stu-id="f0f28-107">This topic explains the impact of switching between [2D XAML views and immersive views](../../design/app-views.md) in your DirectX app, and how to make efficient use of both a XAML view and immersive view.</span></span>

## <a name="xaml-view-switching-overview"></a><span data-ttu-id="f0f28-108">Panoramica sul cambio di visualizzazione XAML</span><span class="sxs-lookup"><span data-stu-id="f0f28-108">XAML view switching overview</span></span>

<span data-ttu-id="f0f28-109">In HoloLens un'app immersiva che può visualizzare in seguito una visualizzazione XAML 2D deve inizializzare prima la visualizzazione XAML e passare immediatamente a una visualizzazione immersiva.</span><span class="sxs-lookup"><span data-stu-id="f0f28-109">On HoloLens, an immersive app that may later display a 2D XAML view needs to initialize that XAML view first and immediately switch to an immersive view from there.</span></span> <span data-ttu-id="f0f28-110">XAML verrà caricato prima che l'app possa eseguire qualsiasi operazione, che aggiunge un piccolo aumento al tempo di avvio.</span><span class="sxs-lookup"><span data-stu-id="f0f28-110">XAML will load before your app can do anything, which adds a small increase to your startup time.</span></span> <span data-ttu-id="f0f28-111">XAML continuerà a occupare lo spazio di memoria nel processo dell'app mentre rimane in background.</span><span class="sxs-lookup"><span data-stu-id="f0f28-111">XAML will continue to occupy memory space in your app process while it stays in the background.</span></span> <span data-ttu-id="f0f28-112">La quantità di ritardo di avvio e di utilizzo della memoria dipende dalle operazioni svolte dall'app con XAML prima di passare alla visualizzazione nativa.</span><span class="sxs-lookup"><span data-stu-id="f0f28-112">The amount of startup delay and memory usage depends on what your app does with XAML before switching to the native view.</span></span> <span data-ttu-id="f0f28-113">Se non si esegue alcuna operazione nel codice di avvio XAML inizialmente, tranne che per iniziare la visualizzazione immersiva, l'effetto dovrebbe essere minore.</span><span class="sxs-lookup"><span data-stu-id="f0f28-113">If you do nothing in your XAML startup code at first except start your immersive view, the impact should be minor.</span></span> <span data-ttu-id="f0f28-114">Inoltre, poiché il rendering olografico viene eseguito direttamente nella visualizzazione immersiva, si eviteranno eventuali restrizioni correlate a XAML su tale rendering.</span><span class="sxs-lookup"><span data-stu-id="f0f28-114">Also, because your holographic rendering is done directly to the immersive view, you'll avoid any XAML-related restrictions on that rendering.</span></span>

<span data-ttu-id="f0f28-115">I conteggi di utilizzo della memoria per CPU e GPU.</span><span class="sxs-lookup"><span data-stu-id="f0f28-115">The memory usage counts for both CPU and GPU.</span></span> <span data-ttu-id="f0f28-116">Direct3D 11 può scambiare memoria grafica virtuale, ma potrebbe non essere in grado di scambiare alcune o tutte le risorse GPU XAML e potrebbe essersi verificato un notevole impatto sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="f0f28-116">Direct3D 11 can swap virtual graphics memory, but it might not be able to swap out some or all of the XAML GPU resources, and there might be a noticeable performance hit.</span></span> <span data-ttu-id="f0f28-117">In entrambi i casi, se non si caricano funzionalità XAML non necessarie, non sarà più disponibile una maggiore quantità di spazio per l'app e sarà possibile migliorare l'esperienza.</span><span class="sxs-lookup"><span data-stu-id="f0f28-117">Either way, not loading any XAML features you don't need will leave more room for your app and provide a better experience.</span></span>

## <a name="xaml-view-switching-workflow"></a><span data-ttu-id="f0f28-118">Flusso di lavoro cambio visualizzazione XAML</span><span class="sxs-lookup"><span data-stu-id="f0f28-118">XAML view switching workflow</span></span>

<span data-ttu-id="f0f28-119">Il flusso di lavoro per un'app che passa direttamente da XAML alla modalità immersiva è simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="f0f28-119">The workflow for an app that goes directly from XAML to immersive mode is like so:</span></span>
* <span data-ttu-id="f0f28-120">L'app viene avviata nella visualizzazione XAML 2D.</span><span class="sxs-lookup"><span data-stu-id="f0f28-120">The app starts up in the 2D XAML view.</span></span>
* <span data-ttu-id="f0f28-121">La sequenza di avvio XAML dell'app rileva se il sistema corrente supporta il rendering olografico:</span><span class="sxs-lookup"><span data-stu-id="f0f28-121">The app’s XAML startup sequence detects if the current system supports holographic rendering:</span></span>
* <span data-ttu-id="f0f28-122">In tal caso, l'app crea la visualizzazione immersiva e la porta immediatamente in primo piano.</span><span class="sxs-lookup"><span data-stu-id="f0f28-122">If so, the app creates the immersive view and brings it to the foreground right away.</span></span> <span data-ttu-id="f0f28-123">Il caricamento XAML viene ignorato per tutto ciò che non è necessario nei dispositivi di realtà mista di Windows, incluse le classi di rendering e il caricamento di asset nella visualizzazione XAML.</span><span class="sxs-lookup"><span data-stu-id="f0f28-123">XAML loading is skipped for anything not necessary on Windows Mixed Reality devices, including any rendering classes and asset loading in the XAML view.</span></span> <span data-ttu-id="f0f28-124">Se l'app usa XAML per l'input da tastiera, è comunque necessario creare la pagina di input.</span><span class="sxs-lookup"><span data-stu-id="f0f28-124">If the app is using XAML for keyboard input, that input page should still be created.</span></span>
* <span data-ttu-id="f0f28-125">In caso contrario, la visualizzazione XAML può continuare con l'attività aziendale come di consueto.</span><span class="sxs-lookup"><span data-stu-id="f0f28-125">If not, the XAML view can continue with business as usual.</span></span>

## <a name="tip-for-rendering-graphics-across-both-views"></a><span data-ttu-id="f0f28-126">Suggerimento per il rendering di elementi grafici in entrambe le visualizzazioni</span><span class="sxs-lookup"><span data-stu-id="f0f28-126">Tip for rendering graphics across both views</span></span>

<span data-ttu-id="f0f28-127">Se l'app deve implementare una certa quantità di rendering in DirectX per la visualizzazione XAML in realtà mista di Windows, la scommessa migliore consiste nel creare un renderer che può funzionare con entrambe le visualizzazioni.</span><span class="sxs-lookup"><span data-stu-id="f0f28-127">If your app needs to implement some amount of rendering in DirectX for the XAML view in Windows Mixed Reality, your best bet is to create one renderer that can work with both views.</span></span> <span data-ttu-id="f0f28-128">Il renderer deve essere un'istanza a cui è possibile accedere da entrambe le visualizzazioni e deve passare dal rendering 2D a quello olografico.</span><span class="sxs-lookup"><span data-stu-id="f0f28-128">The renderer should be one instance that can be accessed from both views, and it should switch between 2D and holographic rendering.</span></span> <span data-ttu-id="f0f28-129">In questo modo, gli asset GPU vengono caricati solo una volta, riducendo i tempi di caricamento, l'effetto della memoria e la quantità di risorse scambiate durante il passaggio delle visualizzazioni.</span><span class="sxs-lookup"><span data-stu-id="f0f28-129">This way GPU assets only load once, which reduces load times, memory impact, and the amount of swapped resources when switching views.</span></span>
