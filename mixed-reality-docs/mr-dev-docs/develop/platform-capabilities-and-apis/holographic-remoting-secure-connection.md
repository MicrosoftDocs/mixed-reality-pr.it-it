---
title: Abilitazione della sicurezza della connessione per la comunicazione remota olografica
description: Questa pagina illustra come configurare la comunicazione remota olografica per l'uso di connessioni crittografate e autenticate tra Player e app Remote.
author: florianbagarmicrosoft
ms.author: flbagar
ms.date: 12/01/2020
ms.topic: article
keywords: HoloLens, comunicazione remota, comunicazione remota olografica, auricolare realtà mista, cuffia a realtà mista di Windows, auricolare della realtà virtuale, sicurezza, autenticazione, da server a client
ms.openlocfilehash: 0881238bfca199958802598a3e1829a9de0d8e5b
ms.sourcegitcommit: 2329db5a76dfe1b844e21291dbc8ee3888ed1b81
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "98006481"
---
# <a name="enabling-connection-security-for-holographic-remoting"></a><span data-ttu-id="8342e-104">Abilitazione della sicurezza della connessione per la comunicazione remota olografica</span><span class="sxs-lookup"><span data-stu-id="8342e-104">Enabling connection security for Holographic Remoting</span></span>

>[!IMPORTANT]
><span data-ttu-id="8342e-105">Queste linee guida sono specifiche per la comunicazione remota olografica in HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="8342e-105">This guidance is specific to Holographic Remoting on HoloLens 2.</span></span>

<span data-ttu-id="8342e-106">Questa pagina offre una panoramica della sicurezza di rete per la comunicazione remota olografica.</span><span class="sxs-lookup"><span data-stu-id="8342e-106">This page gives you an overview of network security for Holographic Remoting.</span></span> <span data-ttu-id="8342e-107">Sono disponibili informazioni su</span><span class="sxs-lookup"><span data-stu-id="8342e-107">You'll find information about</span></span>

* <span data-ttu-id="8342e-108">sicurezza nel contesto di comunicazione remota olografica e perché potrebbe essere necessaria</span><span class="sxs-lookup"><span data-stu-id="8342e-108">security in the context of Holographic Remoting and why you might need it</span></span>
* <span data-ttu-id="8342e-109">misure consigliate basate su diversi casi di utilizzo</span><span class="sxs-lookup"><span data-stu-id="8342e-109">recommended measures based on different use cases</span></span>
* <span data-ttu-id="8342e-110">implementazione della sicurezza nella soluzione di comunicazione remota olografica</span><span class="sxs-lookup"><span data-stu-id="8342e-110">implementing security in your Holographic Remoting solution</span></span>

## <a name="holographic-remoting-security"></a><span data-ttu-id="8342e-111">Sicurezza della comunicazione remota olografica</span><span class="sxs-lookup"><span data-stu-id="8342e-111">Holographic Remoting security</span></span>

<span data-ttu-id="8342e-112">La comunicazione remota olografica scambia informazioni in una rete.</span><span class="sxs-lookup"><span data-stu-id="8342e-112">Holographic Remoting exchanges information over a network.</span></span> <span data-ttu-id="8342e-113">Se non sono presenti misure di sicurezza, gli avversari nella stessa rete potrebbero compromettere l'integrità della comunicazione o accedere a informazioni riservate.</span><span class="sxs-lookup"><span data-stu-id="8342e-113">If no security measures are in place, adversaries on the same network may compromise the integrity of the communication or access confidential information.</span></span>

<span data-ttu-id="8342e-114">Le app di esempio e il lettore di comunicazione remota olografica in Windows Store sono con sicurezza disabilitata.</span><span class="sxs-lookup"><span data-stu-id="8342e-114">The sample apps and the Holographic Remoting Player in the Windows Store come with security disabled.</span></span> <span data-ttu-id="8342e-115">Questa operazione rende gli esempi più facili da comprendere.</span><span class="sxs-lookup"><span data-stu-id="8342e-115">Doing so makes the samples easier to understand.</span></span> <span data-ttu-id="8342e-116">Consente inoltre di iniziare più rapidamente con lo sviluppo.</span><span class="sxs-lookup"><span data-stu-id="8342e-116">It also helps you to get started more quickly with development.</span></span>

<span data-ttu-id="8342e-117">Per il test dei campi o la produzione, si consiglia vivamente di abilitare la sicurezza nella soluzione di comunicazione remota olografica.</span><span class="sxs-lookup"><span data-stu-id="8342e-117">For field testing or production, we strongly recommend enabling security in your Holographic Remoting solution.</span></span>

<span data-ttu-id="8342e-118">Sicurezza nella comunicazione remota olografica, quando è configurata correttamente per il caso d'uso, offre le seguenti garanzie:</span><span class="sxs-lookup"><span data-stu-id="8342e-118">Security in Holographic Remoting, when set up correctly for your use case, gives you the following guarantees:</span></span>

* <span data-ttu-id="8342e-119">**Autenticità:** sia il lettore che l'app remota possono essere sicuri che l'altro lato sia quello che attestano</span><span class="sxs-lookup"><span data-stu-id="8342e-119">**Authenticity:** both player and remote app can be sure the other side is who they claim to be</span></span>
* <span data-ttu-id="8342e-120">**Riservatezza:** nessuna parte di terze parti può leggere le informazioni scambiate tra il lettore e l'app remota</span><span class="sxs-lookup"><span data-stu-id="8342e-120">**Confidentiality:** no third party can read the information exchanged between player and remote app</span></span>
* <span data-ttu-id="8342e-121">**Integrità:** il lettore e il computer remoto possono rilevare eventuali modifiche in transito alla comunicazione</span><span class="sxs-lookup"><span data-stu-id="8342e-121">**Integrity:** player and remote can detect any in-transit changes to their communication</span></span>

>[!IMPORTANT]
><span data-ttu-id="8342e-122">Per poter usare le funzionalità di sicurezza, è necessario implementare sia un [lettore personalizzato](holographic-remoting-create-player.md) che un'app remota personalizzata usando le API [OpenXR](holographic-remoting-create-remote-openxr.md) o di [realtà mista di Windows](holographic-remoting-create-remote-wmr.md) .</span><span class="sxs-lookup"><span data-stu-id="8342e-122">To be able to use security features, you will need to implement both a [custom player](holographic-remoting-create-player.md) and a custom remote app using either [Windows Mixed Reality](holographic-remoting-create-remote-wmr.md) or [OpenXR](holographic-remoting-create-remote-openxr.md) APIs.</span></span>

>[!NOTE]
> <span data-ttu-id="8342e-123">A partire dalla versione [2.4.0](holographic-remoting-version-history.md#v2.4.0) è possibile creare app Remote con l' [API OpenXR](../native/openxr.md) .</span><span class="sxs-lookup"><span data-stu-id="8342e-123">Starting with version [2.4.0](holographic-remoting-version-history.md#v2.4.0) remote apps using the [OpenXR API](../native/openxr.md) can be created.</span></span> <span data-ttu-id="8342e-124">Una panoramica su come stabilire una connessione sicura in un ambiente OpenXR è disponibile di [seguito](#secure-connection-using-the-openxr-api).</span><span class="sxs-lookup"><span data-stu-id="8342e-124">An overview on how to establish a secure connection in an OpenXR environment can be found [below](#secure-connection-using-the-openxr-api).</span></span>

## <a name="planning-the-security-implementation"></a><span data-ttu-id="8342e-125">Pianificazione dell'implementazione della sicurezza</span><span class="sxs-lookup"><span data-stu-id="8342e-125">Planning the security implementation</span></span>

<span data-ttu-id="8342e-126">Quando si Abilita la sicurezza nella comunicazione remota olografica, la libreria .NET Remoting Abilita automaticamente la crittografia e i controlli di integrità per tutti i dati scambiati sulla rete.</span><span class="sxs-lookup"><span data-stu-id="8342e-126">When you enable security in Holographic Remoting, the remoting library will automatically enable encryption and integrity checks for all data exchanged over the network.</span></span>

<span data-ttu-id="8342e-127">Per garantire che l'autenticazione appropriata richieda comunque alcune operazioni aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="8342e-127">Ensuring proper authentication requires some extra work though.</span></span> <span data-ttu-id="8342e-128">Ciò che è necessario fare dipende dal caso d'uso e la parte restante di questa sezione consiste nel comprendere i passaggi necessari.</span><span class="sxs-lookup"><span data-stu-id="8342e-128">What exactly you need to do depends on your use case, and the rest of this section is about figuring out the necessary steps.</span></span>

>[!IMPORTANT]
> <span data-ttu-id="8342e-129">Questo articolo può fornire solo indicazioni generali.</span><span class="sxs-lookup"><span data-stu-id="8342e-129">This article can only provide general guidance.</span></span> <span data-ttu-id="8342e-130">Se non si è certi, è consigliabile consultare un esperto di sicurezza che possa fornire indicazioni specifiche per il caso d'uso.</span><span class="sxs-lookup"><span data-stu-id="8342e-130">If you feel unsure, consider consulting a security expert that can give you guidance specific to your use case.</span></span>

<span data-ttu-id="8342e-131">Prima di tutto la terminologia: quando si descrivono le connessioni di rete, verranno usati i termini _client_ e _Server_ .</span><span class="sxs-lookup"><span data-stu-id="8342e-131">First some terminology: when describing network connections, the terms _client_ and _server_ will be used.</span></span> <span data-ttu-id="8342e-132">Il server è il lato in ascolto delle connessioni in ingresso su un indirizzo endpoint noto e il client è quello che si connette all'endpoint del server.</span><span class="sxs-lookup"><span data-stu-id="8342e-132">The server is the side listening for incoming connections on a known endpoint address, and the client is the one connecting to the server's endpoint.</span></span>

>[!NOTE]
> <span data-ttu-id="8342e-133">I ruoli client e server non sono collegati a se un'app funge da lettore o come remoto.</span><span class="sxs-lookup"><span data-stu-id="8342e-133">The client and and server roles are not tied to whether an app is acting as a player or as a remote.</span></span> <span data-ttu-id="8342e-134">Mentre gli esempi hanno il lettore nel ruolo del server, è facile invertire i ruoli se si adatta meglio al caso d'uso.</span><span class="sxs-lookup"><span data-stu-id="8342e-134">While the samples have the player in the server role, it's easy to reverse the roles if it better fits your use case.</span></span>

### <a name="planning-the-server-to-client-authentication"></a><span data-ttu-id="8342e-135">Pianificazione dell'autenticazione da server a client</span><span class="sxs-lookup"><span data-stu-id="8342e-135">Planning the server-to-client authentication</span></span>

<span data-ttu-id="8342e-136">Il server utilizza certificati digitali per dimostrare la propria identità al client.</span><span class="sxs-lookup"><span data-stu-id="8342e-136">The server uses digital certificates to prove its identity to the client.</span></span> <span data-ttu-id="8342e-137">Il client convalida il certificato del server durante la fase di handshake della connessione.</span><span class="sxs-lookup"><span data-stu-id="8342e-137">The client validates the server's certificate during the connection handshake phase.</span></span> <span data-ttu-id="8342e-138">Se il client non considera attendibile il server, la connessione verrà terminata a questo punto.</span><span class="sxs-lookup"><span data-stu-id="8342e-138">If the client doesn't trust the server, it will end the connection at this point.</span></span>

<span data-ttu-id="8342e-139">Il modo in cui il client convalida il certificato del server e i tipi di certificati del server possono essere utilizzati, a seconda del caso d'uso.</span><span class="sxs-lookup"><span data-stu-id="8342e-139">How the client validates the server certificate, and what kinds of server certificates can be used, depends on your use case.</span></span>

<span data-ttu-id="8342e-140">**Caso d'uso 1:** Il nome host del server non è fisso oppure il server non è risolto dal nome host.</span><span class="sxs-lookup"><span data-stu-id="8342e-140">**Use case 1:** The server hostname isn't fixed, or the server isn't addressed by host name at all.</span></span>

<span data-ttu-id="8342e-141">In questo caso d'uso, non è pratico (o addirittura possibile) emettere un certificato per il nome host del server.</span><span class="sxs-lookup"><span data-stu-id="8342e-141">In this use case, it isn't practical (or even possible) to issue a certificate for the server's host name.</span></span> <span data-ttu-id="8342e-142">Si consiglia di convalidare invece l'identificazione personale del certificato.</span><span class="sxs-lookup"><span data-stu-id="8342e-142">We recommendation you validate the certificate's thumbprint instead.</span></span> <span data-ttu-id="8342e-143">Analogamente a un'impronta digitale umana, l'identificazione personale identifica in modo univoco un certificato.</span><span class="sxs-lookup"><span data-stu-id="8342e-143">Like a human fingerprint, the thumbprint uniquely identifies a certificate.</span></span>

<span data-ttu-id="8342e-144">È importante comunicare l'identificazione personale al client fuori banda.</span><span class="sxs-lookup"><span data-stu-id="8342e-144">It's important to communicate the thumbprint to the client out-of-band.</span></span> <span data-ttu-id="8342e-145">Ciò significa che non è possibile inviarlo tramite la stessa connessione di rete usata per la comunicazione remota.</span><span class="sxs-lookup"><span data-stu-id="8342e-145">That means, you can't send it over the same network connection that's used for remoting.</span></span> <span data-ttu-id="8342e-146">È invece possibile immetterlo manualmente nella configurazione del client o fare in modo che il client analizzi un codice a matrice.</span><span class="sxs-lookup"><span data-stu-id="8342e-146">Instead, you could manually enter it into the client's configuration, or to have the client scan a QR code.</span></span>

<span data-ttu-id="8342e-147">**Caso d'uso 2:** Il server può essere raggiunto tramite un nome host stabile.</span><span class="sxs-lookup"><span data-stu-id="8342e-147">**Use case 2:** The server can be reached over a stable host name.</span></span>

<span data-ttu-id="8342e-148">In questo caso di utilizzo, il server dispone di un nome host specifico e si è certi che questo nome non cambierà.</span><span class="sxs-lookup"><span data-stu-id="8342e-148">In this use case, the server has a specific host name, and you know this name isn't likely to change.</span></span> <span data-ttu-id="8342e-149">È quindi possibile usare un certificato emesso per il nome host del server.</span><span class="sxs-lookup"><span data-stu-id="8342e-149">You can then use a certificate issued to the server's host name.</span></span> <span data-ttu-id="8342e-150">La relazione di trust verrà stabilita in base al nome host e alla catena di certificati del certificato.</span><span class="sxs-lookup"><span data-stu-id="8342e-150">Trust will be established based on the host name and the certificate's chain of trust.</span></span>

<span data-ttu-id="8342e-151">Se si sceglie questa opzione, il client deve verificare in anticipo il nome host del server e il certificato radice.</span><span class="sxs-lookup"><span data-stu-id="8342e-151">If you choose this option, the client needs to know the server's host name and the root certificate in advance.</span></span>

### <a name="planning-the-client-to-server-authentication"></a><span data-ttu-id="8342e-152">Pianificazione dell'autenticazione da client a server</span><span class="sxs-lookup"><span data-stu-id="8342e-152">Planning the client-to-server authentication</span></span>

<span data-ttu-id="8342e-153">I client eseguono l'autenticazione nel server usando un token in formato libero.</span><span class="sxs-lookup"><span data-stu-id="8342e-153">Clients authenticate against the server using a free-form token.</span></span> <span data-ttu-id="8342e-154">Ciò che questo token deve contenere dipenderà da un caso d'uso:</span><span class="sxs-lookup"><span data-stu-id="8342e-154">What this token should contain will again depend on your use case:</span></span>

<span data-ttu-id="8342e-155">**Caso d'uso 1:** È sufficiente verificare l'identità dell'app client.</span><span class="sxs-lookup"><span data-stu-id="8342e-155">**Use case 1:** You only need to verify the client app's identity.</span></span>

<span data-ttu-id="8342e-156">In questo caso di utilizzo, un segreto condiviso può essere sufficiente.</span><span class="sxs-lookup"><span data-stu-id="8342e-156">In this use case, a shared secret can be sufficient.</span></span> <span data-ttu-id="8342e-157">Questo segreto deve essere sufficientemente complesso da non poter essere indovinato.</span><span class="sxs-lookup"><span data-stu-id="8342e-157">This secret must be complex enough that it can't be guessed.</span></span>

<span data-ttu-id="8342e-158">Un segreto condiviso valido è un GUID casuale, che viene immesso manualmente nella configurazione del server e del client.</span><span class="sxs-lookup"><span data-stu-id="8342e-158">A good shared secret is a random GUID, which is manually entered in both the server's and client's configuration.</span></span> <span data-ttu-id="8342e-159">Per crearne uno è possibile, ad esempio, usare il `New-Guid` comando in PowerShell.</span><span class="sxs-lookup"><span data-stu-id="8342e-159">To create one you can, for example, use the `New-Guid` command in PowerShell.</span></span>

<span data-ttu-id="8342e-160">Verificare che il segreto condiviso non venga mai comunicato su canali non sicuri.</span><span class="sxs-lookup"><span data-stu-id="8342e-160">Make sure this shared secret is never communicated over insecure channels.</span></span> <span data-ttu-id="8342e-161">La libreria .NET Remoting garantisce che il segreto condiviso venga sempre inviato crittografato e solo ai peer attendibili.</span><span class="sxs-lookup"><span data-stu-id="8342e-161">The remoting library ensures that the shared secret is always sent encrypted, and only to trusted peers.</span></span>

<span data-ttu-id="8342e-162">**Caso d'uso 2:** È anche necessario verificare l'identità dell'utente dell'app client.</span><span class="sxs-lookup"><span data-stu-id="8342e-162">**Use case 2:** You also need to verify the identity of the client app's user.</span></span>

<span data-ttu-id="8342e-163">Un segreto condiviso non sarà sufficiente per coprire il caso d'uso.</span><span class="sxs-lookup"><span data-stu-id="8342e-163">A shared secret won't be enough to cover this use case.</span></span> <span data-ttu-id="8342e-164">È invece possibile usare i token creati da un provider di identità.</span><span class="sxs-lookup"><span data-stu-id="8342e-164">Instead, you can use tokens created by an identity provider.</span></span> <span data-ttu-id="8342e-165">Un flusso di lavoro di autenticazione che usa un provider di identità avrà un aspetto simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="8342e-165">An authentication workflow using an identity provider would look like this:</span></span>

* <span data-ttu-id="8342e-166">Il client autorizza il provider di identità e richiede un token</span><span class="sxs-lookup"><span data-stu-id="8342e-166">The client authorizes against the identity provider and requests a token</span></span>
* <span data-ttu-id="8342e-167">Il provider di identità genera un token e lo invia al client</span><span class="sxs-lookup"><span data-stu-id="8342e-167">The identity provider generates a token and sends it to the client</span></span>
* <span data-ttu-id="8342e-168">Il client invia questo token al server tramite la comunicazione remota olografica</span><span class="sxs-lookup"><span data-stu-id="8342e-168">The client sends this token to the server through Holographic Remoting</span></span>
* <span data-ttu-id="8342e-169">Il server convalida il token del client rispetto al provider di identità</span><span class="sxs-lookup"><span data-stu-id="8342e-169">The server validates the client's token against the identity provider</span></span>

<span data-ttu-id="8342e-170">Un esempio di provider di identità è la [piattaforma di identità Microsoft](https://docs.microsoft.com/azure/active-directory/develop/).</span><span class="sxs-lookup"><span data-stu-id="8342e-170">One example of an identity provider is the [Microsoft identity platform](https://docs.microsoft.com/azure/active-directory/develop/).</span></span>

<span data-ttu-id="8342e-171">Come nel caso di utilizzo precedente, assicurarsi che questi token non vengano inviati tramite canali non protetti o altrimenti esposti.</span><span class="sxs-lookup"><span data-stu-id="8342e-171">Like in the previous use case, make sure these tokens aren't sent through insecure channels or otherwise exposed.</span></span>

## <a name="implementing-holographic-remoting-security"></a><span data-ttu-id="8342e-172">Implementazione della sicurezza di comunicazione remota olografica</span><span class="sxs-lookup"><span data-stu-id="8342e-172">Implementing holographic remoting security</span></span>

<span data-ttu-id="8342e-173">Tenere presente che è necessario implementare app Remote e Player personalizzate se si vuole abilitare la sicurezza della connessione.</span><span class="sxs-lookup"><span data-stu-id="8342e-173">Remember that you need to implement custom remote and player apps if you want to enable connection security.</span></span> <span data-ttu-id="8342e-174">È possibile usare gli esempi forniti come punti di partenza per le proprie app.</span><span class="sxs-lookup"><span data-stu-id="8342e-174">You can use the provided samples as starting points for your own apps.</span></span>

<span data-ttu-id="8342e-175">Per abilitare la sicurezza, chiamare `ListenSecure()` anziché `Listen()` e `ConnectSecure()` anziché `Connect()` per stabilire la connessione remota.</span><span class="sxs-lookup"><span data-stu-id="8342e-175">To enable security, call `ListenSecure()` instead of `Listen()`, and `ConnectSecure()` instead of `Connect()` to establish the remoting connection.</span></span>

<span data-ttu-id="8342e-176">Per queste chiamate è necessario fornire implementazioni di determinate interfacce per fornire e convalidare le informazioni relative alla sicurezza:</span><span class="sxs-lookup"><span data-stu-id="8342e-176">These calls require you to provide implementations of certain interfaces for providing and validating security-related information:</span></span>

* <span data-ttu-id="8342e-177">Il server deve implementare un provider di certificati e un validator di autenticazione</span><span class="sxs-lookup"><span data-stu-id="8342e-177">The server needs to implement a certificate provider and an authentication validator</span></span>
* <span data-ttu-id="8342e-178">Il client deve implementare un provider di autenticazione e un validator del certificato.</span><span class="sxs-lookup"><span data-stu-id="8342e-178">The client needs to implement an authentication provider and a certificate validator.</span></span>

<span data-ttu-id="8342e-179">Tutte le interfacce dispongono di una funzione che richiede di eseguire un'azione, che riceve un oggetto callback come parametro.</span><span class="sxs-lookup"><span data-stu-id="8342e-179">All interfaces have a function requesting you to take action, which receives a callback object as parameter.</span></span> <span data-ttu-id="8342e-180">Utilizzando questo oggetto, è possibile implementare facilmente la gestione asincrona della richiesta.</span><span class="sxs-lookup"><span data-stu-id="8342e-180">Using this object, you can easily implement asynchronous handling of the request.</span></span> <span data-ttu-id="8342e-181">Mantiene un riferimento a questo oggetto e chiama la funzione di completamento quando l'azione asincrona è completa.</span><span class="sxs-lookup"><span data-stu-id="8342e-181">Keep a reference to this object, and call the completion function when the asynchronous action is complete.</span></span> <span data-ttu-id="8342e-182">La funzione di completamento può essere chiamata da qualsiasi thread.</span><span class="sxs-lookup"><span data-stu-id="8342e-182">The completion function may be called from any thread.</span></span>

>[!TIP]
><span data-ttu-id="8342e-183">L'implementazione di interfacce WinRT può essere eseguita facilmente con C++/WinRT.</span><span class="sxs-lookup"><span data-stu-id="8342e-183">Implementing WinRT interfaces can easily be done using C++/WinRT.</span></span> <span data-ttu-id="8342e-184">Il capitolo [API autore con C++/WinRT](https://docs.microsoft.com//windows/uwp/cpp-and-winrt-apis/author-apis) descrive in modo dettagliato questo aspetto.</span><span class="sxs-lookup"><span data-stu-id="8342e-184">The [Author APIs with C++/WinRT](https://docs.microsoft.com//windows/uwp/cpp-and-winrt-apis/author-apis) chapter describes this in detail.</span></span>

>[!IMPORTANT]
><span data-ttu-id="8342e-185">Il contenuto del `build\native\include\HolographicAppRemoting\Microsoft.Holographic.AppRemoting.idl` pacchetto NuGet contiene la documentazione dettagliata per l'API relativa alle connessioni protette.</span><span class="sxs-lookup"><span data-stu-id="8342e-185">The `build\native\include\HolographicAppRemoting\Microsoft.Holographic.AppRemoting.idl` inside the NuGet package contains detailed documentation for the API related to secure connections.</span></span>

### <a name="implementing-a-certificate-provider"></a><span data-ttu-id="8342e-186">Implementazione di un provider di certificati</span><span class="sxs-lookup"><span data-stu-id="8342e-186">Implementing a certificate provider</span></span>

<span data-ttu-id="8342e-187">I provider di certificati forniscono all'applicazione server il certificato da utilizzare.</span><span class="sxs-lookup"><span data-stu-id="8342e-187">Certificate providers supply the server application with the certificate to use.</span></span> <span data-ttu-id="8342e-188">L'implementazione di è costituita da due parti:</span><span class="sxs-lookup"><span data-stu-id="8342e-188">The implementation consists of two parts:</span></span>

1) <span data-ttu-id="8342e-189">Oggetto Certificate, che implementa l' `ICertificate` interfaccia:</span><span class="sxs-lookup"><span data-stu-id="8342e-189">A certificate object, which implements the `ICertificate` interface:</span></span>

    * <span data-ttu-id="8342e-190">`GetCertificatePfx()` deve restituire il contenuto binario di un `PKCS#12` archivio certificati.</span><span class="sxs-lookup"><span data-stu-id="8342e-190">`GetCertificatePfx()` should return the binary contents of a `PKCS#12` certificate store.</span></span> <span data-ttu-id="8342e-191">Un `.pfx` file contiene `PKCS#12` dati, quindi il relativo contenuto può essere usato direttamente qui.</span><span class="sxs-lookup"><span data-stu-id="8342e-191">A `.pfx` file contains `PKCS#12` data, so its contents can be used directly here.</span></span>
    * <span data-ttu-id="8342e-192">`GetSubjectName()` deve restituire il nome descrittivo che identifica il certificato da utilizzare.</span><span class="sxs-lookup"><span data-stu-id="8342e-192">`GetSubjectName()` should return the friendly name that identifies the certificate to use.</span></span> <span data-ttu-id="8342e-193">Se al certificato non è assegnato alcun nome descrittivo, questa funzione deve restituire il nome del soggetto del certificato.</span><span class="sxs-lookup"><span data-stu-id="8342e-193">If no friendly name is assigned to the certificate, this function should return the certificate's subject name.</span></span>
    * <span data-ttu-id="8342e-194">`GetPfxPassword()` deve restituire la password necessaria per aprire l'archivio certificati o una stringa vuota se non è necessaria alcuna password.</span><span class="sxs-lookup"><span data-stu-id="8342e-194">`GetPfxPassword()` should return the password required to open the certificate store (or an empty string if no password is required).</span></span>

2) <span data-ttu-id="8342e-195">Un provider di certificati che implementa l' `ICertificateProvider` interfaccia:</span><span class="sxs-lookup"><span data-stu-id="8342e-195">A certificate provider implementing the `ICertificateProvider` interface:</span></span>
    * <span data-ttu-id="8342e-196">`GetCertificate()` deve costruire un oggetto certificato e restituirlo chiamando `CertificateReceived()` sull'oggetto callback.</span><span class="sxs-lookup"><span data-stu-id="8342e-196">`GetCertificate()` should construct a certificate object and return it by calling `CertificateReceived()` on the callback object.</span></span>

### <a name="implementing-an-authentication-validator"></a><span data-ttu-id="8342e-197">Implementazione di un validator di autenticazione</span><span class="sxs-lookup"><span data-stu-id="8342e-197">Implementing an authentication validator</span></span>

<span data-ttu-id="8342e-198">I validator di autenticazione ricevono il token di autenticazione inviato dal client e rispondono con il risultato della convalida.</span><span class="sxs-lookup"><span data-stu-id="8342e-198">Authentication validators receive the authentication token sent by the client, and answer back with the validation result.</span></span>

<span data-ttu-id="8342e-199">Implementare l' `IAuthenticationReceiver` interfaccia come segue:</span><span class="sxs-lookup"><span data-stu-id="8342e-199">Implement the `IAuthenticationReceiver` interface as follows:</span></span>

* <span data-ttu-id="8342e-200">`GetRealm()` deve restituire il nome dell'area di autenticazione (area di autenticazione HTTP utilizzata durante l'handshake della connessione remota).</span><span class="sxs-lookup"><span data-stu-id="8342e-200">`GetRealm()` should return the name of the authentication realm (an HTTP realm  used during the remoting connection handshake).</span></span>
* <span data-ttu-id="8342e-201">`ValidateToken()` deve convalidare il token di autenticazione client e chiamare `ValidationCompleted()` sull'oggetto callback con il risultato della convalida.</span><span class="sxs-lookup"><span data-stu-id="8342e-201">`ValidateToken()` should validate the client authentication token and call `ValidationCompleted()` on the callback object with the validation result.</span></span>

### <a name="implementing-an-authentication-provider"></a><span data-ttu-id="8342e-202">Implementazione di un provider di autenticazione</span><span class="sxs-lookup"><span data-stu-id="8342e-202">Implementing an authentication provider</span></span>

<span data-ttu-id="8342e-203">I provider di autenticazione generano o recuperano il token di autenticazione da inviare al server.</span><span class="sxs-lookup"><span data-stu-id="8342e-203">Authentication providers generate or retrieve the authentication token to be sent to the server.</span></span>

<span data-ttu-id="8342e-204">Implementare l' `IAuthenticationProvider` interfaccia come segue:</span><span class="sxs-lookup"><span data-stu-id="8342e-204">Implement the `IAuthenticationProvider` interface as follows:</span></span>

* <span data-ttu-id="8342e-205">`GetToken()` deve generare o recuperare il token di autenticazione da inviare.</span><span class="sxs-lookup"><span data-stu-id="8342e-205">`GetToken()` should generate or retrieve the authentication token to be sent.</span></span> <span data-ttu-id="8342e-206">Quando il token è pronto, chiamare il `TokenReceived()` metodo sull'oggetto callback.</span><span class="sxs-lookup"><span data-stu-id="8342e-206">Once the token is ready, call the `TokenReceived()` method on the callback object.</span></span>

### <a name="implementing-a-certificate-validator"></a><span data-ttu-id="8342e-207">Implementazione di un validator del certificato</span><span class="sxs-lookup"><span data-stu-id="8342e-207">Implementing a certificate validator</span></span>

<span data-ttu-id="8342e-208">I validator dei certificati ricevono la catena di certificati inviata dal server e determinano se il server può essere considerato attendibile.</span><span class="sxs-lookup"><span data-stu-id="8342e-208">Certificate validators receive the certificate chain sent by the server and determine whether the server can be trusted.</span></span>

<span data-ttu-id="8342e-209">Per convalidare i certificati, è possibile usare la logica di convalida del sistema sottostante.</span><span class="sxs-lookup"><span data-stu-id="8342e-209">To validate certificates, you can use the validation logic of the underlying system.</span></span> <span data-ttu-id="8342e-210">Questa convalida del sistema può supportare una logica di convalida personalizzata o sostituirla.</span><span class="sxs-lookup"><span data-stu-id="8342e-210">This system validation can either support your own validation logic, or replace it altogether.</span></span> <span data-ttu-id="8342e-211">Se non si passa il proprio validator del certificato quando si richiede una connessione protetta, la convalida del sistema verrà usata automaticamente.</span><span class="sxs-lookup"><span data-stu-id="8342e-211">If you don't pass your own certificate validator when requesting a secure connection, system validation will be used automatically.</span></span>

<span data-ttu-id="8342e-212">In Windows, la convalida del sistema verificherà quanto segue:</span><span class="sxs-lookup"><span data-stu-id="8342e-212">On Windows, the system validation will check for:</span></span>

* <span data-ttu-id="8342e-213">Integrità della catena di certificati: i certificati formano una catena coerente che termina in corrispondenza di un certificato radice attendibile</span><span class="sxs-lookup"><span data-stu-id="8342e-213">Integrity of the certificate chain: the certificates form a consistent chain that ends at a trusted root certificate</span></span>
* <span data-ttu-id="8342e-214">Validità del certificato: il certificato del server è compreso nell'intervallo di validità e viene emesso per l'autenticazione server</span><span class="sxs-lookup"><span data-stu-id="8342e-214">Certificate validity: the server's certificate is within its validity timespan, and is issued for server authentication</span></span>
* <span data-ttu-id="8342e-215">Revoca: il certificato non è stato revocato</span><span class="sxs-lookup"><span data-stu-id="8342e-215">Revocation: The certificate hasn't been revoked</span></span>
* <span data-ttu-id="8342e-216">Nome corrispondenza: il nome host del server corrisponde a uno dei nomi host per i quali è stato emesso il certificato</span><span class="sxs-lookup"><span data-stu-id="8342e-216">Name match: The host name of the server matches one of the host names the certificate was issued for</span></span>

<span data-ttu-id="8342e-217">Implementare l' `ICertificateValidator` interfaccia come segue:</span><span class="sxs-lookup"><span data-stu-id="8342e-217">Implement the `ICertificateValidator` interface as follows:</span></span>

 * <span data-ttu-id="8342e-218">`PerformSystemValidation()` deve restituire `true` se deve essere eseguita una convalida del sistema come descritto in precedenza.</span><span class="sxs-lookup"><span data-stu-id="8342e-218">`PerformSystemValidation()` should return `true` if a system validation as described above should be performed.</span></span> <span data-ttu-id="8342e-219">In questo caso, il risultato della convalida del sistema viene passato come input al `ValidateCertificate()` metodo.</span><span class="sxs-lookup"><span data-stu-id="8342e-219">In this case, the system validation result is passed as an input to the `ValidateCertificate()` method.</span></span>
* <span data-ttu-id="8342e-220">`ValidateCertificate()` deve convalidare la catena di certificati e quindi chiamare `CertificateValidated()` sul callback passato con il risultato di convalida finale.</span><span class="sxs-lookup"><span data-stu-id="8342e-220">`ValidateCertificate()` should validate the certificate chain and then call `CertificateValidated()` on the passed callback with the final validation result.</span></span> <span data-ttu-id="8342e-221">Questo metodo accetta la catena di certificati, il nome del server con cui viene stabilita la connessione e il fatto che sia necessario forzare un controllo di revoca.</span><span class="sxs-lookup"><span data-stu-id="8342e-221">This method accepts the certificate chain, the name of the server the connection is being established with, and whether a revocation check should be forced.</span></span> <span data-ttu-id="8342e-222">Se la catena di certificati contiene più certificati, il primo è il certificato soggetto.</span><span class="sxs-lookup"><span data-stu-id="8342e-222">If the certificate chain contains multiple certificates, the first one is the subject certificate.</span></span>

>[!NOTE]
><span data-ttu-id="8342e-223">Se il caso d'uso richiede una forma diversa di convalida (vedere il caso d'uso del certificato #1 sopra), ignorare completamente la convalida del sistema.</span><span class="sxs-lookup"><span data-stu-id="8342e-223">If your use case requires a different form of validation (see certificate use case #1 above), bypass system validation entirely.</span></span> <span data-ttu-id="8342e-224">Usare invece qualsiasi API o libreria in grado di gestire i certificati X. 509 con codifica DER per decodificare la catena di certificati ed eseguire i controlli necessari per il caso d'uso.</span><span class="sxs-lookup"><span data-stu-id="8342e-224">Instead, use any API or library that can handle DER-encoded X.509 certificates to decode the certificate chain and perform the checks needed for your use case.</span></span>

## <a name="secure-connection-using-the-openxr-api"></a><span data-ttu-id="8342e-225">Connessione sicura tramite l'API OpenXR</span><span class="sxs-lookup"><span data-stu-id="8342e-225">Secure connection using the OpenXR API</span></span>

<span data-ttu-id="8342e-226">Quando si usa l' [API OpenXR](../native/openxr.md) , tutte le API correlate alla connessione sicura sono disponibili come parte dell' `XR_MSFT_holographic_remoting` estensione OpenXR.</span><span class="sxs-lookup"><span data-stu-id="8342e-226">When using the [OpenXR API](../native/openxr.md) all secure connection-related API is available as part of the `XR_MSFT_holographic_remoting` OpenXR extension.</span></span>

>[!IMPORTANT]
><span data-ttu-id="8342e-227">Per informazioni sull'API dell'estensione OpenXR per la comunicazione remota olografica, vedere la [specifica](https://htmlpreview.github.io/?https://github.com/microsoft/MixedReality-HolographicRemoting-Samples/blob/master/remote_openxr/specification.html) che si trova nel [repository GitHub degli esempi di comunicazione remota olografica](https://github.com/microsoft/MixedReality-HolographicRemoting-Samples).</span><span class="sxs-lookup"><span data-stu-id="8342e-227">To learn about the Holographic Remoting OpenXR extension API, check out the [specification](https://htmlpreview.github.io/?https://github.com/microsoft/MixedReality-HolographicRemoting-Samples/blob/master/remote_openxr/specification.html) which can be found in the [Holographic Remoting samples github repository](https://github.com/microsoft/MixedReality-HolographicRemoting-Samples).</span></span>

<span data-ttu-id="8342e-228">Gli elementi chiave per la connessione sicura mediante l' `XR_MSFT_holographic_remoting` estensione OpenXR sono i callback seguenti.</span><span class="sxs-lookup"><span data-stu-id="8342e-228">The key elements for secure connection using the `XR_MSFT_holographic_remoting` OpenXR extension are the following callbacks.</span></span>
- <span data-ttu-id="8342e-229">`xrRemotingRequestAuthenticationTokenCallbackMSFT`, genera o Recupera il token di autenticazione da inviare.</span><span class="sxs-lookup"><span data-stu-id="8342e-229">`xrRemotingRequestAuthenticationTokenCallbackMSFT`, generates, or retrieves the authentication token to be sent.</span></span>
- <span data-ttu-id="8342e-230">`xrRemotingValidateServerCertificateCallbackMSFT`, convalida la catena di certificati.</span><span class="sxs-lookup"><span data-stu-id="8342e-230">`xrRemotingValidateServerCertificateCallbackMSFT`, validates the certificate chain.</span></span>
- <span data-ttu-id="8342e-231">`xrRemotingValidateAuthenticationTokenCallbackMSFT`, convalida il token di autenticazione del client.</span><span class="sxs-lookup"><span data-stu-id="8342e-231">`xrRemotingValidateAuthenticationTokenCallbackMSFT`, validates the client authentication token.</span></span>
- <span data-ttu-id="8342e-232">`xrRemotingRequestServerCertificateCallbackMSFT`, fornire l'applicazione server con il certificato da utilizzare.</span><span class="sxs-lookup"><span data-stu-id="8342e-232">`xrRemotingRequestServerCertificateCallbackMSFT`, supply the server application with the certificate to use.</span></span>

<span data-ttu-id="8342e-233">Questi callback possono essere forniti al runtime OpenXR di comunicazione remota tramite `xrRemotingSetSecureConnectionClientCallbacksMSFT` e `xrRemotingSetSecureConnectionServerCallbacksMSFT` .</span><span class="sxs-lookup"><span data-stu-id="8342e-233">These callbacks can be provided to the remoting OpenXR runtime via `xrRemotingSetSecureConnectionClientCallbacksMSFT` and `xrRemotingSetSecureConnectionServerCallbacksMSFT`.</span></span> <span data-ttu-id="8342e-234">Inoltre, la connessione protetta deve essere abilitata tramite il parametro secureConnection nella `XrRemotingConnectInfoMSFT` struttura o la `XrRemotingListenInfoMSFT` struttura a seconda che si stia usando `xrRemotingConnectMSFT` o `xrRemotingListenMSFT` .</span><span class="sxs-lookup"><span data-stu-id="8342e-234">Additionally, the secure connection needs to be enabled via the secureConnection parameter on the `XrRemotingConnectInfoMSFT` structure or the `XrRemotingListenInfoMSFT` structure depending on whether you're using `xrRemotingConnectMSFT` or `xrRemotingListenMSFT`.</span></span>

<span data-ttu-id="8342e-235">Questa API è simile all'API basata su IDL descritta in [implementazione della sicurezza della comunicazione remota olografica](#implementing-holographic-remoting-security).</span><span class="sxs-lookup"><span data-stu-id="8342e-235">This API is similar to the IDL-based API described in [Implementing holographic remoting security](#implementing-holographic-remoting-security).</span></span> <span data-ttu-id="8342e-236">Tuttavia, invece di implementare le interfacce, si dovrebbe fornire implementazioni di callback.</span><span class="sxs-lookup"><span data-stu-id="8342e-236">However, instead of implementing interfaces, you're supposed to provide callback implementations.</span></span> <span data-ttu-id="8342e-237">È possibile trovare un esempio dettagliato nell' [app di esempio OpenXR](https://github.com/microsoft/MixedReality-HolographicRemoting-Samples).</span><span class="sxs-lookup"><span data-stu-id="8342e-237">You can find a detailed example in the [OpenXR sample app](https://github.com/microsoft/MixedReality-HolographicRemoting-Samples).</span></span>

## <a name="see-also"></a><span data-ttu-id="8342e-238">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="8342e-238">See Also</span></span>
* [<span data-ttu-id="8342e-239">Scrittura di un'app remota olografica remota usando le API di realtà mista di Windows</span><span class="sxs-lookup"><span data-stu-id="8342e-239">Writing a Holographic Remoting remote app using Windows Mixed Reality APIs</span></span>](holographic-remoting-create-remote-wmr.md)
* [<span data-ttu-id="8342e-240">Scrittura di un'app remota di comunicazione remota olografica usando le API di OpenXR</span><span class="sxs-lookup"><span data-stu-id="8342e-240">Writing a Holographic Remoting remote app using OpenXR APIs</span></span>](holographic-remoting-create-remote-openxr.md)
* [<span data-ttu-id="8342e-241">Scrivere un'app lettore Holographic Remoting personalizzata</span><span class="sxs-lookup"><span data-stu-id="8342e-241">Writing a custom Holographic Remoting player app</span></span>](holographic-remoting-create-player.md)
* [<span data-ttu-id="8342e-242">Limitazioni e risoluzione dei problemi di comunicazione remota olografica</span><span class="sxs-lookup"><span data-stu-id="8342e-242">Holographic Remoting troubleshooting and limitations</span></span>](holographic-remoting-troubleshooting.md)
* [<span data-ttu-id="8342e-243">Condizioni di licenza software per Holographic Remoting</span><span class="sxs-lookup"><span data-stu-id="8342e-243">Holographic Remoting software license terms</span></span>](https://docs.microsoft.com//legal/mixed-reality/microsoft-holographic-remoting-software-license-terms)
* [<span data-ttu-id="8342e-244">Informativa sulla privacy di Microsoft</span><span class="sxs-lookup"><span data-stu-id="8342e-244">Microsoft Privacy Statement</span></span>](https://go.microsoft.com/fwlink/?LinkId=521839)
