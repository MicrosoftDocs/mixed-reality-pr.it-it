---
title: Informazioni sulle prestazioni per la realtà mista
description: Informazioni e dettagli avanzati per l'ottimizzazione delle prestazioni dell'app di realtà mista di Windows.
author: hferrone
ms.author: v-hferrone
ms.date: 3/26/2019
ms.topic: article
keywords: Realtà mista di Windows, realtà mista, realtà virtuale, VR, MR, prestazioni, ottimizzazione, CPU, GPU
ms.openlocfilehash: fc7b6385acda9079a649131b9e6eccf5ac067819
ms.sourcegitcommit: c41372e0c6ca265f599bff309390982642d628b8
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 12/15/2020
ms.locfileid: "97530066"
---
# <a name="understanding-performance-for-mixed-reality"></a><span data-ttu-id="2b2d4-104">Informazioni sulle prestazioni per la realtà mista</span><span class="sxs-lookup"><span data-stu-id="2b2d4-104">Understanding performance for mixed reality</span></span>

<span data-ttu-id="2b2d4-105">Questo articolo è un'introduzione alla comprensione del significato delle prestazioni per l'app per realtà mista.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-105">This article is an introduction to understanding the significance of performance for your Mixed Reality app.</span></span>  <span data-ttu-id="2b2d4-106">L'esperienza utente può essere notevolmente degradata se l'applicazione non viene eseguita con una frequenza di fotogrammi ottimale.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-106">User experience can be greatly degraded if your application doesn't run at optimal frame rate.</span></span> <span data-ttu-id="2b2d4-107">Gli ologrammi appariranno instabile e il rilevamento delle intestazioni dell'ambiente non sarà accurato, causando una scarsa esperienza per l'utente.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-107">Holograms will appear unstable and head tracking of the environment will be inaccurate, leading to a poor experience for the user.</span></span> <span data-ttu-id="2b2d4-108">Le prestazioni devono essere considerate una funzionalità di prima classe per lo sviluppo di realtà mista e non per le attività polacche.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-108">Performance must be considered a first class feature for mixed reality development and not a polish task.</span></span>

<span data-ttu-id="2b2d4-109">Di seguito sono elencati i valori di framerate a prestazioni per ogni piattaforma di destinazione.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-109">The performant framerate values for each target platform are listed below.</span></span>

| <span data-ttu-id="2b2d4-110">Piattaforma</span><span class="sxs-lookup"><span data-stu-id="2b2d4-110">Platform</span></span> | <span data-ttu-id="2b2d4-111">Frequenza fotogrammi di destinazione</span><span class="sxs-lookup"><span data-stu-id="2b2d4-111">Target Frame Rate</span></span> |
|----------|-------------------|
| [<span data-ttu-id="2b2d4-112">HoloLens</span><span class="sxs-lookup"><span data-stu-id="2b2d4-112">HoloLens</span></span>](../../hololens-hardware-details.md) | <span data-ttu-id="2b2d4-113">60 FPS</span><span class="sxs-lookup"><span data-stu-id="2b2d4-113">60 FPS</span></span> |
| [<span data-ttu-id="2b2d4-114">Windows reality Ultra PC</span><span class="sxs-lookup"><span data-stu-id="2b2d4-114">Windows Mixed Reality Ultra PCs</span></span>](../../discover/immersive-headset-hardware-details.md) | <span data-ttu-id="2b2d4-115">90 FPS</span><span class="sxs-lookup"><span data-stu-id="2b2d4-115">90 FPS</span></span> |
| [<span data-ttu-id="2b2d4-116">PC con realtà mista di Windows</span><span class="sxs-lookup"><span data-stu-id="2b2d4-116">Windows Mixed Reality PCs</span></span>](../../discover/immersive-headset-hardware-details.md) | <span data-ttu-id="2b2d4-117">60 FPS</span><span class="sxs-lookup"><span data-stu-id="2b2d4-117">60 FPS</span></span> |

<span data-ttu-id="2b2d4-118">Il Framework seguente descrive le procedure consigliate per raggiungere le frequenze dei fotogrammi di destinazione.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-118">The framework below outlines best practices for hitting target frame rates.</span></span> <span data-ttu-id="2b2d4-119">Si consiglia di leggere l' [articolo raccomandazioni per le prestazioni per Unity](../unity/performance-recommendations-for-unity.md) per suggerimenti sulla misurazione e sul miglioramento della framerate nell'ambiente Unity.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-119">We recommend reading the [performance recommendations for Unity article](../unity/performance-recommendations-for-unity.md) for tips on measuring and improving framerate in the Unity environment.</span></span>

## <a name="understanding-performance-bottlenecks"></a><span data-ttu-id="2b2d4-120">Informazioni sui colli di bottiglia delle prestazioni</span><span class="sxs-lookup"><span data-stu-id="2b2d4-120">Understanding performance bottlenecks</span></span>

<span data-ttu-id="2b2d4-121">Se l'app ha un framerate sottoposto a sottoesecuzione, il primo passaggio consiste nell'analizzare e comprendere il modo in cui l'applicazione è a elevato utilizzo di calcolo.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-121">If your app has an underperforming framerate, the first step is to analyze and understand where your application is computationally intensive.</span></span> <span data-ttu-id="2b2d4-122">Ci sono due processori primari responsabili del lavoro per il rendering della scena: la CPU e la GPU, ognuno dei quali gestisce diversi aspetti dell'app per realtà mista.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-122">There are two primary processors responsible for the work to render your scene: the CPU and the GPU, each handling different aspects of your Mixed Reality app.</span></span> <span data-ttu-id="2b2d4-123">I tre punti chiave in cui possono verificarsi i colli di bottiglia sono:</span><span class="sxs-lookup"><span data-stu-id="2b2d4-123">The three key places where bottlenecks may occur are:</span></span> 

1. <span data-ttu-id="2b2d4-124">**Thread app-CPU** -
    Responsabile della logica dell'app, tra cui l'elaborazione di input, animazioni, fisica e altre logiche dell'app.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-124">**App Thread - CPU** -
 Responsible for your app logic, including processing input, animations, physics, and other app logic.</span></span>
2. <span data-ttu-id="2b2d4-125">**Consente di eseguire il rendering della CPU dalla CPU alla GPU** , responsabile dell'invio delle chiamate di disegnare alla GPU.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-125">**Render Thread - CPU to GPU** - Responsible for submitting your draw calls to the GPU.</span></span> <span data-ttu-id="2b2d4-126">Quando l'app vuole eseguire il rendering di un oggetto, ad esempio un cubo o un modello, questo thread invia una richiesta alla GPU per eseguire le operazioni.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-126">When your app wants to render an object such as a cube or model, this thread sends a request to the GPU to do the operations.</span></span>
3. <span data-ttu-id="2b2d4-127">**GPU** : in genere gestisce la pipeline grafica dell'applicazione per trasformare i dati 3D (modelli, trame e così via) in pixel.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-127">**GPU** - Most commonly handles the graphics pipeline of your application to transform 3D data (models, textures, and so on) into pixels.</span></span> <span data-ttu-id="2b2d4-128">Produce infine un'immagine 2D da inviare alla schermata del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-128">It ultimately produces a 2D image to submit to your device's screen.</span></span>

![Durata di un frame](images/lifetime-of-a-frame.png)

<span data-ttu-id="2b2d4-130">In genere, le applicazioni HoloLens saranno vincolate alla GPU, ma non sempre.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-130">Generally, HoloLens applications will be GPU bound, but not always.</span></span> <span data-ttu-id="2b2d4-131">Usare gli strumenti e le tecniche seguenti per capire dove si trova un collo di bottiglia per l'app specifica.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-131">Use the tools and techniques below to understand where your particular app is bottlenecked.</span></span>

## <a name="how-to-analyze-your-application"></a><span data-ttu-id="2b2d4-132">Come analizzare l'applicazione</span><span class="sxs-lookup"><span data-stu-id="2b2d4-132">How to analyze your application</span></span>

<span data-ttu-id="2b2d4-133">Sono disponibili molti strumenti che consentono di comprendere il profilo delle prestazioni e i potenziali colli di bottiglia nell'applicazione di realtà mista.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-133">There are many tools that allow you to understand the performance profile and potential bottlenecks in your mixed reality application.</span></span> 

<span data-ttu-id="2b2d4-134">Di seguito sono riportati alcuni strumenti comuni che consentono di raccogliere informazioni di profilatura approfondite per l'applicazione:</span><span class="sxs-lookup"><span data-stu-id="2b2d4-134">Below are some common tools to help you gather deep profiling information for your application:</span></span>
- [<span data-ttu-id="2b2d4-135">Analizzatori prestazioni grafica Intel</span><span class="sxs-lookup"><span data-stu-id="2b2d4-135">Intel Graphics Performance Analyzers</span></span>](https://software.intel.com/gpa)
- [<span data-ttu-id="2b2d4-136">Debugger grafica di Visual Studio</span><span class="sxs-lookup"><span data-stu-id="2b2d4-136">Visual Studio Graphics Debuggers</span></span>](https://docs.microsoft.com/visualstudio/debugger/graphics/visual-studio-graphics-diagnostics)
- [<span data-ttu-id="2b2d4-137">Profiler Unity</span><span class="sxs-lookup"><span data-stu-id="2b2d4-137">Unity Profiler</span></span>](https://docs.unity3d.com/Manual/Profiler.html)
- [<span data-ttu-id="2b2d4-138">Debugger frame Unity</span><span class="sxs-lookup"><span data-stu-id="2b2d4-138">Unity Frame Debugger</span></span>](https://docs.unity3d.com/Manual/FrameDebugger.html)

### <a name="how-to-profile-in-any-environment"></a><span data-ttu-id="2b2d4-139">Come profilare in qualsiasi ambiente</span><span class="sxs-lookup"><span data-stu-id="2b2d4-139">How to profile in any environment</span></span>

<span data-ttu-id="2b2d4-140">Un modo per determinare se l'app è associata alla GPU o alla CPU è abbassare la risoluzione dell'output della destinazione di rendering.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-140">One way to determine if your app is GPU or CPU bound is to lower the resolution of the render target output.</span></span> <span data-ttu-id="2b2d4-141">Riducendo il numero di pixel da calcolare, il carico della GPU verrà ridotto.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-141">By reducing the number of pixels to calculate, you'll reduce your GPU load.</span></span> <span data-ttu-id="2b2d4-142">Il rendering del dispositivo verrà eseguito su una trama più piccola, quindi su-Sample per visualizzare l'immagine finale.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-142">The device will render to a smaller texture, then up-sample to display your final image.</span></span>

<span data-ttu-id="2b2d4-143">Dopo la riduzione della risoluzione del rendering, se:</span><span class="sxs-lookup"><span data-stu-id="2b2d4-143">After lowering rendering resolution, if:</span></span>
1) <span data-ttu-id="2b2d4-144">Il framerate dell'applicazione **aumenta**, quindi è probabile che il **limite della GPU** sia</span><span class="sxs-lookup"><span data-stu-id="2b2d4-144">Application framerate **increases**, then you're likely **GPU Bound**</span></span>
1) <span data-ttu-id="2b2d4-145">Framerate dell'applicazione **invariato**, probabilmente il **limite della CPU**</span><span class="sxs-lookup"><span data-stu-id="2b2d4-145">Application framerate **unchanged**, then you're likely **CPU Bound**</span></span>

>[!NOTE]
><span data-ttu-id="2b2d4-146">Unity offre la possibilità di modificare facilmente la risoluzione della destinazione di rendering dell'applicazione in fase di esecuzione tramite la proprietà *[XRSettings. renderViewportScale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)* .</span><span class="sxs-lookup"><span data-stu-id="2b2d4-146">Unity provides the ability to easily modify the render target resolution of your application at runtime through the *[XRSettings.renderViewportScale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)* property.</span></span> <span data-ttu-id="2b2d4-147">La risoluzione dell'immagine finale visualizzata sul dispositivo è fissa.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-147">The final image presented on device has a fixed resolution.</span></span> <span data-ttu-id="2b2d4-148">La piattaforma campiona l'output di risoluzione inferiore per creare un'immagine di risoluzione superiore per il rendering delle visualizzazioni.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-148">The platform will sample the lower resolution output to build a higher resolution image for rendering on displays.</span></span> 
>
>```CS
>UnityEngine.XR.XRSettings.renderScale = 0.7f;
>```

## <a name="how-to-improve-your-application"></a><span data-ttu-id="2b2d4-149">Come migliorare l'applicazione</span><span class="sxs-lookup"><span data-stu-id="2b2d4-149">How to improve your application</span></span>

### <a name="cpu-performance-recommendations"></a><span data-ttu-id="2b2d4-150">Consigli sulle prestazioni della CPU</span><span class="sxs-lookup"><span data-stu-id="2b2d4-150">CPU performance recommendations</span></span>

<span data-ttu-id="2b2d4-151">In genere, la maggior parte del lavoro in un'applicazione di realtà mista sulla CPU comporta la simulazione della scena e l'elaborazione della logica dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-151">Generally, most work in a mixed reality application on the CPU involves doing the "simulation" of the scene and processing your application logic.</span></span> <span data-ttu-id="2b2d4-152">Le aree seguenti sono destinate all'ottimizzazione:</span><span class="sxs-lookup"><span data-stu-id="2b2d4-152">The following areas are targeted for optimization:</span></span>

- <span data-ttu-id="2b2d4-153">Animazioni</span><span class="sxs-lookup"><span data-stu-id="2b2d4-153">Animations</span></span>
- <span data-ttu-id="2b2d4-154">Fisica</span><span class="sxs-lookup"><span data-stu-id="2b2d4-154">Physics</span></span>
- <span data-ttu-id="2b2d4-155">Allocazioni di memoria</span><span class="sxs-lookup"><span data-stu-id="2b2d4-155">Memory allocations</span></span>
- <span data-ttu-id="2b2d4-156">Algoritmi complessi, ad esempio</span><span class="sxs-lookup"><span data-stu-id="2b2d4-156">Complex algorithms (i.e</span></span> <span data-ttu-id="2b2d4-157">cinematica inversa, ricerca di percorsi</span><span class="sxs-lookup"><span data-stu-id="2b2d4-157">inverse kinematics, path-finding)</span></span>

### <a name="gpu-performance-recommendations"></a><span data-ttu-id="2b2d4-158">Consigli sulle prestazioni della GPU</span><span class="sxs-lookup"><span data-stu-id="2b2d4-158">GPU performance recommendations</span></span>

#### <a name="understanding-bandwidth-vs-fill-rate"></a><span data-ttu-id="2b2d4-159">Informazioni sulla larghezza di banda e sulla velocità di riempimento</span><span class="sxs-lookup"><span data-stu-id="2b2d4-159">Understanding bandwidth vs. fill rate</span></span>
<span data-ttu-id="2b2d4-160">Quando si esegue il rendering di un frame sulla GPU, un'applicazione è associata a una larghezza di banda o a una velocità di riempimento della memoria.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-160">When rendering a frame on the GPU, an application is either bound by memory bandwidth or fill rate.</span></span>

- <span data-ttu-id="2b2d4-161">La **larghezza di banda della memoria** è la frequenza di letture e scritture che la GPU può eseguire dalla memoria</span><span class="sxs-lookup"><span data-stu-id="2b2d4-161">**Memory bandwidth** is the rate of reads and writes the GPU can do from memory</span></span>
    - <span data-ttu-id="2b2d4-162">Per identificare le limitazioni della larghezza di banda, ridurre la qualità della trama e verificare se il framerate è migliorato.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-162">To identify bandwidth limitations, reduce texture quality and check if the framerate has improved.</span></span>
    - <span data-ttu-id="2b2d4-163">In Unity modificare la **qualità della trama** nelle impostazioni di qualità **modifica**  >  **Impostazioni progetto**  >  **[](https://docs.unity3d.com/Manual/class-QualitySettings.html)**.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-163">In Unity, change **Texture Quality** in **Edit** > **Project Settings** > **[Quality Settings](https://docs.unity3d.com/Manual/class-QualitySettings.html)**.</span></span>
- <span data-ttu-id="2b2d4-164">La **velocità di riempimento** si riferisce ai pixel che possono essere disegnati al secondo dalla GPU.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-164">**Fill rate** refers to the pixels that can be drawn per second by the GPU.</span></span>
    - <span data-ttu-id="2b2d4-165">Per identificare le limitazioni della velocità di riempimento, abbassare la risoluzione dello schermo e verificare se il framerate è migliorato.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-165">To identify fill rate limitations, lower the display resolution and check if framerate improved.</span></span> 
    - <span data-ttu-id="2b2d4-166">In Unity, usare la proprietà *[XRSettings. renderViewportScale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)*</span><span class="sxs-lookup"><span data-stu-id="2b2d4-166">In Unity, use the  *[XRSettings.renderViewportScale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)* property</span></span>

<span data-ttu-id="2b2d4-167">La larghezza di banda della memoria comporta in genere ottimizzazioni per:</span><span class="sxs-lookup"><span data-stu-id="2b2d4-167">Memory bandwidth generally involves optimizations to either:</span></span>
1) <span data-ttu-id="2b2d4-168">Risoluzioni di trama inferiori</span><span class="sxs-lookup"><span data-stu-id="2b2d4-168">Lower texture resolutions</span></span>
2) <span data-ttu-id="2b2d4-169">Usare meno trame (normali, speculari e così via)</span><span class="sxs-lookup"><span data-stu-id="2b2d4-169">Use fewer textures (normals, specular, and so on)</span></span>

<span data-ttu-id="2b2d4-170">La velocità di riempimento si concentra sulla riduzione del numero di operazioni che devono essere calcolate per un pixel finale sottoposto a rendering, tra cui:</span><span class="sxs-lookup"><span data-stu-id="2b2d4-170">Fill rate is focused on reducing the number of operations that need to be computed for a final rendered pixel, including:</span></span>
1) <span data-ttu-id="2b2d4-171">Numero di oggetti di cui eseguire il rendering o il processo</span><span class="sxs-lookup"><span data-stu-id="2b2d4-171">Number of objects to render/process</span></span>
2) <span data-ttu-id="2b2d4-172">Numero di operazioni per shader</span><span class="sxs-lookup"><span data-stu-id="2b2d4-172">Number of operations per shader</span></span>
3) <span data-ttu-id="2b2d4-173">Numero di fasi GPU fino al risultato finale (Geometry shader, effetti post-elaborazione e così via)</span><span class="sxs-lookup"><span data-stu-id="2b2d4-173">Number of GPU stages to final result (geometry shaders, post-processing effects, and so on)</span></span>
4) <span data-ttu-id="2b2d4-174">Numero di pixel di cui eseguire il rendering (risoluzione dello schermo)</span><span class="sxs-lookup"><span data-stu-id="2b2d4-174">Number of pixels to render (display resolution)</span></span>

#### <a name="reduce-polygon-count"></a><span data-ttu-id="2b2d4-175">Ridurre il numero di poligoni</span><span class="sxs-lookup"><span data-stu-id="2b2d4-175">Reduce polygon count</span></span>

<span data-ttu-id="2b2d4-176">Il numero di poligoni più elevati comporta un numero maggiore di operazioni per la GPU, quindi la [riduzione del numero di poligoni](https://docs.microsoft.com/dynamics365/mixed-reality/import-tool/optimize-models#performance-targets) nella scena riduce il tempo di rendering.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-176">Higher polygon counts result in more operations for the GPU, so [reducing the number of polygons](https://docs.microsoft.com/dynamics365/mixed-reality/import-tool/optimize-models#performance-targets) in your scene reduces the render time.</span></span> <span data-ttu-id="2b2d4-177">Esistono altri fattori che rendono l'ombreggiatura costosa, ma il conteggio dei poligoni è la metrica più semplice per determinare la quantità di lavoro necessaria per il rendering di una scena.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-177">There are other factors that make shading the geometry expensive, but polygon count is the simplest metric to determine how much work it will take to render a scene.</span></span>

#### <a name="limit-overdraw"></a><span data-ttu-id="2b2d4-178">Limitare le sovrapposizioni</span><span class="sxs-lookup"><span data-stu-id="2b2d4-178">Limit overdraw</span></span>

<span data-ttu-id="2b2d4-179">Un elevato livello di sovradisegnazione si verifica quando viene eseguito il rendering di più oggetti ma non vengono visualizzati sullo schermo quando sono nascosti da un oggetto occlusione.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-179">High overdraw occurs when multiple objects are rendered but not shown on screen as they're hidden by an occluding object.</span></span> <span data-ttu-id="2b2d4-180">Si supponga di esaminare un muro con oggetti sottostanti.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-180">Imagine looking at a wall that has objects behind it.</span></span> <span data-ttu-id="2b2d4-181">Tutte le geometrie verranno elaborate per il rendering, ma è necessario eseguire il rendering solo della parete opaca, che comporta operazioni superflue.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-181">All of the geometry would be processed for rendering, but only the opaque wall needs to be rendered, which results in unnecessary operations.</span></span>

#### <a name="shaders"></a><span data-ttu-id="2b2d4-182">Shader</span><span class="sxs-lookup"><span data-stu-id="2b2d4-182">Shaders</span></span>

<span data-ttu-id="2b2d4-183">Gli shader sono piccoli programmi eseguiti sulla GPU ed eseguono due passaggi importanti per il rendering:</span><span class="sxs-lookup"><span data-stu-id="2b2d4-183">Shaders are small programs that run on the GPU and do two important steps in rendering:</span></span>
1) <span data-ttu-id="2b2d4-184">Determinazione dei vertici da disegnare e della posizione in cui si trovano nello spazio dello schermo (Vertex shader)</span><span class="sxs-lookup"><span data-stu-id="2b2d4-184">Determining which vertices should be drawn and where they are in screen space (the Vertex shader)</span></span>
    - <span data-ttu-id="2b2d4-185">Il vertex shader viene eseguito per ogni vertice per ogni mesh.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-185">The Vertex shader is executed per vertex for every mesh.</span></span>
2) <span data-ttu-id="2b2d4-186">Determinazione del colore di ogni pixel (pixel shader)</span><span class="sxs-lookup"><span data-stu-id="2b2d4-186">Determining the color of each pixel (the Pixel shader)</span></span>
    - <span data-ttu-id="2b2d4-187">Il pixel shader viene eseguito per pixel e sottoposto a rendering dalla geometria alla trama di rendering di destinazione.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-187">The Pixel shader is executed per pixel and rendered by the geometry to the target render texture.</span></span>

<span data-ttu-id="2b2d4-188">In genere, gli shader eseguono numerose trasformazioni e calcoli di illuminazione.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-188">Typically, shaders do many transformations and lighting calculations.</span></span> <span data-ttu-id="2b2d4-189">Sebbene i modelli di illuminazione complessi, le ombre e altre operazioni possano generare risultati eccezionali, presentano anche un prezzo.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-189">Although complex lighting models, shadows, and other operations can generate fantastic results, they also come with a price.</span></span> <span data-ttu-id="2b2d4-190">La riduzione del numero di operazioni calcolate negli shader può ridurre notevolmente il lavoro necessario per la GPU per fotogramma.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-190">Reducing the number of operations computed in shaders can greatly reduce the work needed for the GPU per frame.</span></span>

##### <a name="shader-coding-recommendations"></a><span data-ttu-id="2b2d4-191">Suggerimenti sulla codifica dello shader</span><span class="sxs-lookup"><span data-stu-id="2b2d4-191">Shader coding recommendations</span></span>

- <span data-ttu-id="2b2d4-192">Usare il filtro bilineare, laddove possibile</span><span class="sxs-lookup"><span data-stu-id="2b2d4-192">Use bilinear filtering, whenever possible</span></span>
- <span data-ttu-id="2b2d4-193">Ridisporre le espressioni in modo da usare funzioni intrinseche folli per eseguire un'operazione Multiply e aggiungere contemporaneamente</span><span class="sxs-lookup"><span data-stu-id="2b2d4-193">Rearrange expressions to use MAD intrinsics to do a multiply and an add at the same time</span></span>
- <span data-ttu-id="2b2d4-194">Precalcolare quanto più possibile sulla CPU e passare come costanti al materiale</span><span class="sxs-lookup"><span data-stu-id="2b2d4-194">Precalculate as much as possible on the CPU and pass as constants to the material</span></span>
- <span data-ttu-id="2b2d4-195">**Preferire le operazioni di trasferimento dal pixel shader al vertex shader**</span><span class="sxs-lookup"><span data-stu-id="2b2d4-195">**Favor moving operations from the pixel shader to the vertex shader**</span></span>
    - <span data-ttu-id="2b2d4-196">In genere, il numero di vertici è molto più piccolo del numero di pixel (720p è 921.600 pixel, 1080p è 2.073.600 pixel e così via)</span><span class="sxs-lookup"><span data-stu-id="2b2d4-196">Generally, the number of vertices is much smaller than the number of pixels (720p is 921,600 pixels, 1080p is 2,073,600 pixels, and so on)</span></span>

#### <a name="remove-gpu-stages"></a><span data-ttu-id="2b2d4-197">Rimuovi fasi GPU</span><span class="sxs-lookup"><span data-stu-id="2b2d4-197">Remove GPU stages</span></span>

<span data-ttu-id="2b2d4-198">Gli effetti di post-elaborazione possono essere costosi e aumentare la velocità di riempimento dell'applicazione, incluse le tecniche di anti-aliasing come MSAA.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-198">Post-processing effects can be expensive and increase the fill rate of your application, including anti-aliasing techniques like MSAA.</span></span> <span data-ttu-id="2b2d4-199">In HoloLens è consigliabile evitare queste tecniche e altre fasi dello shader, ad esempio geometria, scafo e compute shader.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-199">On HoloLens, we recommended avoiding these techniques and additional shader stages such as geometry, hull, and compute shaders.</span></span>

## <a name="memory-recommendations"></a><span data-ttu-id="2b2d4-200">Consigli sulla memoria</span><span class="sxs-lookup"><span data-stu-id="2b2d4-200">Memory recommendations</span></span>

<span data-ttu-id="2b2d4-201">Un numero eccessivo di operazioni di allocazione e deallocazione della memoria può comportare prestazioni incoerenti, frame bloccati e altro comportamento dannoso.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-201">Excessive memory allocation and deallocation operations can result in inconsistent performance, frozen frames, and other detrimental behavior.</span></span> <span data-ttu-id="2b2d4-202">È particolarmente importante comprendere le considerazioni sulla memoria durante lo sviluppo in Unity, perché la gestione della memoria è controllata dal Garbage Collector.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-202">It's especially important to understand memory considerations when developing in Unity, since memory management is controlled by the garbage collector.</span></span>

#### <a name="object-pooling"></a><span data-ttu-id="2b2d4-203">Pooling di oggetti</span><span class="sxs-lookup"><span data-stu-id="2b2d4-203">Object pooling</span></span>

<span data-ttu-id="2b2d4-204">Il pool di oggetti è una tecnica comune per ridurre i costi delle allocazioni e delle deallocazioni continue degli oggetti.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-204">Object pooling is a popular technique to reduce the cost of continuous allocations and deallocations of objects.</span></span> <span data-ttu-id="2b2d4-205">Questa operazione viene eseguita allocando un pool di grandi dimensioni di oggetti identici e riutilizzando le istanze disponibili inattive da questo pool invece di generare ed eliminare costantemente gli oggetti nel tempo.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-205">This is done by allocating a large pool of identical objects and reusing inactive, available instances from this pool instead of constantly spawning and destroying objects over time.</span></span> <span data-ttu-id="2b2d4-206">I pool di oggetti sono ottimi per i componenti riutilizzabili con durata variabile durante un'app.</span><span class="sxs-lookup"><span data-stu-id="2b2d4-206">Object pools are great for reuseable components that have variable lifetime during an app.</span></span>

## <a name="see-also"></a><span data-ttu-id="2b2d4-207">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="2b2d4-207">See also</span></span>
- [<span data-ttu-id="2b2d4-208">Consigli sulle prestazioni per Unity</span><span class="sxs-lookup"><span data-stu-id="2b2d4-208">Performance recommendations for Unity</span></span>](../unity/performance-recommendations-for-unity.md)
- [<span data-ttu-id="2b2d4-209">Impostazioni consigliate per Unity</span><span class="sxs-lookup"><span data-stu-id="2b2d4-209">Recommended settings for Unity</span></span>](../unity/recommended-settings-for-unity.md)
- [<span data-ttu-id="2b2d4-210">Ottimizzare i modelli 3D</span><span class="sxs-lookup"><span data-stu-id="2b2d4-210">Optimize 3D models</span></span>](https://docs.microsoft.com/dynamics365/mixed-reality/import-tool/optimize-models#performance-targets)
- [<span data-ttu-id="2b2d4-211">Procedure consigliate per la conversione e l'ottimizzazione di modelli 3D in tempo reale</span><span class="sxs-lookup"><span data-stu-id="2b2d4-211">Best practices for converting and optimizing real-time 3D Models</span></span>](https://docs.microsoft.com/dynamics365/mixed-reality/import-tool/best-practices)

