---
title: Movimenti in Unity
description: Informazioni su come intervenire sullo sguardo fisso in Unity con l'input del movimento della mano usando XR e api comuni per pulsanti e assi.
author: hferrone
ms.author: alexturn
ms.date: 12/1/2020
ms.topic: article
keywords: movimenti, unity, sguardo fisso, input, visore VR di realtà mista, visore VR windows di realtà mista, visore VR di realtà virtuale, MRTK, Mixed Reality Toolkit
ms.openlocfilehash: 87666c120686547b1a07f6da41519219d4a47720
ms.sourcegitcommit: 9ae76b339968f035c703d9c1fe57ddecb33198e3
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/27/2021
ms.locfileid: "110600640"
---
# <a name="gestures-in-unity"></a><span data-ttu-id="4180e-104">Movimenti in Unity</span><span class="sxs-lookup"><span data-stu-id="4180e-104">Gestures in Unity</span></span>

<span data-ttu-id="4180e-105">Esistono due modi chiave per intervenire sullo [](../../design/gaze-and-commit.md#composite-gestures) sguardo [fisso in Unity,](gaze-in-unity.md)i movimenti della mano e i controller del movimento [in](../../design/motion-controllers.md) HoloLens e HMD immersive.</span><span class="sxs-lookup"><span data-stu-id="4180e-105">There are two key ways to take action on your [gaze in Unity](gaze-in-unity.md), [hand gestures](../../design/gaze-and-commit.md#composite-gestures) and [motion controllers](../../design/motion-controllers.md) in HoloLens and Immersive HMD.</span></span> <span data-ttu-id="4180e-106">È possibile accedere ai dati per entrambe le origini di input spaziale tramite le stesse API in Unity.</span><span class="sxs-lookup"><span data-stu-id="4180e-106">You access the data for both sources of spatial input through the same APIs in Unity.</span></span>

<span data-ttu-id="4180e-107">Unity offre due modi principali per accedere ai dati di input spaziali per Windows Mixed Reality.</span><span class="sxs-lookup"><span data-stu-id="4180e-107">Unity provides two primary ways to access spatial input data for Windows Mixed Reality.</span></span> <span data-ttu-id="4180e-108">Le API *comuni Input.GetButton/Input.GetAxis* funzionano in più SDK XR unity, mentre l'API *InteractionManager/GestureRecognizer* specifica di Windows Mixed Reality espone il set completo di dati di input spaziali.</span><span class="sxs-lookup"><span data-stu-id="4180e-108">The common *Input.GetButton/Input.GetAxis* APIs work across multiple Unity XR SDKs, while the *InteractionManager/GestureRecognizer* API specific to Windows Mixed Reality exposes the full set of spatial input data.</span></span>

## <a name="high-level-composite-gesture-apis-gesturerecognizer"></a><span data-ttu-id="4180e-109">API per movimenti compositi di alto livello (GestureRecognizer)</span><span class="sxs-lookup"><span data-stu-id="4180e-109">High-level composite gesture APIs (GestureRecognizer)</span></span>

<span data-ttu-id="4180e-110">**Spazio dei nomi:** *UnityEngine.XR.WSA.Input*</span><span class="sxs-lookup"><span data-stu-id="4180e-110">**Namespace:** *UnityEngine.XR.WSA.Input*</span></span><br>
<span data-ttu-id="4180e-111">**Tipi:** *GestureRecognizer,* *GestureSettings,* *InteractionSourceKind*</span><span class="sxs-lookup"><span data-stu-id="4180e-111">**Types**: *GestureRecognizer*, *GestureSettings*, *InteractionSourceKind*</span></span>

<span data-ttu-id="4180e-112">L'app può anche riconoscere i movimenti compositi di livello superiore per le origini di input spaziali, i movimenti Tocco, Tieni premuto, Manipolazione e Navigazione.</span><span class="sxs-lookup"><span data-stu-id="4180e-112">Your app can also recognize higher-level composite gestures for spatial input sources, Tap, Hold, Manipulation, and Navigation gestures.</span></span> <span data-ttu-id="4180e-113">È possibile riconoscere questi movimenti compositi su [mani e](../../design/gaze-and-commit.md#composite-gestures) controller [del movimento](../../design/motion-controllers.md) usando GestureRecognizer.</span><span class="sxs-lookup"><span data-stu-id="4180e-113">You can recognize these composite gestures across both [hands](../../design/gaze-and-commit.md#composite-gestures) and [motion controllers](../../design/motion-controllers.md) using the GestureRecognizer.</span></span>

<span data-ttu-id="4180e-114">Ogni evento Gesture in GestureRecognizer fornisce SourceKind per l'input e il raggio della testa di destinazione al momento dell'evento.</span><span class="sxs-lookup"><span data-stu-id="4180e-114">Each Gesture event on the GestureRecognizer provides the SourceKind for the input as well as the targeting head ray at the time of the event.</span></span> <span data-ttu-id="4180e-115">Alcuni eventi forniscono informazioni aggiuntive specifiche del contesto.</span><span class="sxs-lookup"><span data-stu-id="4180e-115">Some events provide additional context-specific information.</span></span>

<span data-ttu-id="4180e-116">Per acquisire i movimenti con un sistema di riconoscimento movimenti sono necessari solo alcuni passaggi:</span><span class="sxs-lookup"><span data-stu-id="4180e-116">There are only a few steps required to capture gestures using a Gesture Recognizer:</span></span>
1. <span data-ttu-id="4180e-117">Creare un nuovo riconoscitore movimenti</span><span class="sxs-lookup"><span data-stu-id="4180e-117">Create a new Gesture Recognizer</span></span>
2. <span data-ttu-id="4180e-118">Specificare i movimenti da controllare</span><span class="sxs-lookup"><span data-stu-id="4180e-118">Specify which gestures to watch for</span></span>
3. <span data-ttu-id="4180e-119">Sottoscrivere eventi per tali movimenti</span><span class="sxs-lookup"><span data-stu-id="4180e-119">Subscribe to events for those gestures</span></span>
4. <span data-ttu-id="4180e-120">Avviare l'acquisizione dei movimenti</span><span class="sxs-lookup"><span data-stu-id="4180e-120">Start capturing gestures</span></span>

### <a name="create-a-new-gesture-recognizer"></a><span data-ttu-id="4180e-121">Creare un nuovo riconoscitore movimenti</span><span class="sxs-lookup"><span data-stu-id="4180e-121">Create a new Gesture Recognizer</span></span>

<span data-ttu-id="4180e-122">Per usare *GestureRecognizer,* è necessario aver creato *un oggetto GestureRecognizer:*</span><span class="sxs-lookup"><span data-stu-id="4180e-122">To use the *GestureRecognizer*, you must have created a *GestureRecognizer*:</span></span>

```cs
GestureRecognizer recognizer = new GestureRecognizer();
```

### <a name="specify-which-gestures-to-watch-for"></a><span data-ttu-id="4180e-123">Specificare i movimenti da controllare</span><span class="sxs-lookup"><span data-stu-id="4180e-123">Specify which gestures to watch for</span></span>

<span data-ttu-id="4180e-124">Specificare i movimenti a cui si è interessati tramite *SetRecognizableGestures():*</span><span class="sxs-lookup"><span data-stu-id="4180e-124">Specify which gestures you're interested in via *SetRecognizableGestures()*:</span></span>

```cs
recognizer.SetRecognizableGestures(GestureSettings.Tap | GestureSettings.Hold);
```

### <a name="subscribe-to-events-for-those-gestures"></a><span data-ttu-id="4180e-125">Sottoscrivere eventi per tali movimenti</span><span class="sxs-lookup"><span data-stu-id="4180e-125">Subscribe to events for those gestures</span></span>

<span data-ttu-id="4180e-126">Sottoscrivere gli eventi per i movimenti a cui si è interessati.</span><span class="sxs-lookup"><span data-stu-id="4180e-126">Subscribe to events for the gestures you're interested in.</span></span>

```cs
void Start()
{
    recognizer.Tapped += GestureRecognizer_Tapped;
    recognizer.HoldStarted += GestureRecognizer_HoldStarted;
    recognizer.HoldCompleted += GestureRecognizer_HoldCompleted;
    recognizer.HoldCanceled += GestureRecognizer_HoldCanceled;
}
```

>[!NOTE]
><span data-ttu-id="4180e-127">I movimenti di navigazione e manipolazione si escludono a vicenda in un'istanza di *gestureRecognizer.*</span><span class="sxs-lookup"><span data-stu-id="4180e-127">Navigation and Manipulation gestures are mutually exclusive on an instance of a *GestureRecognizer*.</span></span>

### <a name="start-capturing-gestures"></a><span data-ttu-id="4180e-128">Avviare l'acquisizione dei movimenti</span><span class="sxs-lookup"><span data-stu-id="4180e-128">Start capturing gestures</span></span>

<span data-ttu-id="4180e-129">Per impostazione predefinita, *GestureRecognizer non monitora* l'input fino a quando non viene chiamato *StartCapturingGestures().*</span><span class="sxs-lookup"><span data-stu-id="4180e-129">By default, a *GestureRecognizer* doesn't monitor input until *StartCapturingGestures()* is called.</span></span> <span data-ttu-id="4180e-130">È possibile che venga generato un evento di movimento dopo la chiamata a *StopCapturingGestures()* se l'input è stato eseguito prima del frame in cui è stato elaborato *StopCapturingGestures().*</span><span class="sxs-lookup"><span data-stu-id="4180e-130">It's possible that a gesture event may be generated after *StopCapturingGestures()* is called if input was performed before the frame where *StopCapturingGestures()* was processed.</span></span> <span data-ttu-id="4180e-131">*GestureRecognizer* ricorda se era attivo o spento durante il fotogramma precedente in cui si è effettivamente verificato il movimento ed è quindi affidabile avviare e arrestare il monitoraggio del movimento in base alla destinazione dello sguardo fisso di questo fotogramma.</span><span class="sxs-lookup"><span data-stu-id="4180e-131">The *GestureRecognizer* will remember whether it was on or off during the previous frame in which the gesture actually occurred, and so it's reliable to start and stop gesture monitoring based on this frame's gaze targeting.</span></span>

```cs
recognizer.StartCapturingGestures();
```

### <a name="stop-capturing-gestures"></a><span data-ttu-id="4180e-132">Interrompere l'acquisizione dei movimenti</span><span class="sxs-lookup"><span data-stu-id="4180e-132">Stop capturing gestures</span></span>

<span data-ttu-id="4180e-133">Per arrestare il riconoscimento dei movimenti:</span><span class="sxs-lookup"><span data-stu-id="4180e-133">To stop gesture recognition:</span></span>

```cs
recognizer.StopCapturingGestures();
```

### <a name="removing-a-gesture-recognizer"></a><span data-ttu-id="4180e-134">Rimozione di un sistema di riconoscimento movimenti</span><span class="sxs-lookup"><span data-stu-id="4180e-134">Removing a gesture recognizer</span></span>

<span data-ttu-id="4180e-135">Ricordarsi di annullare la sottoscrizione agli eventi sottoscritti prima di eliminare un *oggetto GestureRecognizer.*</span><span class="sxs-lookup"><span data-stu-id="4180e-135">Remember to unsubscribe from subscribed events before destroying a *GestureRecognizer* object.</span></span>

```cs
void OnDestroy()
{
    recognizer.Tapped -= GestureRecognizer_Tapped;
    recognizer.HoldStarted -= GestureRecognizer_HoldStarted;
    recognizer.HoldCompleted -= GestureRecognizer_HoldCompleted;
    recognizer.HoldCanceled -= GestureRecognizer_HoldCanceled;
}
```

## <a name="rendering-the-motion-controller-model-in-unity"></a><span data-ttu-id="4180e-136">Rendering del modello di controller del movimento in Unity</span><span class="sxs-lookup"><span data-stu-id="4180e-136">Rendering the motion controller model in Unity</span></span>

<span data-ttu-id="4180e-137">![Modello di controller del movimento e teletrasporto](images/motioncontrollertest-teleport-1000px.png)</span><span class="sxs-lookup"><span data-stu-id="4180e-137">![Motion Controller model and teleportation](images/motioncontrollertest-teleport-1000px.png)</span></span><br>
<span data-ttu-id="4180e-138">*Modello di controller del movimento e teletrasporto*</span><span class="sxs-lookup"><span data-stu-id="4180e-138">*Motion controller model and teleportation*</span></span>

<span data-ttu-id="4180e-139">Per eseguire il rendering dei controller del movimento nell'app che corrispondono ai controller fisici che gli utenti sono in possesso e articolano man mano che vengono premuti vari pulsanti, puoi usare il **prefab MotionController** in [Mixed Reality Toolkit.](https://github.com/Microsoft/MixedRealityToolkit-Unity/)</span><span class="sxs-lookup"><span data-stu-id="4180e-139">To render motion controllers in your app that match the physical controllers your users are holding and articulate as various buttons are pressed, you can use the **MotionController prefab** in the [Mixed Reality Toolkit](https://github.com/Microsoft/MixedRealityToolkit-Unity/).</span></span>  <span data-ttu-id="4180e-140">Questo prefab carica dinamicamente il modello glTF corretto in fase di esecuzione dal driver del controller del movimento installato del sistema.</span><span class="sxs-lookup"><span data-stu-id="4180e-140">This prefab dynamically loads the correct glTF model at runtime from the system's installed motion controller driver.</span></span>  <span data-ttu-id="4180e-141">È importante caricare questi modelli in modo dinamico anziché importarli manualmente nell'editor, in modo che l'app mostri modelli 3D fisicamente accurati per qualsiasi controller corrente e futuro degli utenti.</span><span class="sxs-lookup"><span data-stu-id="4180e-141">It's important to load these models dynamically rather than importing them manually in the editor, so that your app will show physically accurate 3D models for any current and future controllers your users may have.</span></span>

1. <span data-ttu-id="4180e-142">Seguire le [Attività iniziali](https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/htk_release/GettingStarted.md) per scaricare Mixed Reality Toolkit e aggiungerlo al progetto Unity.</span><span class="sxs-lookup"><span data-stu-id="4180e-142">Follow the [Getting Started](https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/htk_release/GettingStarted.md) instructions to download the Mixed Reality Toolkit and add it to your Unity project.</span></span>
2. <span data-ttu-id="4180e-143">Se la fotocamera è stata sostituita con il prefab *MixedRealityCameraParent* come parte dei passaggi Attività iniziali, è possibile farlo.</span><span class="sxs-lookup"><span data-stu-id="4180e-143">If you replaced your camera with the *MixedRealityCameraParent* prefab as part of the Getting Started steps, you're good to go!</span></span>  <span data-ttu-id="4180e-144">Il prefab include il rendering del controller del movimento.</span><span class="sxs-lookup"><span data-stu-id="4180e-144">That prefab includes motion controller rendering.</span></span>  <span data-ttu-id="4180e-145">In caso contrario, aggiungere *Assets/HoloToolkit/Input/Prefabs/MotionControllers.prefab* nella scena dal riquadro Progetto.</span><span class="sxs-lookup"><span data-stu-id="4180e-145">Otherwise, add *Assets/HoloToolkit/Input/Prefabs/MotionControllers.prefab* into your scene from the Project pane.</span></span>  <span data-ttu-id="4180e-146">È necessario aggiungere il prefab come elemento figlio di qualsiasi oggetto padre che si usa per spostare la fotocamera quando l'utente teletrasporta all'interno della scena, in modo che i controller siano d'accordo con l'utente.</span><span class="sxs-lookup"><span data-stu-id="4180e-146">You'll want to add that prefab as a child of whatever parent object you use to move the camera around when the user teleports within your scene, so that the controllers come along with the user.</span></span>  <span data-ttu-id="4180e-147">Se l'app non comporta il teletrasporto, è sufficiente aggiungere il prefab nella radice della scena.</span><span class="sxs-lookup"><span data-stu-id="4180e-147">If your app doesn't involve teleporting, just add the prefab at the root of your scene.</span></span>

## <a name="throwing-objects"></a><span data-ttu-id="4180e-148">Generazione di oggetti</span><span class="sxs-lookup"><span data-stu-id="4180e-148">Throwing objects</span></span>

<span data-ttu-id="4180e-149">La generazione di oggetti nella realtà virtuale è un problema più difficile di quanto possa sembrare.</span><span class="sxs-lookup"><span data-stu-id="4180e-149">Throwing objects in virtual reality is a harder problem than it may at first seem.</span></span> <span data-ttu-id="4180e-150">Come per la maggior parte delle interazioni basate fisicamente, quando il lancio nel gioco agisce in modo imprevisto, è immediatamente ovvio e interrompe l'interazione.</span><span class="sxs-lookup"><span data-stu-id="4180e-150">As with most physically based interactions, when throwing in game acts in an unexpected way, it's immediately obvious and breaks immersion.</span></span> <span data-ttu-id="4180e-151">Abbiamo dedicato molto tempo a pensare a come rappresentare un comportamento di generazione fisicamente corretto e abbiamo creato alcune linee guida, abilitate tramite gli aggiornamenti della piattaforma, che microsoft vuole condividere con l'utente.</span><span class="sxs-lookup"><span data-stu-id="4180e-151">We've spent some time thinking deeply about how to represent a physically correct throwing behavior, and have come up with a few guidelines, enabled through updates to our platform, that we would like to share with you.</span></span>

<span data-ttu-id="4180e-152">È possibile trovare un esempio di come è consigliabile implementare la generazione di [eccezioni qui.](https://github.com/keluecke/MixedRealityToolkit-Unity/blob/master/External/Unitypackages/ThrowingStarter.unitypackage)</span><span class="sxs-lookup"><span data-stu-id="4180e-152">You can find an example of how we recommend to implement throwing [here](https://github.com/keluecke/MixedRealityToolkit-Unity/blob/master/External/Unitypackages/ThrowingStarter.unitypackage).</span></span> <span data-ttu-id="4180e-153">Questo esempio segue queste quattro linee guida:</span><span class="sxs-lookup"><span data-stu-id="4180e-153">This sample follows these four guidelines:</span></span>
* <span data-ttu-id="4180e-154">**Usare la velocità del *controller invece della* posizione**.</span><span class="sxs-lookup"><span data-stu-id="4180e-154">**Use the controller’s *velocity* instead of position**.</span></span> <span data-ttu-id="4180e-155">Nell'aggiornamento di novembre a Windows è stata introdotta una modifica del comportamento quando si è nello stato di rilevamento [posizionale "Approssimato".](../../design/motion-controllers.md#controller-tracking-state)</span><span class="sxs-lookup"><span data-stu-id="4180e-155">In the November update to Windows, we introduced a change in behavior when in the [''Approximate'' positional tracking state](../../design/motion-controllers.md#controller-tracking-state).</span></span> <span data-ttu-id="4180e-156">In questo stato, le informazioni sulla velocità del controller continueranno a essere segnalate fino a quando si ritiene che l'accuratezza elevata, che spesso è più lunga della posizione, rimanga elevata.</span><span class="sxs-lookup"><span data-stu-id="4180e-156">When in this state, velocity information about the controller will continue to be reported for as long as we believe its high accuracy, which is often longer than position remains high accuracy.</span></span>
* <span data-ttu-id="4180e-157">**Incorporare *la velocità angolare del* controller**.</span><span class="sxs-lookup"><span data-stu-id="4180e-157">**Incorporate the *angular velocity* of the controller**.</span></span> <span data-ttu-id="4180e-158">Questa logica è tutto contenuto nel file nel metodo statico, all'interno del pacchetto collegato in `throwing.cs` `GetThrownObjectVelAngVel` precedenza:</span><span class="sxs-lookup"><span data-stu-id="4180e-158">This logic is all contained in the `throwing.cs` file in the `GetThrownObjectVelAngVel` static method, within the package linked above:</span></span>
   1. <span data-ttu-id="4180e-159">Poiché la velocità angolare è conservata, l'oggetto generato deve mantenere la stessa velocità angolare che aveva al momento del lancio: `objectAngularVelocity = throwingControllerAngularVelocity;`</span><span class="sxs-lookup"><span data-stu-id="4180e-159">As angular velocity is conserved, the thrown object must maintain the same angular velocity as it had at the moment of the throw: `objectAngularVelocity = throwingControllerAngularVelocity;`</span></span>
   2. <span data-ttu-id="4180e-160">Poiché il centro della massa dell'oggetto generato probabilmente non è all'origine della posizione del controllo, è probabile che abbia una velocità diversa rispetto a quella del controller nel frame di riferimento dell'utente.</span><span class="sxs-lookup"><span data-stu-id="4180e-160">As the center of mass of the thrown object is likely not at the origin of the grip pose, it likely has a different velocity than that of the controller in the frame of reference of the user.</span></span> <span data-ttu-id="4180e-161">La parte della velocità dell'oggetto che ha contribuito in questo modo è la velocità tangente istantanea del centro di massa dell'oggetto generato intorno all'origine del controller.</span><span class="sxs-lookup"><span data-stu-id="4180e-161">The portion of the object’s velocity contributed in this way is the instantaneous tangential velocity of the center of mass of the thrown object around the controller origin.</span></span> <span data-ttu-id="4180e-162">Questa velocità tangente è il prodotto incrociato della velocità angolare del controller con il vettore che rappresenta la distanza tra l'origine del controller e il centro della massa dell'oggetto generato.</span><span class="sxs-lookup"><span data-stu-id="4180e-162">This tangential velocity is the cross product of the angular velocity of the controller with the vector representing the distance between the controller origin and the center of mass of the thrown object.</span></span>

      ```cs
      Vector3 radialVec = thrownObjectCenterOfMass - throwingControllerPos;
      Vector3 tangentialVelocity = Vector3.Cross(throwingControllerAngularVelocity, radialVec);
      ```

   3. <span data-ttu-id="4180e-163">La velocità totale dell'oggetto generato è la somma della velocità del controller e di questa velocità tangente: `objectVelocity = throwingControllerVelocity + tangentialVelocity;`</span><span class="sxs-lookup"><span data-stu-id="4180e-163">The total velocity of the thrown object is the sum of velocity of the controller and this tangential velocity: `objectVelocity = throwingControllerVelocity + tangentialVelocity;`</span></span>

* <span data-ttu-id="4180e-164">**Prestare particolare attenzione al *momento in* cui viene applicata la velocità**.</span><span class="sxs-lookup"><span data-stu-id="4180e-164">**Pay close attention to the *time* at which we apply the velocity**.</span></span> <span data-ttu-id="4180e-165">Quando viene premuto un pulsante, l'invio dell'evento tramite Bluetooth al sistema operativo può richiedere fino a 20 ms.</span><span class="sxs-lookup"><span data-stu-id="4180e-165">When a button is pressed, it can take up to 20 ms for that event to bubble up through Bluetooth to the operating system.</span></span> <span data-ttu-id="4180e-166">Ciò significa che se si esegue il polling di una modifica dello stato del controller da premuta a non premuta o in altro modo, le informazioni sulla posizione del controller che si ottengono con saranno effettivamente in anticipo rispetto a questa modifica dello stato.</span><span class="sxs-lookup"><span data-stu-id="4180e-166">This means that if you poll for a controller state change from pressed to not pressed or the other way around, the controller pose information you get with it will actually be ahead of this change in state.</span></span> <span data-ttu-id="4180e-167">Inoltre, la posizione del controller presentata dall'API di polling viene stimata in avanti per riflettere una posizione probabile nel momento in cui verrà visualizzato il fotogramma che potrebbe essere superiore a 20 ms in futuro.</span><span class="sxs-lookup"><span data-stu-id="4180e-167">Further, the controller pose presented by our polling API is forward predicted to reflect a likely pose at the time the frame will be displayed which could be more than 20 ms in the future.</span></span> <span data-ttu-id="4180e-168">Questa operazione è buona per il *rendering* degli  oggetti mantenuti, ma aggiunge un problema di tempo per la destinazione dell'oggetto quando si calcola la ercolata nel momento in cui l'utente ha rilasciato il lancio.</span><span class="sxs-lookup"><span data-stu-id="4180e-168">This is good for *rendering* held objects, but compounds our time problem for *targeting* the object as we calculate the trajectory for the moment the user released the throw.</span></span> <span data-ttu-id="4180e-169">Fortunatamente, con l'aggiornamento di novembre, quando viene inviato un evento Unity come *InteractionSourcePressed* o *InteractionSourceReleased,* lo stato include i dati cronologici relativi alla posizione dalla posizione precedente quando il pulsante è stato premuto o rilasciato.</span><span class="sxs-lookup"><span data-stu-id="4180e-169">Fortunately, with the November update, when a Unity event like *InteractionSourcePressed* or *InteractionSourceReleased* is sent, the state includes the historical pose data from back when the button was pressed or released.</span></span>  <span data-ttu-id="4180e-170">Per ottenere il rendering del controller più accurato e la destinazione del controller durante le eccezioni, è necessario usare correttamente il polling e l'evento, in base alle esigenze:</span><span class="sxs-lookup"><span data-stu-id="4180e-170">To get the most accurate controller rendering and controller targeting during throws, you must correctly use polling and eventing, as appropriate:</span></span>
   * <span data-ttu-id="4180e-171">Per il rendering di ogni fotogramma da parte del **controller,** l'app deve posizionare il *GameObject* del controller in corrispondenza della posizione del controller stimata in avanti per il tempo di fotone del fotogramma corrente.</span><span class="sxs-lookup"><span data-stu-id="4180e-171">For **controller rendering** each frame, your app should position the controller's *GameObject* at the forward-predicted controller pose for the current frame’s photon time.</span></span>  <span data-ttu-id="4180e-172">È possibile ottenere questi dati dalle API di polling di Unity, ad *[esempio XR. InputTracking.GetLocalPosition](https://docs.unity3d.com/ScriptReference/XR.InputTracking.GetLocalPosition.html)* o *[XR. Wsa. Input.InteractionManager.GetCurrentReading](https://docs.unity3d.com/ScriptReference/XR.WSA.Input.InteractionManager.GetCurrentReading.html)*.</span><span class="sxs-lookup"><span data-stu-id="4180e-172">You get this data from Unity polling APIs like *[XR.InputTracking.GetLocalPosition](https://docs.unity3d.com/ScriptReference/XR.InputTracking.GetLocalPosition.html)* or *[XR.WSA.Input.InteractionManager.GetCurrentReading](https://docs.unity3d.com/ScriptReference/XR.WSA.Input.InteractionManager.GetCurrentReading.html)*.</span></span>
   * <span data-ttu-id="4180e-173">Per **il controller che punta** a una press o a un rilascio, l'app deve eseguire il raycast e calcolare le erre in base alla posizione cronologica del controller per l'evento di stampa o rilascio.</span><span class="sxs-lookup"><span data-stu-id="4180e-173">For **controller targeting** upon a press or release, your app should raycast and calculate trajectories based on the historical controller pose for that press or release event.</span></span>  <span data-ttu-id="4180e-174">È possibile ottenere questi dati dalle API di gestione degli eventi unity, ad *[esempio InteractionManager.InteractionSourcePressed.](https://docs.unity3d.com/ScriptReference/XR.WSA.Input.InteractionManager.InteractionSourcePressed.html)*</span><span class="sxs-lookup"><span data-stu-id="4180e-174">You get this data from Unity eventing APIs, like *[InteractionManager.InteractionSourcePressed](https://docs.unity3d.com/ScriptReference/XR.WSA.Input.InteractionManager.InteractionSourcePressed.html)*.</span></span>
* <span data-ttu-id="4180e-175">**Usare la posizione del controllo**.</span><span class="sxs-lookup"><span data-stu-id="4180e-175">**Use the grip pose**.</span></span> <span data-ttu-id="4180e-176">La velocità e la velocità angolari vengono segnalate in relazione alla posizione del triangolo, non alla posizione del puntatore.</span><span class="sxs-lookup"><span data-stu-id="4180e-176">Angular velocity and velocity are reported relative to the grip pose, not pointer pose.</span></span>

<span data-ttu-id="4180e-177">La generazione di eccezioni continuerà a migliorare con gli aggiornamenti futuri di Windows e sarà possibile trovare altre informazioni qui.</span><span class="sxs-lookup"><span data-stu-id="4180e-177">Throwing will continue to improve with future Windows updates, and you can expect to find more information on it here.</span></span>

## <a name="gesture-and-motion-controllers-in-mrtk"></a><span data-ttu-id="4180e-178">Movimenti e controller del movimento in MRTK</span><span class="sxs-lookup"><span data-stu-id="4180e-178">Gesture and Motion Controllers in MRTK</span></span>

<span data-ttu-id="4180e-179">È possibile accedere al movimento e al controller del movimento da Gestione input.</span><span class="sxs-lookup"><span data-stu-id="4180e-179">You can access gesture and motion controller from the input Manager.</span></span>

* [<span data-ttu-id="4180e-180">Movimento in MRTK</span><span class="sxs-lookup"><span data-stu-id="4180e-180">Gesture in MRTK</span></span>](/windows/mixed-reality/mrtk-unity/features/input/gestures)
* [<span data-ttu-id="4180e-181">Controller del movimento in MRTK</span><span class="sxs-lookup"><span data-stu-id="4180e-181">Motion Controller in MRTK</span></span>](/windows/mixed-reality/mrtk-unity/features/input/controllers)

## <a name="follow-along-with-tutorials"></a><span data-ttu-id="4180e-182">Seguire le esercitazioni</span><span class="sxs-lookup"><span data-stu-id="4180e-182">Follow along with tutorials</span></span>

<span data-ttu-id="4180e-183">Esercitazioni dettagliate, con esempi di personalizzazione più dettagliati, sono disponibili in Mixed Reality Academy:</span><span class="sxs-lookup"><span data-stu-id="4180e-183">Step-by-step tutorials, with more detailed customization examples, are available in the Mixed Reality Academy:</span></span>

- [<span data-ttu-id="4180e-184">Input MR 211: Movimento</span><span class="sxs-lookup"><span data-stu-id="4180e-184">MR Input 211: Gesture</span></span>](tutorials/holograms-211.md)
- [<span data-ttu-id="4180e-185">Input MR 213: Controller del movimento</span><span class="sxs-lookup"><span data-stu-id="4180e-185">MR Input 213: Motion controllers</span></span>](../../deprecated/mixed-reality-213.md)

<span data-ttu-id="4180e-186">[![Input MR 213 - Controller del movimento](images/mr213-main-600px.jpg)](/windows/mixed-reality/mixed-reality-213)</span><span class="sxs-lookup"><span data-stu-id="4180e-186">[![MR Input 213 - Motion controller](images/mr213-main-600px.jpg)](/windows/mixed-reality/mixed-reality-213)</span></span><br>
<span data-ttu-id="4180e-187">*Input MR 213 - Controller del movimento*</span><span class="sxs-lookup"><span data-stu-id="4180e-187">*MR Input 213 - Motion controller*</span></span>

## <a name="next-development-checkpoint"></a><span data-ttu-id="4180e-188">Successivo checkpoint di sviluppo</span><span class="sxs-lookup"><span data-stu-id="4180e-188">Next Development Checkpoint</span></span>

<span data-ttu-id="4180e-189">Se si sta seguendo il percorso di sviluppo di Unity che è stato strutturato, si stanno esplorando i blocchi predefiniti principali di MRTK.</span><span class="sxs-lookup"><span data-stu-id="4180e-189">If you're following the Unity development journey we've laid out, you're in the midst of exploring the MRTK core building blocks.</span></span> <span data-ttu-id="4180e-190">Da qui è possibile passare al blocco predefinito successivo:</span><span class="sxs-lookup"><span data-stu-id="4180e-190">From here, you can continue to the next building block:</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="4180e-191">Tracciamento della mano e oculare</span><span class="sxs-lookup"><span data-stu-id="4180e-191">Hand and eye tracking</span></span>](./hand-eye-in-unity.md)

<span data-ttu-id="4180e-192">In alternativa, passare alle API e funzionalità della piattaforma di realtà mista:</span><span class="sxs-lookup"><span data-stu-id="4180e-192">Or jump to Mixed Reality platform capabilities and APIs:</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="4180e-193">Esperienze condivise</span><span class="sxs-lookup"><span data-stu-id="4180e-193">Shared experiences</span></span>](shared-experiences-in-unity.md)

<span data-ttu-id="4180e-194">È sempre possibile tornare ai [checkpoint per lo sviluppo con Unity](unity-development-overview.md#2-core-building-blocks) in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="4180e-194">You can always go back to the [Unity development checkpoints](unity-development-overview.md#2-core-building-blocks) at any time.</span></span>

## <a name="see-also"></a><span data-ttu-id="4180e-195">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="4180e-195">See also</span></span>

* [<span data-ttu-id="4180e-196">Puntamento con la testa e commit</span><span class="sxs-lookup"><span data-stu-id="4180e-196">Head-gaze and commit</span></span>](../../design/gaze-and-commit.md)
* [<span data-ttu-id="4180e-197">Controller del movimento</span><span class="sxs-lookup"><span data-stu-id="4180e-197">Motion controllers</span></span>](../../design/motion-controllers.md)