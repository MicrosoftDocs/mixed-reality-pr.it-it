---
title: MRTKStandardShader
description: Documentazione per MRTKStandardShader
author: CDiaz-MS
ms.author: cadia
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, realtà mista, sviluppo, MRTK, Material shader
ms.openlocfilehash: 608710296ec9bcf9dcb8a7672cbe356c3b1a0603
ms.sourcegitcommit: 59c91f8c70d1ad30995fba6cf862615e25e78d10
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/19/2021
ms.locfileid: "104702387"
---
# <a name="mrtk-standard-shader"></a><span data-ttu-id="8b108-104">Shader standard MRTK</span><span class="sxs-lookup"><span data-stu-id="8b108-104">MRTK Standard Shader</span></span>

![Esempi di shader standard](../images/mrtk-standard-shader/MRTK_StandardShader.jpg)

<span data-ttu-id="8b108-106">Il sistema di ombreggiatura standard MRTK usa un unico shader flessibile che può ottenere oggetti visivi simili allo shader standard di Unity, implementare i principi del [sistema di progettazione Fluent](https://www.microsoft.com/design/fluent/) e rimanere efficienti nei dispositivi a realtà mista.</span><span class="sxs-lookup"><span data-stu-id="8b108-106">MRTK Standard shading system utilizes a single, flexible shader that can achieve visuals similar to Unity's Standard Shader, implement [Fluent Design System](https://www.microsoft.com/design/fluent/) principles, and remain performant on mixed reality devices.</span></span>

## <a name="example-scenes"></a><span data-ttu-id="8b108-107">Scene di esempio</span><span class="sxs-lookup"><span data-stu-id="8b108-107">Example scenes</span></span>

<span data-ttu-id="8b108-108">È possibile trovare gli esempi di materiale dello shader nella scena **MaterialGallery** in `MRTK/Examples/Demos/StandardShader/Scenes/` .</span><span class="sxs-lookup"><span data-stu-id="8b108-108">You can find the shader material examples in the **MaterialGallery** scene under `MRTK/Examples/Demos/StandardShader/Scenes/`.</span></span> <span data-ttu-id="8b108-109">Tutti i materiali in questa scena utilizzano lo shader MRTK/standard.</span><span class="sxs-lookup"><span data-stu-id="8b108-109">All materials in this scene are using the MRTK/Standard shader.</span></span>

![Raccolta materiali](../images/mrtk-standard-shader/MRTK_MaterialGallery.jpg)

<span data-ttu-id="8b108-111">È possibile trovare una scena di confronto per confrontare e testare lo shader MRTK/standard rispetto all'esempio di Unity/standard shader nella scena **StandardMaterialComparison** sotto `MRTK/Examples/Demos/StandardShader/Scenes/` .</span><span class="sxs-lookup"><span data-stu-id="8b108-111">You can find a comparison scene to compare and test the MRTK/Standard shader against the Unity/Standard shader example in the **StandardMaterialComparison** scene under `MRTK/Examples/Demos/StandardShader/Scenes/`.</span></span>

![Confronto materiali](../images/mrtk-standard-shader/MRTK_StandardMaterialComparison.gif)

## <a name="architecture"></a><span data-ttu-id="8b108-113">Architettura</span><span class="sxs-lookup"><span data-stu-id="8b108-113">Architecture</span></span>

<span data-ttu-id="8b108-114">Il sistema di ombreggiatura MRTK/standard è un "uber shader" che usa la [funzionalità variant del programma shader di Unity](https://docs.unity3d.com/Manual/SL-MultipleProgramVariants.html) per generare automaticamente il codice dello shader ottimale in base alle proprietà del materiale.</span><span class="sxs-lookup"><span data-stu-id="8b108-114">The MRTK/Standard shading system is an "uber shader" that uses [Unity's shader program variant feature](https://docs.unity3d.com/Manual/SL-MultipleProgramVariants.html) to auto-generate optimal shader code based on material properties.</span></span> <span data-ttu-id="8b108-115">Quando un utente seleziona le proprietà del materiale in Material Inspector, comporta solo il costo delle prestazioni per le funzionalità abilitate.</span><span class="sxs-lookup"><span data-stu-id="8b108-115">When a user selects material properties in the material inspector, they only incur performance cost for features they have enabled.</span></span>

## <a name="material-inspector"></a><span data-ttu-id="8b108-116">Controllo materiale</span><span class="sxs-lookup"><span data-stu-id="8b108-116">Material inspector</span></span>

<span data-ttu-id="8b108-117">Un controllo Material personalizzato esiste per lo shader MRTK/standard chiamato [`MixedRealityStandardShaderGUI.cs`](xref:Microsoft.MixedReality.Toolkit.Editor.MixedRealityStandardShaderGUI) .</span><span class="sxs-lookup"><span data-stu-id="8b108-117">A custom material inspector exists for the MRTK/Standard shader called [`MixedRealityStandardShaderGUI.cs`](xref:Microsoft.MixedReality.Toolkit.Editor.MixedRealityStandardShaderGUI).</span></span> <span data-ttu-id="8b108-118">Il controllo Abilita/Disabilita automaticamente le funzionalità dello shader, in base alla selezione dell'utente e ai collaboratori per la configurazione dello stato di rendering.</span><span class="sxs-lookup"><span data-stu-id="8b108-118">The inspector automatically enables/disables shader features, based on user selection and aides in setting up render state.</span></span> <span data-ttu-id="8b108-119">Per altre informazioni su ogni funzionalità **, passare il puntatore del mouse su ogni proprietà nell'editor di Unity per una descrizione comando.**</span><span class="sxs-lookup"><span data-stu-id="8b108-119">For more information about each feature **please hover over each property in the Unity Editor for a tooltip.**</span></span>

![Controllo materiale](../images/mrtk-standard-shader/MRTK_MaterialInspector.jpg)

<span data-ttu-id="8b108-121">La prima parte del controllo Controlla lo stato di rendering del materiale.</span><span class="sxs-lookup"><span data-stu-id="8b108-121">The first portion of the inspector controls the material's render state.</span></span> <span data-ttu-id="8b108-122">La *modalità di rendering* determina quando e come verrà eseguito il rendering di un materiale.</span><span class="sxs-lookup"><span data-stu-id="8b108-122">*Rendering Mode* determines when and how a material will be rendered.</span></span> <span data-ttu-id="8b108-123">L'obiettivo dello shader MRTK/standard è quello di eseguire il mirroring delle [modalità di rendering disponibili nello shader Unity/standard](https://docs.unity3d.com/Manual/StandardShaderMaterialParameterRenderingMode.html).</span><span class="sxs-lookup"><span data-stu-id="8b108-123">The aim of the MRTK/Standard shader is to mirror the [rendering modes found in the Unity/Standard shader](https://docs.unity3d.com/Manual/StandardShaderMaterialParameterRenderingMode.html).</span></span> <span data-ttu-id="8b108-124">Lo shader MRTK/standard include anche una modalità di rendering *additiva* e la modalità di rendering *personalizzata* per il controllo utente completo.</span><span class="sxs-lookup"><span data-stu-id="8b108-124">The MRTK/Standard shader also includes an *Additive* rendering mode and *Custom* rendering mode for complete user control.</span></span>

| <span data-ttu-id="8b108-125">Modalità di rendering</span><span class="sxs-lookup"><span data-stu-id="8b108-125">Rendering Mode</span></span> |         <span data-ttu-id="8b108-126">Descrizione</span><span class="sxs-lookup"><span data-stu-id="8b108-126">Description</span></span>                                                                                                                                                                                                                                                                                                                                                           |
|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="8b108-127">Opaco</span><span class="sxs-lookup"><span data-stu-id="8b108-127">Opaque</span></span>         | <span data-ttu-id="8b108-128">Predefinita Adatto per oggetti solidi normali senza aree trasparenti.</span><span class="sxs-lookup"><span data-stu-id="8b108-128">(Default) Suitable for normal solid objects with no transparent areas.</span></span>                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="8b108-129">Ritaglio</span><span class="sxs-lookup"><span data-stu-id="8b108-129">Cutout</span></span>         | <span data-ttu-id="8b108-130">Consente la creazione di effetti trasparenti con bordi rigidi tra le aree opache e trasparenti.</span><span class="sxs-lookup"><span data-stu-id="8b108-130">Allows creation of transparent effects that have hard edges between the opaque and transparent areas.</span></span> <span data-ttu-id="8b108-131">In questa modalità non sono presenti aree semitrasparenti, la trama è opaca del 100% o invisibile.</span><span class="sxs-lookup"><span data-stu-id="8b108-131">In this mode, there are no semi-transparent areas, the texture is either 100% opaque, or invisible.</span></span> <span data-ttu-id="8b108-132">Questa operazione è utile quando si usa la trasparenza per creare la forma di materiali, ad esempio la vegetazione.</span><span class="sxs-lookup"><span data-stu-id="8b108-132">This is useful when using transparency to create the shape of materials, such as vegetation.</span></span>                                                              |
| <span data-ttu-id="8b108-133">Dissolvenza</span><span class="sxs-lookup"><span data-stu-id="8b108-133">Fade</span></span>           | <span data-ttu-id="8b108-134">Consente ai valori di trasparenza di dissolvere completamente un oggetto, incluse le evidenziazioni speculari o i riflessi che può avere.</span><span class="sxs-lookup"><span data-stu-id="8b108-134">Allows the transparency values to entirely fade an object out, including any specular highlights or reflections it may have.</span></span> <span data-ttu-id="8b108-135">Questa modalità è utile se si desidera animare il dissolvenza di un oggetto. Non è adatto per il rendering di materiali trasparenti realistici, ad esempio Clear Plastic o Glass, perché i riflessi e le evidenziazioni verranno anche sbiaditi.</span><span class="sxs-lookup"><span data-stu-id="8b108-135">This mode is useful if you want to animate an object fading in or out. It is not suitable for rendering realistic transparent materials such as clear plastic or glass because the reflections and highlights will also be faded out.</span></span> |
| <span data-ttu-id="8b108-136">Modalità trasparente</span><span class="sxs-lookup"><span data-stu-id="8b108-136">Transparent</span></span>    | <span data-ttu-id="8b108-137">Adatto per il rendering di materiali trasparenti realistici, ad esempio Clear Plastic o Glass.</span><span class="sxs-lookup"><span data-stu-id="8b108-137">Suitable for rendering realistic transparent materials such as clear plastic or glass.</span></span> <span data-ttu-id="8b108-138">In questa modalità, il materiale stesso prenderà i valori di trasparenza (in base al canale alfa della trama e all'alfa del colore della tinta).</span><span class="sxs-lookup"><span data-stu-id="8b108-138">In this mode, the material itself will take on transparency values (based on the texture’s alpha channel and the alpha of the tint colour).</span></span> <span data-ttu-id="8b108-139">Tuttavia, i riflessi e le evidenziazioni dell'illuminazione rimarranno visibili con chiarezza completa, come nel caso di materiali trasparenti reali.</span><span class="sxs-lookup"><span data-stu-id="8b108-139">However, reflections and lighting highlights will remain visible at full clarity as is the case with real transparent materials.</span></span> |
| <span data-ttu-id="8b108-140">Additive</span><span class="sxs-lookup"><span data-stu-id="8b108-140">Additive</span></span>       | <span data-ttu-id="8b108-141">Abilita una modalità di fusione additiva, che somma il colore del pixel precedente con il colore del pixel corrente.</span><span class="sxs-lookup"><span data-stu-id="8b108-141">Enables an additive blending mode, which sums the previous pixel color with the current pixel color.</span></span> <span data-ttu-id="8b108-142">Si tratta della modalità di trasparenza preferita per evitare problemi di ordinamento della trasparenza.</span><span class="sxs-lookup"><span data-stu-id="8b108-142">This is the preferred transparency mode to avoid transparency sorting issues.</span></span>                                                                                                                                                                                  |
| <span data-ttu-id="8b108-143">Personalizzato</span><span class="sxs-lookup"><span data-stu-id="8b108-143">Custom</span></span>         | <span data-ttu-id="8b108-144">Consente di controllare manualmente ogni aspetto della modalità di rendering.</span><span class="sxs-lookup"><span data-stu-id="8b108-144">Allows for every aspect of the rendering mode to be controlled manually.</span></span> <span data-ttu-id="8b108-145">Solo per uso avanzato.</span><span class="sxs-lookup"><span data-stu-id="8b108-145">For advanced usage only.</span></span>                                                                                                                                                                                                                                                                  |                                                                                                                                            |

![Modalità di rendering](../images/mrtk-standard-shader/MRTK_RenderingModes.jpg)

| <span data-ttu-id="8b108-147">Modalità di abbattimento</span><span class="sxs-lookup"><span data-stu-id="8b108-147">Cull Mode</span></span> |             <span data-ttu-id="8b108-148">Descrizione</span><span class="sxs-lookup"><span data-stu-id="8b108-148">Description</span></span>                                                                                                                                                                       |
|-----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="8b108-149">Off</span><span class="sxs-lookup"><span data-stu-id="8b108-149">Off</span></span>       | <span data-ttu-id="8b108-150">Disabilita l'abbattimento della faccia.</span><span class="sxs-lookup"><span data-stu-id="8b108-150">Disables face culling.</span></span> <span data-ttu-id="8b108-151">L'abbattimento deve essere impostato su off solo quando è necessaria una mesh bidirezionale.</span><span class="sxs-lookup"><span data-stu-id="8b108-151">Culling should only be set to Off when a two sided mesh is required.</span></span>                                                                                        |
| <span data-ttu-id="8b108-152">Front</span><span class="sxs-lookup"><span data-stu-id="8b108-152">Front</span></span>     | <span data-ttu-id="8b108-153">Abilita l'abbattimento della faccia anteriore.</span><span class="sxs-lookup"><span data-stu-id="8b108-153">Enables front face culling.</span></span>                                                                                                                                                        |
| <span data-ttu-id="8b108-154">Indietro</span><span class="sxs-lookup"><span data-stu-id="8b108-154">Back</span></span>      | <span data-ttu-id="8b108-155">Predefinita Consente l' [abbattimento della faccia indietro](https://en.wikipedia.org/wiki/Back-face_culling).</span><span class="sxs-lookup"><span data-stu-id="8b108-155">(Default) Enables [back face culling](https://en.wikipedia.org/wiki/Back-face_culling).</span></span> <span data-ttu-id="8b108-156">Per migliorare le prestazioni di rendering, è necessario abilitare l'abbattimento di back-face il più spesso possibile.</span><span class="sxs-lookup"><span data-stu-id="8b108-156">Back face culling should be enabled as often as possible to improve rendering performance.</span></span> |

## <a name="performance"></a><span data-ttu-id="8b108-157">Prestazioni</span><span class="sxs-lookup"><span data-stu-id="8b108-157">Performance</span></span>

<span data-ttu-id="8b108-158">Uno dei principali vantaggi dell'uso di MRTK standard shader rispetto a Unity standard shader è costituito dalle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="8b108-158">One of the primary advantages to using the MRTK Standard shader over the Unity standard shader is performance.</span></span> <span data-ttu-id="8b108-159">Lo shader standard MRTK è estendibile in modo da usare solo le funzionalità abilitate.</span><span class="sxs-lookup"><span data-stu-id="8b108-159">The MRTK Standard Shader is extensible to only utilize the features enabled.</span></span> <span data-ttu-id="8b108-160">Tuttavia, lo shader standard MRTK è stato scritto anche per offrire risultati estetici paragonabili come shader standard Unity, ma a un costo molto più basso.</span><span class="sxs-lookup"><span data-stu-id="8b108-160">However, the MRTK Standard shader has also been written to deliver comparable aesthetic results as the Unity Standard shader, but at a much lower cost.</span></span> <span data-ttu-id="8b108-161">Un modo semplice per confrontare le prestazioni dello shader è tramite il numero di operazioni che è necessario eseguire sulla GPU.</span><span class="sxs-lookup"><span data-stu-id="8b108-161">One simple way to compare shader performance is via the number of operations that needs to be performed on the GPU.</span></span> <span data-ttu-id="8b108-162">Naturalmente, la grandezza dei calcoli può variare in base alle funzionalità abilitate e ad altre configurazioni di rendering.</span><span class="sxs-lookup"><span data-stu-id="8b108-162">Of course, the magnitude of calculations may fluctuate by features enabled and other rendering configurations.</span></span> <span data-ttu-id="8b108-163">Tuttavia, in generale, lo shader standard MRTK esegue un calcolo significativamente inferiore rispetto allo shader standard di Unity.</span><span class="sxs-lookup"><span data-stu-id="8b108-163">But, in general, the MRTK Standard shader performs significantly less computation than the Unity Standard shader.</span></span>

<span data-ttu-id="8b108-164">Esempio di statistiche shader standard Unity</span><span class="sxs-lookup"><span data-stu-id="8b108-164">Unity Standard shader statistics example</span></span>

![Statistiche dello shader standard Unity](../images/performance/UnityStandardShader-Stats.PNG)

<span data-ttu-id="8b108-166">Esempio di statistiche shader standard MRTK</span><span class="sxs-lookup"><span data-stu-id="8b108-166">MRTK Standard shader statistics example</span></span>

![Statistiche dello shader standard MRTK](../images/performance/MRTKStandardShader-Stats.PNG)

> [!NOTE]
> <span data-ttu-id="8b108-168">Questi risultati possono essere generati selezionando e visualizzando un [asset dello shader](https://docs.unity3d.com/Manual/class-Shader.html) nel controllo di Unity, quindi facendo clic sul pulsante *Compila e Mostra codice* .</span><span class="sxs-lookup"><span data-stu-id="8b108-168">These results can be generated by selecting and viewing a [shader asset](https://docs.unity3d.com/Manual/class-Shader.html) in the Unity inspector, then clicking the *Compile and show code* button.</span></span>

## <a name="lighting"></a><span data-ttu-id="8b108-169">Luce</span><span class="sxs-lookup"><span data-stu-id="8b108-169">Lighting</span></span>

<span data-ttu-id="8b108-170">MRTK/standard usa una semplice approssimazione per l'illuminazione.</span><span class="sxs-lookup"><span data-stu-id="8b108-170">The MRTK/Standard uses a simple approximation for lighting.</span></span> <span data-ttu-id="8b108-171">Poiché questo shader non calcola la correttezza fisica e la conservazione dell'energia, il rendering viene eseguito in modo rapido ed efficiente.</span><span class="sxs-lookup"><span data-stu-id="8b108-171">Because this shader does not calculate for physical correctness and energy conservation, it renders quickly and efficiently.</span></span> <span data-ttu-id="8b108-172">Blinn-Phong è la tecnica di illuminazione principale, che viene mescolata con Fresnel e l'illuminazione basata su immagini per approssimare l'illuminazione fisica.</span><span class="sxs-lookup"><span data-stu-id="8b108-172">Blinn-Phong is the primary lighting technique which is blended with Fresnel and image-based lighting to approximate physically-based lighting.</span></span> <span data-ttu-id="8b108-173">Lo shader supporta le tecniche di illuminazione seguenti:</span><span class="sxs-lookup"><span data-stu-id="8b108-173">The shader supports the following lighting techniques:</span></span>

### <a name="directional-light"></a><span data-ttu-id="8b108-174">Luce direzionale</span><span class="sxs-lookup"><span data-stu-id="8b108-174">Directional light</span></span>

<span data-ttu-id="8b108-175">Lo shader rispetta la direzione, il colore e l'intensità della prima luce direzionale di Unity nella scena (se abilitata).</span><span class="sxs-lookup"><span data-stu-id="8b108-175">The shader will respect the direction, color, and intensity of the first Unity Directional Light in the scene (if enabled).</span></span> <span data-ttu-id="8b108-176">I punti luminosi dinamici, le luci spot o qualsiasi altra luce di Unity non verranno presi in considerazione nell'illuminazione in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="8b108-176">Dynamic point lights, spot lights, or any other Unity light will not be considered in real time lighting.</span></span>

### <a name="spherical-harmonics"></a><span data-ttu-id="8b108-177">Armoniche sferiche</span><span class="sxs-lookup"><span data-stu-id="8b108-177">Spherical harmonics</span></span>

<span data-ttu-id="8b108-178">Lo shader userà sonde leggere per approssimare luci nella scena usando [armoniche sferiche](https://docs.unity3d.com/Manual/LightProbes-TechnicalInformation.html), se abilitate.</span><span class="sxs-lookup"><span data-stu-id="8b108-178">The shader will use Light Probes to approximate lights in the scene using [Spherical Harmonics](https://docs.unity3d.com/Manual/LightProbes-TechnicalInformation.html), if enabled.</span></span> <span data-ttu-id="8b108-179">I calcoli delle armoniche sferiche vengono eseguiti per ogni vertice per ridurre i costi di calcolo.</span><span class="sxs-lookup"><span data-stu-id="8b108-179">Spherical harmonics calculations are performed per vertex to reduce calculation cost.</span></span>

### <a name="lightmapping"></a><span data-ttu-id="8b108-180">Lightmapping</span><span class="sxs-lookup"><span data-stu-id="8b108-180">Lightmapping</span></span>

<span data-ttu-id="8b108-181">Per l'illuminazione statica, lo shader rispetterà lightmaps compilata dal [sistema Lightmapping](https://docs.unity3d.com/Manual/Lightmapping.html)di Unity.</span><span class="sxs-lookup"><span data-stu-id="8b108-181">For static lighting, the shader will respect lightmaps built by Unity's [Lightmapping system](https://docs.unity3d.com/Manual/Lightmapping.html).</span></span> <span data-ttu-id="8b108-182">È sufficiente contrassegnare il renderer come statico (o lightmap statico) per l'uso di lightmaps.</span><span class="sxs-lookup"><span data-stu-id="8b108-182">Simply mark the renderer as static (or lightmap static) to use lightmaps.</span></span>

### <a name="hover-light"></a><span data-ttu-id="8b108-183">Luce al passaggio del mouse</span><span class="sxs-lookup"><span data-stu-id="8b108-183">Hover light</span></span>

* <span data-ttu-id="8b108-184">Vedere la [luce del passaggio del mouse](hover-light.md)</span><span class="sxs-lookup"><span data-stu-id="8b108-184">See [Hover Light](hover-light.md)</span></span>

### <a name="proximity-light"></a><span data-ttu-id="8b108-185">Luce vicina</span><span class="sxs-lookup"><span data-stu-id="8b108-185">Proximity light</span></span>

* <span data-ttu-id="8b108-186">Vedere la [luce vicina](proximity-light.md)</span><span class="sxs-lookup"><span data-stu-id="8b108-186">See [Proximity Light](proximity-light.md)</span></span>

## <a name="lightweight-scriptable-render-pipeline-support"></a><span data-ttu-id="8b108-187">Supporto semplificato per la pipeline di rendering con script</span><span class="sxs-lookup"><span data-stu-id="8b108-187">Lightweight Scriptable Render Pipeline support</span></span>

<span data-ttu-id="8b108-188">Il MRTK contiene un percorso di aggiornamento che consente agli sviluppatori di usare la pipeline di rendering con script Lightweight di Unity (LWRP) con MRTK shader.</span><span class="sxs-lookup"><span data-stu-id="8b108-188">The MRTK contains an upgrade path to allow developers to utilize Unity's Lightweight Scriptable Render Pipeline (LWRP) with MRTK shaders.</span></span> <span data-ttu-id="8b108-189">Testato in Unity 2019.1.1 F1 e Lightweight RP 5.7.2 Package.</span><span class="sxs-lookup"><span data-stu-id="8b108-189">Tested in Unity 2019.1.1f1 and Lightweight RP 5.7.2 package.</span></span> <span data-ttu-id="8b108-190">per istruzioni su come iniziare a usare LWRP, vedere [Questa pagina](https://docs.unity3d.com/Packages/com.unity.render-pipelines.lightweight@5.10/manual/getting-started-with-lwrp.html).</span><span class="sxs-lookup"><span data-stu-id="8b108-190">or instructions on getting started with the LWRP, see [this page](https://docs.unity3d.com/Packages/com.unity.render-pipelines.lightweight@5.10/manual/getting-started-with-lwrp.html).</span></span>

<span data-ttu-id="8b108-191">Per eseguire l'aggiornamento di MRTK, selezionare il **Toolkit di realtà mista-> Utilities-> aggiornare lo shader standard MRTK per la pipeline di rendering semplice**</span><span class="sxs-lookup"><span data-stu-id="8b108-191">To perform the MRTK upgrade, select: **Mixed Reality Toolkit -> Utilities -> Upgrade MRTK Standard Shader for Lightweight Render Pipeline**</span></span>

![aggiornamento di lwrp](../images/mrtk-standard-shader/MRTK_LWRPUpgrade.jpg)

<span data-ttu-id="8b108-193">Una volta eseguito l'aggiornamento, lo shader MRTK/standard verrà modificato ed eventuali materiali Magenta (errore shader) dovranno essere corretti.</span><span class="sxs-lookup"><span data-stu-id="8b108-193">After the upgrade occurs, the MRTK/Standard shader will be altered and any magenta (shader error) materials should be fixed.</span></span> <span data-ttu-id="8b108-194">Per verificare che l'aggiornamento sia stato eseguito correttamente, controllare la console di: **aggiornato assets/MixedRealityToolkit/StandardAssets/shaders/MixedRealityStandard. shader per l'uso con la pipeline di rendering Lightweight.**</span><span class="sxs-lookup"><span data-stu-id="8b108-194">To verify the upgrade successfully occurred, check the console for: **Upgraded Assets/MixedRealityToolkit/StandardAssets/Shaders/MixedRealityStandard.shader for use with the Lightweight Render Pipeline.**</span></span>

## <a name="ugui-support"></a><span data-ttu-id="8b108-195">Supporto di UGUI</span><span class="sxs-lookup"><span data-stu-id="8b108-195">UGUI support</span></span>

<span data-ttu-id="8b108-196">Il sistema di ombreggiatura standard MRTK funziona con il sistema di [interfaccia utente](https://docs.unity3d.com/Manual/UISystem.html)incorporato di Unity.</span><span class="sxs-lookup"><span data-stu-id="8b108-196">The MRTK Standard shading system works with Unity's built in [UI system](https://docs.unity3d.com/Manual/UISystem.html).</span></span> <span data-ttu-id="8b108-197">Nei componenti dell'interfaccia utente di Unity, la matrice di unity_ObjectToWorld non è la matrice di trasformazione della trasformazione locale su cui si trova il componente grafico, ma quella dell'area di disegno padre.</span><span class="sxs-lookup"><span data-stu-id="8b108-197">On Unity UI components, the unity_ObjectToWorld matrix is not the transformation matrix of the local transform the Graphic component lives on but that of its parent Canvas.</span></span> <span data-ttu-id="8b108-198">Molti effetti dello shader MRTK/standard richiedono che la scala degli oggetti sia nota.</span><span class="sxs-lookup"><span data-stu-id="8b108-198">Many MRTK/Standard shader effects require object scale to be known.</span></span> <span data-ttu-id="8b108-199">Per risolvere questo problema, [`ScaleMeshEffect.cs`](xref:Microsoft.MixedReality.Toolkit.Input.Utilities.ScaleMeshEffect) archivia le informazioni di ridimensionamento negli attributi del canale UV durante la costruzione della mesh dell'interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="8b108-199">To solve this issue, the [`ScaleMeshEffect.cs`](xref:Microsoft.MixedReality.Toolkit.Input.Utilities.ScaleMeshEffect) will store scaling information into UV channel attributes during UI mesh construction.</span></span>

<span data-ttu-id="8b108-200">Si noti che quando si usa un componente immagine Unity, è consigliabile specificare "None (sprite)" per l'immagine di origine per impedire che l'interfaccia utente di Unity crei vertici aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="8b108-200">Note, when using a Unity Image component, it is recommended to specify "None (Sprite)" for the Source Image to prevent Unity UI from generating extra vertices.</span></span>

<span data-ttu-id="8b108-201">Un'area di disegno all'interno del MRTK richiederà l'aggiunta di un [`ScaleMeshEffect.cs`](xref:Microsoft.MixedReality.Toolkit.Input.Utilities.ScaleMeshEffect) quando necessario:</span><span class="sxs-lookup"><span data-stu-id="8b108-201">A Canvas within the MRTK will prompt for the addition of a [`ScaleMeshEffect.cs`](xref:Microsoft.MixedReality.Toolkit.Input.Utilities.ScaleMeshEffect) when one is required:</span></span>

![Ridimensiona effetto mesh](../images/mrtk-standard-shader/MRTK_ScaleMeshEffect.jpg)

## <a name="texture-combiner"></a><span data-ttu-id="8b108-203">Combinatore trama</span><span class="sxs-lookup"><span data-stu-id="8b108-203">Texture combiner</span></span>

<span data-ttu-id="8b108-204">Per migliorare la parità con lo shader standard Unity per pixel, i valori metallic, smoothity, emissivo e occlusion possono essere controllati tramite la [compressione del canale](http://wiki.polycount.com/wiki/ChannelPacking).</span><span class="sxs-lookup"><span data-stu-id="8b108-204">To improve parity with the Unity Standard shader per pixel metallic, smoothness, emissive, and occlusion values can all be controlled via [channel packing](http://wiki.polycount.com/wiki/ChannelPacking).</span></span> <span data-ttu-id="8b108-205">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="8b108-205">For example:</span></span>

![esempio di mappa del canale](../images/mrtk-standard-shader/MRTK_ChannelMap.gif)

<span data-ttu-id="8b108-207">Quando si usa la compressione del canale, è necessario campionare e caricare una sola trama in memoria invece di quattro separate.</span><span class="sxs-lookup"><span data-stu-id="8b108-207">When you use channel packing, you only have to sample and load one texture into memory instead of four separate ones.</span></span> <span data-ttu-id="8b108-208">Quando si scrivono le mappe di trama in un programma come sostanza o Photoshop, è possibile passare a un pacchetto simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="8b108-208">When you write your texture maps in a program like Substance or Photoshop, you can hand pack them like the following:</span></span>

| <span data-ttu-id="8b108-209">Canale</span><span class="sxs-lookup"><span data-stu-id="8b108-209">Channel</span></span> | <span data-ttu-id="8b108-210">Proprietà</span><span class="sxs-lookup"><span data-stu-id="8b108-210">Property</span></span>             |
|---------|----------------------|
| <span data-ttu-id="8b108-211">Red</span><span class="sxs-lookup"><span data-stu-id="8b108-211">Red</span></span>     | <span data-ttu-id="8b108-212">Metallica</span><span class="sxs-lookup"><span data-stu-id="8b108-212">Metallic</span></span>             |
| <span data-ttu-id="8b108-213">Green</span><span class="sxs-lookup"><span data-stu-id="8b108-213">Green</span></span>   | <span data-ttu-id="8b108-214">Occlusione</span><span class="sxs-lookup"><span data-stu-id="8b108-214">Occlusion</span></span>            |
| <span data-ttu-id="8b108-215">Blu</span><span class="sxs-lookup"><span data-stu-id="8b108-215">Blue</span></span>    | <span data-ttu-id="8b108-216">Emissione (scala di grigi)</span><span class="sxs-lookup"><span data-stu-id="8b108-216">Emission (Greyscale)</span></span> |
| <span data-ttu-id="8b108-217">Alfa</span><span class="sxs-lookup"><span data-stu-id="8b108-217">Alpha</span></span>   | <span data-ttu-id="8b108-218">Scorrevolezza</span><span class="sxs-lookup"><span data-stu-id="8b108-218">Smoothness</span></span>           |

<span data-ttu-id="8b108-219">In alternativa, è possibile usare lo strumento MRTK texture Combiner.</span><span class="sxs-lookup"><span data-stu-id="8b108-219">Or, you can use the MRTK Texture Combiner Tool.</span></span> <span data-ttu-id="8b108-220">Per aprire lo strumento, selezionare: **mixed reality Toolkit-> Utilities-> texture Combiner** che consente di aprire la finestra seguente:</span><span class="sxs-lookup"><span data-stu-id="8b108-220">To open the tool, select: **Mixed Reality Toolkit -> Utilities -> Texture Combiner** which will open the below window:</span></span>

![esempio di combinazione di trame](../images/mrtk-standard-shader/MRTK_TextureCombiner.jpg)

<span data-ttu-id="8b108-222">Questa finestra può essere compilata automaticamente selezionando uno shader standard Unity e facendo clic su "popolamento automatico da materiale standard".</span><span class="sxs-lookup"><span data-stu-id="8b108-222">This window can be automatically filled out by selecting a Unity Standard shader and clicking "Autopopulate from Standard Material."</span></span> <span data-ttu-id="8b108-223">In alternativa, è possibile specificare manualmente una trama (o un valore costante) per canale rosso, verde, blu o alfa.</span><span class="sxs-lookup"><span data-stu-id="8b108-223">Or, you can manually specify a texture (or constant value) per red, green, blue, or alpha channel.</span></span> <span data-ttu-id="8b108-224">La combinazione di trame è accelerata con GPU e non richiede che la trama di input sia accessibile alla CPU.</span><span class="sxs-lookup"><span data-stu-id="8b108-224">The texture combination is GPU accelerated and does not require the input texture to be CPU accessible.</span></span>

## <a name="additional-feature-documentation"></a><span data-ttu-id="8b108-225">Documentazione aggiuntiva sulle funzionalità</span><span class="sxs-lookup"><span data-stu-id="8b108-225">Additional feature documentation</span></span>

<span data-ttu-id="8b108-226">Di seguito sono riportate informazioni aggiuntive su alcuni dettagli delle funzionalità disponibili con lo shader MRTK/standard.</span><span class="sxs-lookup"><span data-stu-id="8b108-226">Below are extra details on a handful of feature details available with the MRTK/Standard shader.</span></span>

### <a name="primitive-clipping"></a><span data-ttu-id="8b108-227">Ritaglio primitivo</span><span class="sxs-lookup"><span data-stu-id="8b108-227">Primitive clipping</span></span>

![ritaglio primitivo](../images/mrtk-standard-shader/MRTK_PrimitiveClipping.gif)

* <span data-ttu-id="8b108-229">Vedere [primitiva di ritaglio](clipping-primitive.md)</span><span class="sxs-lookup"><span data-stu-id="8b108-229">See [Clipping Primitive](clipping-primitive.md)</span></span>

### <a name="mesh-outlines"></a><span data-ttu-id="8b108-230">Strutture mesh</span><span class="sxs-lookup"><span data-stu-id="8b108-230">Mesh outlines</span></span>

<span data-ttu-id="8b108-231">Molte tecniche di struttura mesh vengono eseguite utilizzando una tecnica di [post-elaborazione](https://docs.unity3d.com/Manual/PostProcessingOverview.html) .</span><span class="sxs-lookup"><span data-stu-id="8b108-231">Many mesh outline techniques are done using a [post processing](https://docs.unity3d.com/Manual/PostProcessingOverview.html) technique.</span></span> <span data-ttu-id="8b108-232">La post-elaborazione fornisce strutture di qualità elevata, ma può essere eccessivamente costosa in molti dispositivi di realtà mista.</span><span class="sxs-lookup"><span data-stu-id="8b108-232">Post processing provides great quality outlines, but can be prohibitively expensive on many Mixed Reality devices.</span></span> <span data-ttu-id="8b108-233">È possibile trovare una scena che illustra l'uso di strutture mesh nella scena  **OutlineExamples** sotto `MRTK/Examples/Demos/StandardShader/Scenes/` .</span><span class="sxs-lookup"><span data-stu-id="8b108-233">You can find a scene that demonstrates usage of mesh outlines in the  **OutlineExamples** scene under `MRTK/Examples/Demos/StandardShader/Scenes/`.</span></span>

<img src="../images/mrtk-standard-shader/MRTK_MeshOutline.jpg" width="900" alt="Mesh Outline">

<span data-ttu-id="8b108-234">[`MeshOutline.cs`](xref:Microsoft.MixedReality.Toolkit.Utilities.MeshOutline) e [`MeshOutlineHierarchy.cs`](xref:Microsoft.MixedReality.Toolkit.Utilities.MeshOutlineHierarchy) possono essere usati per eseguire il rendering di una struttura intorno a un renderer mesh.</span><span class="sxs-lookup"><span data-stu-id="8b108-234">[`MeshOutline.cs`](xref:Microsoft.MixedReality.Toolkit.Utilities.MeshOutline) and [`MeshOutlineHierarchy.cs`](xref:Microsoft.MixedReality.Toolkit.Utilities.MeshOutlineHierarchy) can be used to render an outline around a mesh renderer.</span></span> <span data-ttu-id="8b108-235">L'abilitazione di questo componente introduce un passaggio di rendering aggiuntivo dell'oggetto che viene descritto, ma è progettato per eseguire performantly nei dispositivi mobili di realtà mista e non usa alcun processo post.</span><span class="sxs-lookup"><span data-stu-id="8b108-235">Enabling this component introduces an additional render pass of the object being outlined, but is designed to run performantly on mobile Mixed Reality devices and does not utilize any post processes.</span></span> <span data-ttu-id="8b108-236">Le limitazioni di questo effetto includono che non funziona bene per gli oggetti che non sono stagni (o che devono essere bilaterali) ed è possibile che si verifichino problemi di ordinamento di profondità sugli oggetti sovrapposti.</span><span class="sxs-lookup"><span data-stu-id="8b108-236">Limitations of this effect include it not working well on objects which are not watertight (or required to be two sided) and depth sorting issues can occur on overlapping objects.</span></span>

<span data-ttu-id="8b108-237">I comportamenti del contorno sono progettati per essere usati insieme allo shader MRTK/standard.</span><span class="sxs-lookup"><span data-stu-id="8b108-237">The outline behaviors are designed to be used in conjunction with the MRTK/Standard shader.</span></span> <span data-ttu-id="8b108-238">I materiali di contorno sono in genere un colore spento, ma possono essere configurati per ottenere una vasta gamma di effetti.</span><span class="sxs-lookup"><span data-stu-id="8b108-238">Outline materials are usually a solid unlit color, but can be configured to achieve a wide array of effects.</span></span> <span data-ttu-id="8b108-239">La configurazione predefinita di un materiale della struttura è la seguente:</span><span class="sxs-lookup"><span data-stu-id="8b108-239">The default configuration of a outline material is as follows:</span></span>

<img src="../images/mrtk-standard-shader/MRTK_OutlineMaterial.jpg" width="450" alt="Mesh Outline Material">

1. <span data-ttu-id="8b108-240">Depth Write: deve essere disabilitato per i materiali della struttura per assicurarsi che la struttura non impedisca il rendering di altri oggetti.</span><span class="sxs-lookup"><span data-stu-id="8b108-240">Depth Write - should be disabled for outline materials to make sure the outline does not prevent other objects from rendering.</span></span>
2. <span data-ttu-id="8b108-241">Estrusione dei vertici: è necessario abilitare per eseguire il rendering della struttura.</span><span class="sxs-lookup"><span data-stu-id="8b108-241">Vertex Extrusion - needs to be enabled to render the outline.</span></span>
3. <span data-ttu-id="8b108-242">USA smooth normals: questa impostazione è facoltativa per alcune mesh.</span><span class="sxs-lookup"><span data-stu-id="8b108-242">Use Smooth Normals - this setting is optional for some meshes.</span></span> <span data-ttu-id="8b108-243">L'estrusione viene eseguita spostando un vertice lungo una normale del vertice, in alcune mesh l'estrusione lungo le normali predefinite provocherà discontinuità nel contorno.</span><span class="sxs-lookup"><span data-stu-id="8b108-243">Extrusion occurs by moving a vertex along a vertex normal, on some meshes extruding along the default normals will cause discontinuities in the outline.</span></span> <span data-ttu-id="8b108-244">Per correggere queste discontinuità, è possibile selezionare questa casella per usare un altro set di normali uniformi che vengono generati da [`MeshSmoother.cs`](xref:Microsoft.MixedReality.Toolkit.Utilities.MeshSmoother)</span><span class="sxs-lookup"><span data-stu-id="8b108-244">To fix these discontinuities, you can check this box to use another set of smoothed normals which get generated by [`MeshSmoother.cs`](xref:Microsoft.MixedReality.Toolkit.Utilities.MeshSmoother)</span></span>

<span data-ttu-id="8b108-245">[`MeshSmoother.cs`](xref:Microsoft.MixedReality.Toolkit.Utilities.MeshSmoother) è un componente che può essere utilizzato per generare automaticamente normali uniformi su una mesh.</span><span class="sxs-lookup"><span data-stu-id="8b108-245">[`MeshSmoother.cs`](xref:Microsoft.MixedReality.Toolkit.Utilities.MeshSmoother) is a component which can be used to automatically generate smoothed normals on a mesh.</span></span> <span data-ttu-id="8b108-246">Questo metodo raggruppa i vertici in una mesh che condividono la stessa posizione nello spazio, quindi calcola la media dei normali vertici.</span><span class="sxs-lookup"><span data-stu-id="8b108-246">This method groups vertices in a mesh that share the same location in space then averages the normals of those vertices.</span></span> <span data-ttu-id="8b108-247">Questo processo crea una copia della mesh sottostante e deve essere usata solo quando richiesto.</span><span class="sxs-lookup"><span data-stu-id="8b108-247">This process creates a copy of the underlying mesh and should be used only when required.</span></span>

<img src="../images/mrtk-standard-shader/MRTK_SmoothNormals.jpg" width="450" alt="Smooth Normals Outline">

1. <span data-ttu-id="8b108-248">Normali normali generate tramite [`MeshSmoother.cs`](xref:Microsoft.MixedReality.Toolkit.Utilities.MeshSmoother) .</span><span class="sxs-lookup"><span data-stu-id="8b108-248">Smooth normals generated via [`MeshSmoother.cs`](xref:Microsoft.MixedReality.Toolkit.Utilities.MeshSmoother).</span></span>
2. <span data-ttu-id="8b108-249">Valori normali predefiniti usati. si notino gli elementi intorno agli angoli del cubo.</span><span class="sxs-lookup"><span data-stu-id="8b108-249">Default normals used, notice the artifacts around the cube corners.</span></span>

### <a name="stencil-testing"></a><span data-ttu-id="8b108-250">Test di stencil</span><span class="sxs-lookup"><span data-stu-id="8b108-250">Stencil testing</span></span>

<span data-ttu-id="8b108-251">Incorporato supporto per test di stencil configurabili per ottenere una vasta gamma di effetti.</span><span class="sxs-lookup"><span data-stu-id="8b108-251">Built in configurable stencil test support to achieve a wide array of effects.</span></span> <span data-ttu-id="8b108-252">Ad esempio i portali:</span><span class="sxs-lookup"><span data-stu-id="8b108-252">Such as portals:</span></span>

![test stencil](../images/mrtk-standard-shader/MRTK_StencilTest.gif)

### <a name="instanced-color-support"></a><span data-ttu-id="8b108-254">Supporto di colori per istanza</span><span class="sxs-lookup"><span data-stu-id="8b108-254">Instanced color support</span></span>

<span data-ttu-id="8b108-255">Supporto dei colori dell'istanza per concedere a migliaia di mesh di istanze GPU le proprietà del materiale univoche:</span><span class="sxs-lookup"><span data-stu-id="8b108-255">Instanced color support to give thousands of GPU instanced meshes unique material properties:</span></span>

![Proprietà istanza](../images/mrtk-standard-shader/MRTK_InstancedProperties.gif)

### <a name="triplanar-mapping"></a><span data-ttu-id="8b108-257">Mapping Triplanare</span><span class="sxs-lookup"><span data-stu-id="8b108-257">Triplanar mapping</span></span>

<span data-ttu-id="8b108-258">Il mapping Tripiano è una tecnica per la trama a livello di codice di una mesh.</span><span class="sxs-lookup"><span data-stu-id="8b108-258">Triplanar mapping is a technique to programmatically texture a mesh.</span></span> <span data-ttu-id="8b108-259">Spesso usato in un terreno, mesh senza UV o con difficoltà nell'annullare il wrapping di forme.</span><span class="sxs-lookup"><span data-stu-id="8b108-259">Often used in terrain, meshes without UVs, or difficult to unwrap shapes.</span></span> <span data-ttu-id="8b108-260">Questa implementazione supporta la proiezione dello spazio globale o locale, la specifica della uniformità della sfumatura e il normale supporto della mappa.</span><span class="sxs-lookup"><span data-stu-id="8b108-260">This implementation supports world or local space projection, the specification of blending smoothness, and normal map support.</span></span> <span data-ttu-id="8b108-261">Si noti che per ogni trama utilizzata sono necessari 3 esempi di trama, pertanto è necessario utilizzare le situazioni critiche per le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="8b108-261">Note, each texture used requires 3 texture samples, so use sparingly in performance critical situations.</span></span>

![Triplanare](../images/mrtk-standard-shader/MRTK_TriplanarMapping.gif)

### <a name="vertex-extrusion"></a><span data-ttu-id="8b108-263">Estrusione di vertici</span><span class="sxs-lookup"><span data-stu-id="8b108-263">Vertex extrusion</span></span>

<span data-ttu-id="8b108-264">Estrusione di vertici nello spazio globale.</span><span class="sxs-lookup"><span data-stu-id="8b108-264">Vertex extrusion in world space.</span></span> <span data-ttu-id="8b108-265">Utile per visualizzare i volumi di delimitazione estrusi o le transizioni in/out mesh.</span><span class="sxs-lookup"><span data-stu-id="8b108-265">Useful for visualizing extruded bounding volumes or transitions in/out meshes.</span></span>

![scala normale mappa 1](../images/mrtk-standard-shader/MRTK_VertexExtrusion.gif)

### <a name="miscellaneous"></a><span data-ttu-id="8b108-267">Varie</span><span class="sxs-lookup"><span data-stu-id="8b108-267">Miscellaneous</span></span>

<span data-ttu-id="8b108-268">Casella di controllo per controllare le ottimizzazioni di albedo.</span><span class="sxs-lookup"><span data-stu-id="8b108-268">A checkbox to control albedo optimizations.</span></span> <span data-ttu-id="8b108-269">Poiché le operazioni di ottimizzazione Albedo vengono disabilitate quando non viene specificata alcuna trama di albedo.</span><span class="sxs-lookup"><span data-stu-id="8b108-269">As an optimization albedo operations are disabled when no albedo texture is specified.</span></span> <span data-ttu-id="8b108-270">Questa operazione è utile per controllare il [caricamento di trame Remote](http://dotnetbyexample.blogspot.com/2018/10/workaround-remote-texture-loading-does.html).</span><span class="sxs-lookup"><span data-stu-id="8b108-270">This is useful for controlling [remote texture loading](http://dotnetbyexample.blogspot.com/2018/10/workaround-remote-texture-loading-does.html).</span></span>

<span data-ttu-id="8b108-271">È sufficiente selezionare questa casella:</span><span class="sxs-lookup"><span data-stu-id="8b108-271">Simply check this box:</span></span>

![assegnazione albedo](../images/mrtk-standard-shader/MRTK_AlbedoAssignment.jpg)

<span data-ttu-id="8b108-273">Sono supportate le trame di ritaglio per pixel, l'anti-aliasing basato su Edge locale e il ridimensionamento normale della mappa.</span><span class="sxs-lookup"><span data-stu-id="8b108-273">Per pixel clipping textures, local edge based anti aliasing, and normal map scaling are supported.</span></span>

![scala mappa normale 2](../images/mrtk-standard-shader/MRTK_NormalMapScale.gif)

## <a name="see-also"></a><span data-ttu-id="8b108-275">Vedi anche</span><span class="sxs-lookup"><span data-stu-id="8b108-275">See also</span></span>

* [<span data-ttu-id="8b108-276">Con cui</span><span class="sxs-lookup"><span data-stu-id="8b108-276">Interactable</span></span>](../ux-building-blocks/interactable.md)
* [<span data-ttu-id="8b108-277">Luce al passaggio del mouse</span><span class="sxs-lookup"><span data-stu-id="8b108-277">Hover Light</span></span>](hover-light.md)
* [<span data-ttu-id="8b108-278">Luce vicina</span><span class="sxs-lookup"><span data-stu-id="8b108-278">Proximity Light</span></span>](proximity-light.md)
* [<span data-ttu-id="8b108-279">Primitiva di ritaglio</span><span class="sxs-lookup"><span data-stu-id="8b108-279">Clipping Primitive</span></span>](clipping-primitive.md)
