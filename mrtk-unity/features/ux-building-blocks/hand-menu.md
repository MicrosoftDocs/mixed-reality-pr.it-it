---
title: Menu a mano
description: Scena di esempio del menu a mano in MRTK
author: cre8ivepark
ms.author: dongpark
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, realtà mista, sviluppo, MRTK, HandMenu,
ms.openlocfilehash: 9bb0276c048912b4f463dd93d3303c9a3af8fe29
ms.sourcegitcommit: f338b1f121a10577bcce08a174e462cdc86d5874
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/01/2021
ms.locfileid: "113177519"
---
# <a name="hand-menu"></a><span data-ttu-id="c68ac-104">Menu a mano</span><span class="sxs-lookup"><span data-stu-id="c68ac-104">Hand menu</span></span>

![Esempio di esperienza utente del menu a mano](../images/solver/MRTK_UX_HandMenu.png)

<span data-ttu-id="c68ac-106">I menu a mano consentono agli utenti di visualizzare rapidamente l'interfaccia utente collegata a mano per le funzioni usate di frequente.</span><span class="sxs-lookup"><span data-stu-id="c68ac-106">Hand menus allow users to quickly bring up hand-attached UI for frequently used functions.</span></span> <span data-ttu-id="c68ac-107">Per evitare una falsa attivazione durante l'interazione con altri oggetti, il menu a forma di mano offre opzioni come "Richiedi mano piatta" e "Usa attivazione dello sguardo fisso".</span><span class="sxs-lookup"><span data-stu-id="c68ac-107">To prevent false activation while interacting with other objects, hand menu provides options such as 'Require Flat Hand' and 'Use Gaze Activation'.</span></span> <span data-ttu-id="c68ac-108">È consigliabile usare queste opzioni per impedire l'attivazione indesiderata.</span><span class="sxs-lookup"><span data-stu-id="c68ac-108">It is recommended to use these options to prevent unwanted activation.</span></span>

## <a name="hand-menu-examples"></a><span data-ttu-id="c68ac-109">Esempi di menu a mano</span><span class="sxs-lookup"><span data-stu-id="c68ac-109">Hand menu examples</span></span>

<span data-ttu-id="c68ac-110">**La scena HandMenuExamples.unity** si trova nella ``MRTK/Examples/Demos/HandTracking/Scenes`` cartella .</span><span class="sxs-lookup"><span data-stu-id="c68ac-110">**HandMenuExamples.unity** scene is under ``MRTK/Examples/Demos/HandTracking/Scenes`` folder.</span></span> <span data-ttu-id="c68ac-111">Quando è in esecuzione, la scena attiverà solo il tipo di menu attualmente selezionato.</span><span class="sxs-lookup"><span data-stu-id="c68ac-111">When it is running, the scene will only activate currently selected menu type.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_ExampleScene.png" width="600px" alt="HandMenu_ExampleScene">

<span data-ttu-id="c68ac-112">Questi prefab del menu a mano sono disponibili nella ``MRTK/Examples/Demos/HandTracking/Prefabs`` cartella .</span><span class="sxs-lookup"><span data-stu-id="c68ac-112">You can find these hand menu prefabs under ``MRTK/Examples/Demos/HandTracking/Prefabs`` folder.</span></span>

### <a name="handmenu_small_hideonhanddrop-and-handmenu_medium_hideonhanddrop"></a><span data-ttu-id="c68ac-113">HandMenu_Small_HideOnHandDrop e HandMenu_Medium_HideOnHandDrop</span><span class="sxs-lookup"><span data-stu-id="c68ac-113">HandMenu_Small_HideOnHandDrop and HandMenu_Medium_HideOnHandDrop</span></span>

<span data-ttu-id="c68ac-114">Questi due esempi semplicemente attivano e disattivano l'oggetto MenuContent per visualizzare e nascondere il menu negli eventi **OnFirstHandDetected()** e **OnLastHandLost().**</span><span class="sxs-lookup"><span data-stu-id="c68ac-114">These two examples simply activate and deactivate the MenuContent object to show and hide menu on **OnFirstHandDetected()** and **OnLastHandLost()** event.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example1.png" width="600" alt="HandMenu_ExampleScene 1">
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example2.png" width="600" alt="HandMenu_ExampleScene 2">

### <a name="handmenu_large_worldlock_on_grabandpull"></a><span data-ttu-id="c68ac-115">HandMenu_Large_WorldLock_On_GrabAndPull</span><span class="sxs-lookup"><span data-stu-id="c68ac-115">HandMenu_Large_WorldLock_On_GrabAndPull</span></span>

<span data-ttu-id="c68ac-116">Per i menu più complessi che richiedono più tempo di interazione, è consigliabile bloccare il menu.</span><span class="sxs-lookup"><span data-stu-id="c68ac-116">For more complex menus that require longer interaction time, it is recommended to world-lock the menu.</span></span> <span data-ttu-id="c68ac-117">In questo esempio l'utente può afferrare e tirare per bloccare il menu, oltre ad attivare e disattivare menuContent negli eventi **OnFirstHandDetected()** e **OnLastHandLost().**</span><span class="sxs-lookup"><span data-stu-id="c68ac-117">In this example, the user can grab and pull to world-lock the menu, in addition to activating and deactivating the MenuContent on **OnFirstHandDetected()** and **OnLastHandLost()** events.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example3.png" width="600" alt="HandMenu_ExampleScene 3">

<span data-ttu-id="c68ac-118">Il backplate `ManipulationHandler` lo rende afferrabile e mobile.</span><span class="sxs-lookup"><span data-stu-id="c68ac-118">Backplate's `ManipulationHandler` makes it grabbable and movable.</span></span> <span data-ttu-id="c68ac-119">**In caso di evento Manipulation Started,** **SolverHandler.UpdateSolvers** viene disattivato per bloccare il menu.</span><span class="sxs-lookup"><span data-stu-id="c68ac-119">**On Manipulation Started** event, **SolverHandler.UpdateSolvers** is deactivated to world-lock the menu.</span></span> <span data-ttu-id="c68ac-120">Viene inoltre visualizzato il pulsante **Chiudi per** consentire all'utente di chiudere il menu al termine dell'attività.</span><span class="sxs-lookup"><span data-stu-id="c68ac-120">Additionally, it shows the **Close button** to allow the user to close the menu when the task is finished.</span></span> <span data-ttu-id="c68ac-121">**Nell'evento Manipulation Ended** chiama **HandConstraintPalmUp.StartWorldLockReattachCheckCoroutine** per consentire all'utente di riportare il menu a portata di mano alzando e osservando il palmo.</span><span class="sxs-lookup"><span data-stu-id="c68ac-121">**On Manipulation Ended** event, it calls **HandConstraintPalmUp.StartWorldLockReattachCheckCoroutine** to allow the user bring the menu back to hand by raising and looking at the palm.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example4.png" width="600" alt="HandMenu_ExampleScene 4">

<span data-ttu-id="c68ac-122">**Il** pulsante Chiudi riattiva **SolverHandler.UpdateSolvers** e nasconde **MenuContent.**</span><span class="sxs-lookup"><span data-stu-id="c68ac-122">**Close** button reactivates **SolverHandler.UpdateSolvers** and hide the **MenuContent**.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example5.png" alt="HandMenu_ExampleScene 5">

### <a name="handmenu_large_autoworldlock_on_handdrop"></a><span data-ttu-id="c68ac-123">HandMenu_Large_AutoWorldLock_On_HandDrop</span><span class="sxs-lookup"><span data-stu-id="c68ac-123">HandMenu_Large_AutoWorldLock_On_HandDrop</span></span>

<span data-ttu-id="c68ac-124">Questo esempio è simile a HandMenu_Large_WorldLock_On_GrabAndPull.</span><span class="sxs-lookup"><span data-stu-id="c68ac-124">This example is similar to HandMenu_Large_WorldLock_On_GrabAndPull.</span></span> <span data-ttu-id="c68ac-125">L'unica differenza è che il menu verrà automaticamente bloccato a portata di mano.</span><span class="sxs-lookup"><span data-stu-id="c68ac-125">The only difference is that the menu will be automatically world-locked on hand drop.</span></span> <span data-ttu-id="c68ac-126">Questa operazione viene eseguita semplicemente non nascondendo l'evento MenuContent **onLastHandLost().**</span><span class="sxs-lookup"><span data-stu-id="c68ac-126">This is done by simply not hiding the MenuContent on **OnLastHandLost()** event.</span></span> <span data-ttu-id="c68ac-127">Il & pull è identico a quello HandMenu_Large_WorldLock_On_GrabAndPull esempio.</span><span class="sxs-lookup"><span data-stu-id="c68ac-127">Grab & pull behavior is same as HandMenu_Large_WorldLock_On_GrabAndPull example.</span></span>

## <a name="scripts"></a><span data-ttu-id="c68ac-128">Script</span><span class="sxs-lookup"><span data-stu-id="c68ac-128">Scripts</span></span>

<span data-ttu-id="c68ac-129">Il comportamento fornisce un risolutore che vincola l'oggetto tracciato in un'area sicura per il contenuto vincolato a mano ,ad esempio l'interfaccia utente [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) della mano, i menu e così via.</span><span class="sxs-lookup"><span data-stu-id="c68ac-129">The [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) behavior provides a solver that constrains the tracked object to a region safe for hand constrained content (such as hand UI, menus, etc).</span></span> <span data-ttu-id="c68ac-130">Cassaforte aree sono considerate aree che non si intersecano con la mano.</span><span class="sxs-lookup"><span data-stu-id="c68ac-130">Safe regions are considered areas that don't intersect with the hand.</span></span> <span data-ttu-id="c68ac-131">È inclusa anche una classe derivata di chiamata per illustrare un comportamento comune di attivazione dell'oggetto tracciato del risolutore quando il [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) palmo è rivolto verso l'utente.</span><span class="sxs-lookup"><span data-stu-id="c68ac-131">A derived class of [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) called [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) is also included to demonstrate a common behavior of activating the solver tracked object when the palm is facing the user.</span></span>

<span data-ttu-id="c68ac-132">Per documentazione aggiuntiva, vedere le descrizioni comando disponibili [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) per ogni proprietà.</span><span class="sxs-lookup"><span data-stu-id="c68ac-132">Please see the tool tips available for each [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) property for additional documentation.</span></span> <span data-ttu-id="c68ac-133">Alcune proprietà sono definite in modo più dettagliato di seguito.</span><span class="sxs-lookup"><span data-stu-id="c68ac-133">A few properties are defined in more detail below.</span></span>

<img src="../images/solver/MRTK_Solver_HandConstraintPalmUp.png" width="450" alt="HandMenu_ExampleScene Palm up">

* <span data-ttu-id="c68ac-134">**Cassaforte zona sicura:** la zona sicura specifica dove vincolare il contenuto.</span><span class="sxs-lookup"><span data-stu-id="c68ac-134">**Safe Zone**: The safe zone specifies where on the hand to constrain content.</span></span> <span data-ttu-id="c68ac-135">È consigliabile inserire il contenuto sul lato Ulnar per evitare sovrapposizioni con la mano e migliorare la qualità dell'interazione.</span><span class="sxs-lookup"><span data-stu-id="c68ac-135">It is recommended that content be placed on the Ulnar Side to avoid overlap with the hand and improved interaction quality.</span></span> <span data-ttu-id="c68ac-136">Cassaforte le zone vengono calcolate prendendo l'orientamento delle mani proiettate in un piano ortogonale verso la visualizzazione della fotocamera e il raycasting su un rettangolo di selezione intorno alle mani.</span><span class="sxs-lookup"><span data-stu-id="c68ac-136">Safe zones are calculated by taking the hands orientation projected into a plane orthogonal to the camera's view and raycasting against a bounding box around the hands.</span></span> <span data-ttu-id="c68ac-137">Cassaforte sono definite per l'utilizzo con [`IMixedRealityHand`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityHand) ma anche con altri tipi di controller.</span><span class="sxs-lookup"><span data-stu-id="c68ac-137">Safe zones are defined to work with [`IMixedRealityHand`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityHand) but also works with other controller types.</span></span> <span data-ttu-id="c68ac-138">È consigliabile esplorare ciò che ogni zona sicura rappresenta in diversi tipi di controller.</span><span class="sxs-lookup"><span data-stu-id="c68ac-138">It is recommended to explore what each safe zone represents on different controller types.</span></span>

* <span data-ttu-id="c68ac-139">**Seguire la mano fino alla fotocamera rivolta verso l'alto** Con questo oggetto attivo, il risolutore seguirà la rotazione manuale fino a quando il menu non è sufficientemente allineato allo sguardo, a quel punto si trova di fronte alla fotocamera.</span><span class="sxs-lookup"><span data-stu-id="c68ac-139">**Follow Hand Until Facing Camera** With this active, solver will follow hand rotation until the menu is sufficiently aligned with the gaze, at which point it faces the camera.</span></span> <span data-ttu-id="c68ac-140">Ciò funziona modificando SolverRotationBehavior in HandConstraintSolver, da LookAtTrackedObject a LookAtMainCamera man mano che l'angolo gazeAlignment con il risolutore varia.</span><span class="sxs-lookup"><span data-stu-id="c68ac-140">This works by changing the SolverRotationBehavior in the HandConstraintSolver, from LookAtTrackedObject to LookAtMainCamera as the GazeAlignment angle with the solver varies.</span></span>

<img src="../images/solver/MRTK_Solver_HandConstraintSafeZones.png" width="450" alt="HandMenu Safe Zones">

* <span data-ttu-id="c68ac-141">**Eventi di attivazione:** attiva [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) attualmente quattro eventi di attivazione.</span><span class="sxs-lookup"><span data-stu-id="c68ac-141">**Activation Events**: Currently the [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) triggers four activation events.</span></span> <span data-ttu-id="c68ac-142">Questi eventi possono essere usati in molte combinazioni diverse per creare comportamenti univoci, vedere la scena [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) HandBasedMenuExample in per esempi `MRTK/Examples/Demos/HandTracking/Scenes/` di questi comportamenti.</span><span class="sxs-lookup"><span data-stu-id="c68ac-142">These events can be used in many different combinations to create unique [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) behaviors, please see the HandBasedMenuExample scene under `MRTK/Examples/Demos/HandTracking/Scenes/` for examples of these behaviors.</span></span>

  * <span data-ttu-id="c68ac-143">*OnHandActivate:* viene attivato quando una mano soddisfa il metodo IsHandActive.</span><span class="sxs-lookup"><span data-stu-id="c68ac-143">*OnHandActivate*: triggers when a hand satisfies the IsHandActive method.</span></span>
  * <span data-ttu-id="c68ac-144">*OnHandDeactivate:* viene attivato quando il metodo IsHandActive non è più soddisfatto.</span><span class="sxs-lookup"><span data-stu-id="c68ac-144">*OnHandDeactivate*: triggers when the IsHandActive method is no longer satisfied.</span></span>
  * <span data-ttu-id="c68ac-145">*OnFirstHandDetected:* si verifica quando lo stato di rilevamento della mano cambia da nessuna mano nella visualizzazione alla prima mano nella visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="c68ac-145">*OnFirstHandDetected*: occurs when the hand tracking state changes from no hands in view, to the first hand in view.</span></span>
  * <span data-ttu-id="c68ac-146">*OnLastHandLost:* si verifica quando lo stato di rilevamento della mano cambia da almeno una mano nella visualizzazione a nessuna mano nella visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="c68ac-146">*OnLastHandLost*: occurs when the hand tracking state changes from at least one hand in view, to no hands in view.</span></span>

* <span data-ttu-id="c68ac-147">Logica di **attivazione/disattivazione** del risolutore: attualmente è consigliabile attivare e disattivare la logica tramite l'uso del valore [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) UpdateSolver di SolverHandler, anziché disabilitando/abilitando l'oggetto.</span><span class="sxs-lookup"><span data-stu-id="c68ac-147">**Solver Activation/Deactivation Logic**: Currently the recommendation for activating and deactivating [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) logic is to do so through the use of the SolverHandler's UpdateSolver value, rather than by disabling/enabling the object.</span></span> <span data-ttu-id="c68ac-148">Questa operazione può essere visualizzata nella scena di esempio tramite gli hook basati sull'editor attivati dopo gli eventi ManipulationHandler "OnManipulationStarted/Ended" del menu associato.</span><span class="sxs-lookup"><span data-stu-id="c68ac-148">This can be seen in the example scene through the editor-based hooks triggered after the attached menu's ManipulationHandler "OnManipulationStarted/Ended" events.</span></span>

  * <span data-ttu-id="c68ac-149">Arresto della logica del vincolo di *mano:* quando si tenta di impostare l'arresto dell'oggetto vincolato alla mano (oltre a non eseguire la logica di attivazione/disattivazione), impostare UpdateSolver su False anziché disabilitare HandConstraintPalmUp.</span><span class="sxs-lookup"><span data-stu-id="c68ac-149">*Stopping the hand-constraint logic*: When trying to set the hand constrained object to stop (as well as not run the activation/deactivation logic), set UpdateSolver to False rather than disabling HandConstraintPalmUp.</span></span>
    * <span data-ttu-id="c68ac-150">Se si vuole abilitare la logica di ricottacco basata su sguardo fisso (o anche non basato su sguardo), questa operazione viene seguita chiamando la funzione HandConstraintPalmUp.StartWorldLockReattachCheckCoroutine().</span><span class="sxs-lookup"><span data-stu-id="c68ac-150">If you want to enable the gaze-based (or even non-gaze-based) Reattach logic, this is then followed by calling the HandConstraintPalmUp.StartWorldLockReattachCheckCoroutine() function.</span></span> <span data-ttu-id="c68ac-151">Verrà attivata una coroutine che continua a verificare se i criteri "IsValidController" sono soddisfatti e imposta UpdateSolver su True una volta che è (o l'oggetto è disabilitato)</span><span class="sxs-lookup"><span data-stu-id="c68ac-151">This will trigger a coroutine that then continues to check if the "IsValidController" criteria is met and will set UpdateSolver to True once it is (or the object is disabled)</span></span>
  * <span data-ttu-id="c68ac-152">*Avvio* della logica di vincolo della mano: quando si tenta di impostare l'oggetto con vincoli di mano per iniziare di nuovo a seguire la mano (a seconda che soddisfi i criteri di attivazione), impostare UpdateSolver di SolverHandler su true.</span><span class="sxs-lookup"><span data-stu-id="c68ac-152">*Starting the hand-constraint logic*: When trying to set the hand constrained object to start following your hand again (based on whether it meets the activation criteria), set the SolverHandler's UpdateSolver to true.</span></span>

* <span data-ttu-id="c68ac-153">**Logica di** ricollegare: attualmente è in grado di ricollegare automaticamente l'oggetto di destinazione al punto tracciato, indipendentemente dal fatto che UpdateSolver di SolverHandler sia o meno [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) True.</span><span class="sxs-lookup"><span data-stu-id="c68ac-153">**Reattach Logic**: Currently the [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) is able to automatically reattach the target object to the tracked point, regardless of whether the SolverHandler's UpdateSolver is True or not.</span></span> <span data-ttu-id="c68ac-154">Questa operazione viene eseguita chiamando la funzione StartWorldLockReattachCheckCoroutine() di HandConstraintPalmUp, dopo che è stata bloccata in tutto il mondo (che in questo caso sta effettivamente impostando UpdateSolver di SolverHandler su False).</span><span class="sxs-lookup"><span data-stu-id="c68ac-154">This is done through calling the HandConstraintPalmUp's StartWorldLockReattachCheckCoroutine() function, after it's been world-locked (which in this case, is effectively setting the SolverHandler's UpdateSolver to False).</span></span>

## <a name="see-also"></a><span data-ttu-id="c68ac-155">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="c68ac-155">See also</span></span>

* [<span data-ttu-id="c68ac-156">Button</span><span class="sxs-lookup"><span data-stu-id="c68ac-156">Button</span></span>](button.md)
* [<span data-ttu-id="c68ac-157">Menu vicino</span><span class="sxs-lookup"><span data-stu-id="c68ac-157">Near Menu</span></span>](near-menu.md)
