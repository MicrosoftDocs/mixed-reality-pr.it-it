---
title: Toccare per posizionare
description: Documentazione di TapToPlace MRTK
author: CDiaz-MS
ms.author: cadia
ms.date: 01/12/2021
ms.localizationpriority: high
keywords: Unity, HoloLens, HoloLens 2, Realtà mista, sviluppo, MRTK, Tap to Place,
ms.openlocfilehash: 1664509a08c2d589d22b71df580328f3f3655c61
ms.sourcegitcommit: f338b1f121a10577bcce08a174e462cdc86d5874
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/01/2021
ms.locfileid: "113176407"
---
# <a name="tap-to-place"></a><span data-ttu-id="be284-104">Toccare per posizionare</span><span class="sxs-lookup"><span data-stu-id="be284-104">Tap to place</span></span>

![ToccareToPlace](../../images/solver/tap-to-place/TapToPlaceIntroGif.gif)

<span data-ttu-id="be284-106">Toccare per posizionare è un componente di interazione lontano usato per posizionare un oggetto di gioco sulla superficie.</span><span class="sxs-lookup"><span data-stu-id="be284-106">Tap to Place is a far interaction component that is used to place a game object on surface.</span></span> <span data-ttu-id="be284-107">Questo componente è utile per posizionare gli oggetti in una mesh spaziale.</span><span class="sxs-lookup"><span data-stu-id="be284-107">This component is useful for placing objects on a spatial mesh.</span></span> <span data-ttu-id="be284-108">Tocca per posizionare usa una combinazione di due clic e dello spostamento della testa per posizionare un oggetto.</span><span class="sxs-lookup"><span data-stu-id="be284-108">Tap to Place uses a combination of two clicks and head movement to place an object.</span></span> <span data-ttu-id="be284-109">Un clic per avviare il posizionamento, lo spostamento della testa per controllare la posizione dell'oggetto e un clic per posizionare l'oggetto nella scena.</span><span class="sxs-lookup"><span data-stu-id="be284-109">A click to start the placement, head movement to control the position of the object and a click to place the object in the scene.</span></span>

## <a name="using-tap-to-place"></a><span data-ttu-id="be284-110">Uso di Toccare per posizionare</span><span class="sxs-lookup"><span data-stu-id="be284-110">Using Tap to Place</span></span>

1. <span data-ttu-id="be284-111">Configurare la scena</span><span class="sxs-lookup"><span data-stu-id="be284-111">Set up the scene</span></span>
    - <span data-ttu-id="be284-112">Creare una nuova scena unity</span><span class="sxs-lookup"><span data-stu-id="be284-112">Create a new unity scene</span></span>
    - <span data-ttu-id="be284-113">Aggiungere MRTK alla scena passando al Toolkit di realtà  >  **mista e configurarlo**</span><span class="sxs-lookup"><span data-stu-id="be284-113">Add MRTK to the scene by navigating to the **Mixed Reality Toolkit** > **Add to Scene and Configure**</span></span>
    > [!NOTE]
    > <span data-ttu-id="be284-114">Toccare per posizionare usa i clic guidati dal sistema di input MRTK, ma può anche essere controllato senza clic. Vedere la sezione Tap To Place Code Configurability riportata di seguito.</span><span class="sxs-lookup"><span data-stu-id="be284-114">Tap to Place uses clicks driven by the MRTK Input System but it can also be controlled without clicks, see the Tap To Place Code Configurability section below.</span></span>
    - <span data-ttu-id="be284-115">Aggiungere un cubo alla scena e impostare la scala su 0,2 e impostare la posizione su (0, 0, 0,7).</span><span class="sxs-lookup"><span data-stu-id="be284-115">Add a cube to the scene and change the scale to 0.2 and change the position to (0, 0, 0.7).</span></span>
1. <span data-ttu-id="be284-116">Associare [il tocco a Place](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.TapToPlace) a un oggetto di gioco con un collisore</span><span class="sxs-lookup"><span data-stu-id="be284-116">Attach [Tap to Place](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.TapToPlace) to a game object with a collider</span></span>

    ![ToccareToPlaceInspector](../../images/solver/tap-to-place/TapToPlaceInspector2.png)

    - <span data-ttu-id="be284-118">Quando viene aggiunto il componente Tap to Place, verrà collegato anche un gestore del risolutore.</span><span class="sxs-lookup"><span data-stu-id="be284-118">When the Tap to Place component is added, a Solver Handler will also be attached.</span></span> <span data-ttu-id="be284-119">Toccare per posizionare deriva dalla classe [Risolutore](solver.md) che richiede un gestore risolutore.</span><span class="sxs-lookup"><span data-stu-id="be284-119">Tap to Place derives from the [Solver](solver.md) class which requires a Solver Handler.</span></span> <span data-ttu-id="be284-120">La posizione di un oggetto Tap to Place viene calcolata rispetto a `TrackedTargetType` all'interno del gestore del risolutore.</span><span class="sxs-lookup"><span data-stu-id="be284-120">The position of a Tap to Place object is calculated relative to the `TrackedTargetType` within the Solver Handler.</span></span> <span data-ttu-id="be284-121">Per impostazione predefinita, Head è , ad esempio quando la testa viene spostata, l'oggetto `TrackedTargetType` segue se è selezionato.</span><span class="sxs-lookup"><span data-stu-id="be284-121">By default the Head is the `TrackedTargetType`, i.e. when the head moves, the object follows if it is selected.</span></span>  <span data-ttu-id="be284-122">Può `TrackedTargetType` anche essere impostato su Controller Ray, che ha l'oggetto che segue il controller.</span><span class="sxs-lookup"><span data-stu-id="be284-122">The `TrackedTargetType` can also be set to Controller Ray which has the object follow the controller.</span></span> <span data-ttu-id="be284-123">Il primo gruppo di proprietà nel controllo Tap to Place è [Common Solver Properties](solver.md#common-solver-properties).</span><span class="sxs-lookup"><span data-stu-id="be284-123">The first group of properties in the Tap to Place inspector are the [Common Solver Properties](solver.md#common-solver-properties).</span></span>  
    > [!IMPORTANT]
    > <span data-ttu-id="be284-124">Toccare per posizionare è un risolutore autonomo e non può essere concatenato ad altri risolutori.</span><span class="sxs-lookup"><span data-stu-id="be284-124">Tap to Place is a stand alone Solver and cannot be chained with other Solvers.</span></span> <span data-ttu-id="be284-125">Non può essere concatenato perché SolverHandler.UpdateSolvers viene usato per aggiornare la posizione dell'oggetto mentre viene inserito.</span><span class="sxs-lookup"><span data-stu-id="be284-125">It cannot be chained because SolverHandler.UpdateSolvers is used to update the object's position while it is being placed.</span></span>
    - <span data-ttu-id="be284-126">Toccare per posizionare le proprietà:</span><span class="sxs-lookup"><span data-stu-id="be284-126">Tap to Place Properties:</span></span>
        - <span data-ttu-id="be284-127">`Auto Start`: se true, il risolutore Tap to Place inizierà a controllare la posizione dell'oggetto di gioco da posizionare.</span><span class="sxs-lookup"><span data-stu-id="be284-127">`Auto Start`: If true, the Tap to Place solver will start out controlling the position of the game object to be placed.</span></span> <span data-ttu-id="be284-128">L'oggetto inizierà immediatamente dopo TrackedTargetType (Head o Controller Ray).</span><span class="sxs-lookup"><span data-stu-id="be284-128">The object will immediately start following the TrackedTargetType (Head or Controller Ray).</span></span> <span data-ttu-id="be284-129">Questo valore deve essere modificato prima che Start() venga richiamato per avere alcun effetto.</span><span class="sxs-lookup"><span data-stu-id="be284-129">This value must be modified before Start() is invoked in order to have any effect.</span></span>
        - <span data-ttu-id="be284-130">`Default Placement Distance`: la distanza predefinita (in metri) di un oggetto verrà posizionata rispetto a TrackedTargetType in avanti in SolverHandler.</span><span class="sxs-lookup"><span data-stu-id="be284-130">`Default Placement Distance`: The default distance (in meters) an object will be placed relative to the TrackedTargetType forward in the SolverHandler.</span></span> <span data-ttu-id="be284-131">L'oggetto gioco verrà posizionato alla distanza di posizionamento predefinita se una superficie non viene colpita dal raycast.</span><span class="sxs-lookup"><span data-stu-id="be284-131">The game object will be placed at the default placement distance if a surface is not hit by the raycast.</span></span>
        - <span data-ttu-id="be284-132">`Max Raycast Distance`: distanza massima (metri) per il raycast in base all'origine 'TrackedTargetType'.</span><span class="sxs-lookup"><span data-stu-id="be284-132">`Max Raycast Distance`: The max distance (meters) for the raycast based on the 'TrackedTargetType' origin.</span></span> <span data-ttu-id="be284-133">Questo raycast cerca una superficie per posizionare un oggetto selezionato.</span><span class="sxs-lookup"><span data-stu-id="be284-133">This raycast looks for a surface to place a selected object.</span></span>
        - <span data-ttu-id="be284-134">`UseDefaultSurfaceNormalOffset`: questa proprietà è true per impostazione predefinita, assicura che l'oggetto inserito sia allineato su una superficie.</span><span class="sxs-lookup"><span data-stu-id="be284-134">`UseDefaultSurfaceNormalOffset`: This property is true by default, it ensures the object being placed is aligned on a surface.</span></span> <span data-ttu-id="be284-135">Se questa proprietà è true, verrà applicato l'offset normale della superficie predefinito anziché qualsiasi valore specificato per la `SurfaceNormalOffset` proprietà .</span><span class="sxs-lookup"><span data-stu-id="be284-135">If this property is true, the default surface normal offset will be applied instead of any value specified for the `SurfaceNormalOffset` property.</span></span> <span data-ttu-id="be284-136">Se false, verrà applicato il `SurfaceNormalOffset` valore per .</span><span class="sxs-lookup"><span data-stu-id="be284-136">If false, the value for `SurfaceNormalOffset` will be applied.</span></span> <span data-ttu-id="be284-137">L'offset normale della superficie predefinito è l'extent del collisore lungo l'asse z.</span><span class="sxs-lookup"><span data-stu-id="be284-137">The default surface normal offset is the collider's extents along the z axis.</span></span>
        - <span data-ttu-id="be284-138">`Surface Normal Offset`: distanza tra il centro dell'oggetto del gioco da posizionare e una superficie lungo la normale superficie, se il raggio raggiunge una superficie.</span><span class="sxs-lookup"><span data-stu-id="be284-138">`Surface Normal Offset`: The distance between the center of the game object to place and a surface along the surface normal, if the raycast hits a surface.</span></span> <span data-ttu-id="be284-139">Questa proprietà viene applicata a un oggetto solo se `UseDefaultSurfaceNormalOffset` è false.</span><span class="sxs-lookup"><span data-stu-id="be284-139">This property is only applied to an object if `UseDefaultSurfaceNormalOffset` is false.</span></span>
        - <span data-ttu-id="be284-140">`Keep Orientation Vertical`: se true, l'oggetto di gioco da posizionare rimarrà in posizione verticale e in linea con Vector3.up.</span><span class="sxs-lookup"><span data-stu-id="be284-140">`Keep Orientation Vertical`: If true, the game object to place will remain upright and in line with Vector3.up.</span></span>
        - <span data-ttu-id="be284-141">`Rotate According to Surface`: se false, l'oggetto di gioco da posizionare non ne modificherà la rotazione in base all'hit della superficie.</span><span class="sxs-lookup"><span data-stu-id="be284-141">`Rotate According to Surface`: If false, the game object to place will not change its rotation according to the surface hit.</span></span>  <span data-ttu-id="be284-142">L'oggetto rimarrà rivolto verso la fotocamera mentre IsBeingPlaced è true.</span><span class="sxs-lookup"><span data-stu-id="be284-142">The object will remain facing the camera while IsBeingPlaced is true.</span></span>
        - <span data-ttu-id="be284-143">`Magnetic Surfaces`: matrice di LayerMasks da eseguire dalla priorità più alta a quella più bassa.</span><span class="sxs-lookup"><span data-stu-id="be284-143">`Magnetic Surfaces`: An array of LayerMasks to execute from highest to lowest priority.</span></span> <span data-ttu-id="be284-144">Per i calcoli della posizione verrà usata la prima maschera di livello per fornire un hit raycast.</span><span class="sxs-lookup"><span data-stu-id="be284-144">First layer mask to provide a raycast hit will be used for position calculations.</span></span>
        - <span data-ttu-id="be284-145">`Debug Enabled`: se true e nell'editor unity, la normale dell'hit raycast verrà disegnata in giallo.</span><span class="sxs-lookup"><span data-stu-id="be284-145">`Debug Enabled`: If true and in the Unity Editor, the normal of the raycast hit will be drawn in yellow.</span></span> <span data-ttu-id="be284-146">Il debug abilitato è utile quando è true perché disegna la normale del colpo di superficie che spiega visivamente perché l'oggetto è `RotateAccordingToSurface` impostato sull'orientamento corrente.</span><span class="sxs-lookup"><span data-stu-id="be284-146">Debug enabled is useful when `RotateAccordingToSurface` is true because it draws the normal of the surface hit which visually explains why the object is set at its current orientation.</span></span>
        - <span data-ttu-id="be284-147">`On Placing Started`: questo evento viene attivato una volta quando viene selezionato l'oggetto di gioco da posizionare.</span><span class="sxs-lookup"><span data-stu-id="be284-147">`On Placing Started`: This event is triggered once when the game object to place is selected.</span></span>
        - <span data-ttu-id="be284-148">`On Placing Stopped`: questo evento viene attivato una volta quando l'oggetto del gioco da posizionare viene deselezionato e inserito.</span><span class="sxs-lookup"><span data-stu-id="be284-148">`On Placing Stopped`: This event is triggered once when the game object to place is unselected, placed.</span></span>

1. <span data-ttu-id="be284-149">Test del comportamento del tocco per posizionare nell'editor</span><span class="sxs-lookup"><span data-stu-id="be284-149">Testing Tap to Place behavior in editor</span></span>
    - <span data-ttu-id="be284-150">Premere play e tenere premuta la barra spaziatrice per visualizzare una mano di simulazione di input.</span><span class="sxs-lookup"><span data-stu-id="be284-150">Press play and hold the space bar to show an input simulation hand.</span></span>
    - <span data-ttu-id="be284-151">Spostare la mano fino a quando il cubo non è attivo e simulare un clic con la mano della simulazione di input facendo clic con il mouse a sinistra.</span><span class="sxs-lookup"><span data-stu-id="be284-151">Move the hand until the cube is in focus and simulate a click with the input simulation hand by clicking with the left mouse.</span></span>
        - <span data-ttu-id="be284-152">Se i collisori non sono presenti nella scena, l'oggetto seguirà `TrackedTargetType` in corrispondenza dell'oggetto `Default Placement Distance` definito.</span><span class="sxs-lookup"><span data-stu-id="be284-152">If colliders are not present in the scene, the object will follow the `TrackedTargetType` at the defined `Default Placement Distance`.</span></span>
    - <span data-ttu-id="be284-153">L'oggetto seguirà lo spostamento dell'oggetto `TrackedTargetType` dopo la selezione.</span><span class="sxs-lookup"><span data-stu-id="be284-153">The object will follow the movement of the `TrackedTargetType` after selection.</span></span> <span data-ttu-id="be284-154">Per simulare lo spostamento della testa nell'editor, premere i tasti WASD.</span><span class="sxs-lookup"><span data-stu-id="be284-154">To simulate head movement in editor, press the WASD keys.</span></span> <span data-ttu-id="be284-155">Modificare la rotazione della testa facendo clic e tenendo premuto il pulsante destro del mouse.</span><span class="sxs-lookup"><span data-stu-id="be284-155">Change head rotation by clicking and holding the right mouse.</span></span>
    - <span data-ttu-id="be284-156">Per interrompere il posizionamento dell'oggetto, fare di nuovo clic.</span><span class="sxs-lookup"><span data-stu-id="be284-156">To stop placing the object, click again.</span></span>  <span data-ttu-id="be284-157">Non è necessario che l'oggetto sia attivo per il clic di posizionamento di arresto.</span><span class="sxs-lookup"><span data-stu-id="be284-157">The object does not need to be in focus for the stop placement click.</span></span> <span data-ttu-id="be284-158">Lo stato attivo è necessario solo per il clic iniziale che avvia il processo di posizionamento.</span><span class="sxs-lookup"><span data-stu-id="be284-158">Focus is only required for the initial click that starts the placement process.</span></span>

    <span data-ttu-id="be284-159">`TrackedTargetType`: Head (impostazione predefinita)</span><span class="sxs-lookup"><span data-stu-id="be284-159">`TrackedTargetType`: Head (Default)</span></span> |  <span data-ttu-id="be284-160">`TrackedTargetType`: Controller Ray</span><span class="sxs-lookup"><span data-stu-id="be284-160">`TrackedTargetType`: Controller Ray</span></span>
    :-------------------------:|:-------------------------:
    ![Toccare Per posizionare il raggio di controllo head simulazione input](../../images/solver/tap-to-place/TapToPlaceInputSimulationHead.gif)  |  ![Toccare Per posizionare il controller di simulazione input Ray 2](../../images/solver/tap-to-place/TapToPlaceInputSimulationControllerRay.gif)

## <a name="tap-to-place-code-configurability"></a><span data-ttu-id="be284-163">Toccare per posizionare la configurazione del codice</span><span class="sxs-lookup"><span data-stu-id="be284-163">Tap to Place Code Configurability</span></span>

<span data-ttu-id="be284-164">È anche possibile controllare l'intervallo di selezione degli oggetti tramite e `StartPlacement()` invece di richiedere un evento `StopPlacement()` click.</span><span class="sxs-lookup"><span data-stu-id="be284-164">Tap to Place object selection timing can also be controlled via `StartPlacement()` and `StopPlacement()` instead of requiring a click event.</span></span> <span data-ttu-id="be284-165">Questa funzionalità è utile per la scrittura di test e fornisce un metodo alternativo per inserire un oggetto nell'editor senza usare il sistema di input MRTK.</span><span class="sxs-lookup"><span data-stu-id="be284-165">This capability is useful for writing tests and provides an alternative method to place an object in editor without using the MRTK Input System.</span></span>

1. <span data-ttu-id="be284-166">Creare un oggetto gioco vuoto</span><span class="sxs-lookup"><span data-stu-id="be284-166">Create an empty game object</span></span>
1. <span data-ttu-id="be284-167">Creare e collegare lo script di esempio seguente all'oggetto gioco vuoto</span><span class="sxs-lookup"><span data-stu-id="be284-167">Create and attach the following example script to the empty game object</span></span>

    ```c#
    using UnityEngine;
    using Microsoft.MixedReality.Toolkit.Utilities.Solvers;

    public class TapToPlaceInputExample : MonoBehaviour
    {
        private GameObject cube;
        private TapToPlace tapToPlace;

        void Start()
        {
            cube = GameObject.CreatePrimitive(PrimitiveType.Cube);
            cube.transform.localScale = Vector3.one * 0.2f;
            cube.transform.position = Vector3.forward * 0.7f;

            tapToPlace = cube.AddComponent<TapToPlace>();
        }

        void Update()
        {
            if (Input.GetKeyDown(KeyCode.U))
            {
                tapToPlace.StartPlacement();
            }
            if (Input.GetKeyDown(KeyCode.I))
            {
                tapToPlace.StopPlacement();
            }
        }
    }
    ```

1. <span data-ttu-id="be284-168">In modalità di riproduzione premere *il tasto U* per iniziare a posizionare il cubo</span><span class="sxs-lookup"><span data-stu-id="be284-168">In play mode, press the *U key* to start placing the cube</span></span>
1. <span data-ttu-id="be284-169">Premere *il tasto I per* arrestare il posizionamento</span><span class="sxs-lookup"><span data-stu-id="be284-169">Press the *I key* to stop the placement</span></span>

## <a name="tap-to-place-example-scene"></a><span data-ttu-id="be284-170">Toccare per posizionare la scena di esempio</span><span class="sxs-lookup"><span data-stu-id="be284-170">Tap to Place Example Scene</span></span>

<span data-ttu-id="be284-171">La scena di esempio Tap to Place è costituita da 4 oggetti posizionabili, ognuno con una configurazione diversa.</span><span class="sxs-lookup"><span data-stu-id="be284-171">The Tap to Place example scene consists of 4 placeable objects, each with a different configuration.</span></span> <span data-ttu-id="be284-172">La scena di esempio contiene le pareti per mostrare il comportamento di posizionamento della superficie disabilitato per impostazione predefinita nella gerarchia.</span><span class="sxs-lookup"><span data-stu-id="be284-172">The example scene contains walls to show the surface placement behavior that are disabled by default in the hierarchy.</span></span> <span data-ttu-id="be284-173">La scena di esempio è disponibile in Microsoft.MixedReality. Toolkit. Pacchetto Unity.Examples unity disponibile nella [pagina di rilascio](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases).</span><span class="sxs-lookup"><span data-stu-id="be284-173">The example scene can be found in the Microsoft.MixedReality.Toolkit.Unity.Examples unity package found on the [Release Page](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases).</span></span> <span data-ttu-id="be284-174">La posizione della scena è: *MRTK. Esempi/Demos/Risolutori/Scene/TapToPlaceExample.unity*</span><span class="sxs-lookup"><span data-stu-id="be284-174">The scene location is: *MRTK.Examples/Demos/Solvers/Scenes/TapToPlaceExample.unity*</span></span>

![Toccare To Place Example (Esempio di posizione)](../../images/solver/tap-to-place/TapToPlaceExampleScene.gif)

## <a name="see-also"></a><span data-ttu-id="be284-176">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="be284-176">See also</span></span>

- [<span data-ttu-id="be284-177">Risolutori</span><span class="sxs-lookup"><span data-stu-id="be284-177">Solvers</span></span>](solver.md)
- [<span data-ttu-id="be284-178">Consapevolezza spaziale</span><span class="sxs-lookup"><span data-stu-id="be284-178">Spatial Awareness</span></span>](../../spatial-awareness/spatial-awareness-getting-started.md)
- [<span data-ttu-id="be284-179">Simulazione di input</span><span class="sxs-lookup"><span data-stu-id="be284-179">Input Simulation</span></span>](../../input-simulation/input-simulation-service.md)
- [<span data-ttu-id="be284-180">Tracciamento manuale</span><span class="sxs-lookup"><span data-stu-id="be284-180">Hand Tracking</span></span>](../../input/hand-tracking.md)
- [<span data-ttu-id="be284-181">Sguardo fisso</span><span class="sxs-lookup"><span data-stu-id="be284-181">Gaze</span></span>](../../input/gaze.md)
