---
title: Stabilizzazione dell'ologramma
description: Prestazioni degli ologrammi in condizioni di ambiente e frequenza dei fotogrammi diverse.
author: keveleigh
ms.author: kurtie
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, realtà mista, sviluppo, MRTK, rilevamento dell'ambiente, TMP,
ms.openlocfilehash: 7aab167f2d850a4bca88a2cc40aae4f3cc50fb4b
ms.sourcegitcommit: f338b1f121a10577bcce08a174e462cdc86d5874
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/01/2021
ms.locfileid: "113176478"
---
# <a name="hologram-stabilization"></a><span data-ttu-id="1e1e9-104">Stabilizzazione dell'ologramma</span><span class="sxs-lookup"><span data-stu-id="1e1e9-104">Hologram stabilization</span></span>

## <a name="performance"></a><span data-ttu-id="1e1e9-105">Prestazioni</span><span class="sxs-lookup"><span data-stu-id="1e1e9-105">Performance</span></span>

<span data-ttu-id="1e1e9-106">Per fare in modo che la piattaforma e il dispositivo di realtà mista sottostanti produca risultati ottimali, è importante ottenere la frequenza dei fotogrammi.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-106">In order for the underlying mixed reality platform and device to produce the best results, it is important to achieve performing frame rates.</span></span> <span data-ttu-id="1e1e9-107">La frequenza dei fotogrammi di destinazione (ad esempio, 60 FPS o 90 FPS) varia a seconda delle piattaforme e dei dispositivi.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-107">The target framerate (ex: 60 FPS or 90 FPS) will vary across platforms and devices.</span></span> <span data-ttu-id="1e1e9-108">Tuttavia, le applicazioni di realtà mista avranno ologrammi stabili, oltre al tracciamento della testa efficiente, al tracciamento delle mani e altro ancora.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-108">However, mixed reality applications meeting framerate will have stable holograms as well as efficient head tracking, hand tracking and more.</span></span>  

## <a name="environment-tracking"></a><span data-ttu-id="1e1e9-109">Rilevamento dell'ambiente</span><span class="sxs-lookup"><span data-stu-id="1e1e9-109">Environment tracking</span></span>

<span data-ttu-id="1e1e9-110">Il rendering olografico stabile si basa in larga parte sul rilevamento della posizione della testa da parte della piattaforma & dispositivo.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-110">Stable holographic rendering heavily relies on head-pose tracking by the platform & device.</span></span> <span data-ttu-id="1e1e9-111">Unity eseguirà il rendering della scena per ogni fotogramma della posizione della fotocamera stimato e fornito dalla piattaforma sottostante.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-111">Unity will render the scene every frame from the camera pose estimated and supplied by the underlying platform.</span></span> <span data-ttu-id="1e1e9-112">Se questo rilevamento non segue correttamente il movimento effettivo della testa, gli ologrammi appariranno visivamente non accurati.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-112">If this tracking does not correctly follow actual head movement, then holograms will appear visually inaccurate.</span></span> <span data-ttu-id="1e1e9-113">Ciò è particolarmente evidente e importante per i dispositivi AR come HoloLens in cui gli utenti possono correlare ologrammi virtuali al mondo reale.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-113">This is especially evident and important for AR devices like HoloLens where users can relate virtual holograms to the real world.</span></span> <span data-ttu-id="1e1e9-114">Le prestazioni sono significative per il rilevamento head affidabile, ma possono essere presenti [anche altre importanti](/windows/mixed-reality/environment-considerations-for-hololens)funzionalità.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-114">Performance is significant for reliable head tracking, but there can be [other important features](/windows/mixed-reality/environment-considerations-for-hololens), as well.</span></span> <span data-ttu-id="1e1e9-115">I tipi di elementi dell'ambiente che influiscono sull'esperienza utente dipenderanno dalle specifiche della piattaforma di destinazione.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-115">The types of environment elements impacting user experience will depend on the targeted platform specifics.</span></span>

## <a name="windows-mixed-reality"></a><span data-ttu-id="1e1e9-116">Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="1e1e9-116">Windows Mixed Reality</span></span>

<span data-ttu-id="1e1e9-117">La Windows Mixed Reality fornisce alcuni materiali [di riferimento](/windows/mixed-reality/hologram-stability) per la stabilizzazione degli ologrammi sulla piattaforma.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-117">The Windows Mixed Reality platform provides some [reference material](/windows/mixed-reality/hologram-stability) for stabilizing holograms on the platform.</span></span> <span data-ttu-id="1e1e9-118">Esistono tuttavia alcuni strumenti chiave che gli sviluppatori possono usare per migliorare l'esperienza visiva degli ologrammi per gli utenti.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-118">There are a handful of key tools though that developers can utilize to improve the hologram visual experience for users.</span></span>

### <a name="depth-buffer-sharing"></a><span data-ttu-id="1e1e9-119">Condivisione del buffer di profondità</span><span class="sxs-lookup"><span data-stu-id="1e1e9-119">Depth buffer sharing</span></span>

<span data-ttu-id="1e1e9-120">Gli sviluppatori Unity hanno la possibilità di condividere il buffer di profondità dell'applicazione con la piattaforma.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-120">Unity developers have the option of sharing the application's depth buffer with the platform.</span></span> <span data-ttu-id="1e1e9-121">In questo modo vengono fornite informazioni, in cui sono presenti ologrammi per un fotogramma corrente, che la piattaforma può usare per stabilizzare gli ologrammi tramite un processo assistito da hardware noto come Late-Stage nuova progetto.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-121">This provides information, where holograms exist for a current frame, that the platform can utilize to stabilize holograms via a hardware-assisted process known as Late-Stage Reprojection.</span></span>

#### <a name="late-stage-reprojection"></a><span data-ttu-id="1e1e9-122">Riproiezione in fase tardiva</span><span class="sxs-lookup"><span data-stu-id="1e1e9-122">Late-stage reprojection</span></span>

<span data-ttu-id="1e1e9-123">Al termine del rendering di un frame, la piattaforma Windows Mixed Reality accetta il colore & destinazioni di rendering di profondità prodotte dall'applicazione e trasforma l'output finale dello schermo per tiene conto di eventuali lievi movimenti della testa dall'ultima previsione della posizione della testa.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-123">At the end of rendering a frame, the Windows Mixed Reality platform takes the color & depth render targets produced by the application and transforms the final screen output to account for any slight head movement since the last head pose prediction.</span></span> <span data-ttu-id="1e1e9-124">L'esecuzione del ciclo di gioco di un'applicazione richiede tempo.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-124">An application's game loop takes time to execute.</span></span> <span data-ttu-id="1e1e9-125">Ad esempio, a 60 FPS, ciò significa che l'applicazione sta prendendo ~16,667 ms per eseguire il rendering di un frame.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-125">For example, at 60 FPS, this means the application is taking ~16.667ms to render a frame.</span></span> <span data-ttu-id="1e1e9-126">Anche se può sembrare una quantità di tempo minima, la posizione e l'orientamento della testa dell'utente cambieranno, determinando nuove matrici di proiezione per la fotocamera nel rendering.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-126">Even though this may seem like a miniscule amount of time, the user's position and orientation of their head will change resulting in new projection matrices for the camera in rendering.</span></span> <span data-ttu-id="1e1e9-127">La riproiezione in fase tardiva trasforma i pixel nell'immagine finale per conto di questa nuova prospettiva.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-127">Late-stage reprojection transforms the pixels in the final image to account for this new perspective.</span></span>

#### <a name="per-pixel-vs-stabilization-plane-lsr"></a><span data-ttu-id="1e1e9-128">LSR per pixel rispetto al piano di stabilizzazione</span><span class="sxs-lookup"><span data-stu-id="1e1e9-128">Per-pixel vs stabilization plane LSR</span></span>

<span data-ttu-id="1e1e9-129">A seconda dell'endpoint del dispositivo e della versione del sistema operativo in esecuzione in un dispositivo Windows Mixed Reality, l'algoritmo di Late-Stage Reprojection verrà eseguito per pixel o tramite un piano [di stabilizzazione.](/windows/mixed-reality/hologram-stability#stabilization-plane)</span><span class="sxs-lookup"><span data-stu-id="1e1e9-129">Depending on the device endpoint and OS version running on a Windows Mixed Reality device, the Late-Stage Reprojection algorithm will either be performed per-pixel or via a [stabilization plane](/windows/mixed-reality/hologram-stability#stabilization-plane).</span></span>

##### <a name="per-pixel-depth-based"></a><span data-ttu-id="1e1e9-130">Basato sulla profondità per pixel</span><span class="sxs-lookup"><span data-stu-id="1e1e9-130">Per-pixel depth-based</span></span>

<span data-ttu-id="1e1e9-131">La riproiezione basata sulla profondità per pixel comporta l'uso del buffer di profondità per modificare l'output dell'immagine per pixel e quindi stabilizzare gli ologrammi a diverse distanze.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-131">Per-pixel depth-based reprojection involves utilizing the depth buffer to modify the image output per pixel and thus stabilize holograms at various distances.</span></span> <span data-ttu-id="1e1e9-132">Ad esempio, una sfera a 1 m di distanza può essere davanti a un pilastro a 10 metri di distanza.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-132">For example, a sphere 1m away may be in front of a pillar that is 10m away.</span></span> <span data-ttu-id="1e1e9-133">I pixel che rappresentano la sfera avranno una trasformazione diversa rispetto ai pixel di distanza che rappresentano il pilastro se l'utente ha leggermente inclinato la testa.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-133">The pixels representing the sphere will have a different transform than the far away pixels representing the pillar if the user has tilted their head slightly.</span></span> <span data-ttu-id="1e1e9-134">La riepilazione per pixel prenderà in considerazione questa differenza di distanza in ogni pixel per una riepilazione più accurata.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-134">Per-pixel reprojection will take into account this distance difference at every pixel for more accurate reprojection.</span></span>

##### <a name="stabilization-plane"></a><span data-ttu-id="1e1e9-135">Piano di stabilizzazione</span><span class="sxs-lookup"><span data-stu-id="1e1e9-135">Stabilization plane</span></span>

<span data-ttu-id="1e1e9-136">Se non è possibile creare un buffer di profondità accurato da condividere con la piattaforma, un'altra forma di LSR usa un piano di stabilizzazione.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-136">If it is not possible to create an accurate depth buffer to share with the platform, another form of LSR utilizes a stabilization plane.</span></span> <span data-ttu-id="1e1e9-137">Tutti gli ologrammi in una scena riceveranno una certa stabilizzazione, ma gli ologrammi presenti nel piano desiderato riceveranno la stabilizzazione hardware massima.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-137">All holograms in a scene will receive some stabilization, but holograms lying in the desired plane will receive the maximum hardware stabilization.</span></span> <span data-ttu-id="1e1e9-138">Il punto e la normale per il piano possono essere forniti alla piattaforma tramite l'API *HolographicSettings.SetFocusPointForFrame* [fornita da Unity.](/windows/mixed-reality/focus-point-in-unity)</span><span class="sxs-lookup"><span data-stu-id="1e1e9-138">The point and normal for the plane can be supplied to the platform via the *HolographicSettings.SetFocusPointForFrame* [API provided by Unity](/windows/mixed-reality/focus-point-in-unity).</span></span>

#### <a name="depth-buffer-format"></a><span data-ttu-id="1e1e9-139">Formato buffer di profondità</span><span class="sxs-lookup"><span data-stu-id="1e1e9-139">Depth buffer format</span></span>

<span data-ttu-id="1e1e9-140">Se la destinazione HoloLens per lo sviluppo, è consigliabile usare il formato buffer di profondità a 16 bit rispetto a 24 bit.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-140">If targeting HoloLens for development, it is highly recommended to utilize the 16-bit depth buffer format compared to 24-bit.</span></span> <span data-ttu-id="1e1e9-141">Ciò consente un enorme risparmio sulle prestazioni, anche se i valori di profondità avranno una precisione inferiore.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-141">This can save tremendously on performance although depth values will have less precision.</span></span> <span data-ttu-id="1e1e9-142">Per compensare la precisione inferiore ed evitare [z-fighting,](https://en.wikipedia.org/wiki/Z-fighting)è consigliabile ridurre il piano di [ritaglio](https://docs.unity3d.com/Manual/class-Camera.html) lontano dal valore predefinito di 1000 m impostato da Unity.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-142">To compensate for the lower precision and avoid [z-fighting](https://en.wikipedia.org/wiki/Z-fighting), it is recommended to reduce the [far clip plane](https://docs.unity3d.com/Manual/class-Camera.html) from the 1000m default value set by Unity.</span></span>

> [!NOTE]
> <span data-ttu-id="1e1e9-143">Se si usa il formato di profondità a *16 bit,* gli effetti necessari per il buffer degli stencil non funzioneranno perché Unity non crea un [buffer degli stencil](https://docs.unity3d.com/ScriptReference/RenderTexture-depth.html) in questa impostazione.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-143">If using *16-bit depth format*, stencil buffer required effects will not work because [Unity does not create a stencil buffer](https://docs.unity3d.com/ScriptReference/RenderTexture-depth.html) in this setting.</span></span> <span data-ttu-id="1e1e9-144">Se si seleziona invece il formato di profondità a *24 bit,* in genere verrà creato un buffer stencil a [8 bit,](https://docs.unity3d.com/Manual/SL-Stencil.html)se applicabile nella piattaforma grafica dell'endpoint.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-144">Selecting *24-bit depth format* conversely will generally create an [8-bit stencil buffer](https://docs.unity3d.com/Manual/SL-Stencil.html), if applicable on the endpoint graphics platform.</span></span>

#### <a name="depth-buffer-sharing-in-unity"></a><span data-ttu-id="1e1e9-145">Condivisione del buffer di profondità in Unity</span><span class="sxs-lookup"><span data-stu-id="1e1e9-145">Depth buffer sharing in Unity</span></span>

<span data-ttu-id="1e1e9-146">Per usare la risoluzione dei problemi basata sulla profondità, gli sviluppatori devono eseguire due passaggi importanti.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-146">In order to utilize depth-based LSR, there are two important steps that developers need to take.</span></span>

1. <span data-ttu-id="1e1e9-147">In **Edit**  >  **Project Impostazioni**  >  **Player**  >  **XR Impostazioni** Virtual Reality SDK > Depth Buffer Sharing (Abilita condivisione buffer di  >   **profondità)**</span><span class="sxs-lookup"><span data-stu-id="1e1e9-147">Under **Edit** > **Project Settings** > **Player** > **XR Settings** > **Virtual Reality SDKs** > Enable **Depth Buffer Sharing**</span></span>
    1. <span data-ttu-id="1e1e9-148">Se la destinazione HoloLens, è consigliabile selezionare anche il **formato di profondità a 16 bit.**</span><span class="sxs-lookup"><span data-stu-id="1e1e9-148">If targeting HoloLens, it is recommended to select **16-bit depth format** as well.</span></span>
1. <span data-ttu-id="1e1e9-149">Quando si esegue il rendering del colore sullo schermo, eseguire anche il rendering della profondità</span><span class="sxs-lookup"><span data-stu-id="1e1e9-149">When rendering color on screen, render depth as well</span></span>

<span data-ttu-id="1e1e9-150">[I GameObject opachi](https://docs.unity3d.com/Manual/StandardShaderMaterialParameterRenderingMode.html) in Unity in genere scrivono automaticamente in profondità.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-150">[Opaque GameObjects](https://docs.unity3d.com/Manual/StandardShaderMaterialParameterRenderingMode.html) in Unity will generally write to depth automatically.</span></span> <span data-ttu-id="1e1e9-151">Tuttavia, per impostazione & gli oggetti di testo non scrivono in profondità per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-151">However, transparent & text objects will generally not write to depth by default.</span></span> <span data-ttu-id="1e1e9-152">Se si usa lo shader standard MRTK o la mesh Pro testo, è possibile risolvere facilmente questo problema.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-152">If utilizing the MRTK Standard Shader or Text Mesh Pro, this can be easily remedied.</span></span>

> [!NOTE]
> <span data-ttu-id="1e1e9-153">Per determinare rapidamente quali oggetti di una scena non scrivono [  ](../configuration/mixed-reality-configuration-guide.md#editor-utilities) visivamente nel buffer  di profondità, è possibile usare l'utilità Buffer profondità di rendering nell'Impostazioni Editor nel profilo di configurazione di MRTK.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-153">To quickly determine which objects in a scene do not write to the depth buffer visually, one can use the [*Render Depth Buffer* utility](../configuration/mixed-reality-configuration-guide.md#editor-utilities) under the *Editor Settings* in the MRTK Configuration profile.</span></span>

##### <a name="transparent-mrtk-standard-shader"></a><span data-ttu-id="1e1e9-154">Shader MRTK Standard trasparente</span><span class="sxs-lookup"><span data-stu-id="1e1e9-154">Transparent MRTK Standard shader</span></span>

<span data-ttu-id="1e1e9-155">Per i materiali trasparenti che [usano lo shader MRTK Standard,](../features/rendering/MRTK-standard-shader.md)selezionare il materiale per visualizzarlo nella *finestra Inspector (Controllo).*</span><span class="sxs-lookup"><span data-stu-id="1e1e9-155">For transparent materials using the [MRTK Standard shader](../features/rendering/MRTK-standard-shader.md), select the material to view it in the *Inspector* window.</span></span> <span data-ttu-id="1e1e9-156">Fare quindi clic *sul pulsante Correggi* ora per convertire il materiale da scrivere in profondità (ad esempio</span><span class="sxs-lookup"><span data-stu-id="1e1e9-156">Then click the *Fix Now* button to convert the material to write to depth (i.e</span></span> <span data-ttu-id="1e1e9-157">Z-Write On).</span><span class="sxs-lookup"><span data-stu-id="1e1e9-157">Z-Write On).</span></span>

<span data-ttu-id="1e1e9-158">Prima</span><span class="sxs-lookup"><span data-stu-id="1e1e9-158">Before</span></span>

![Buffer di profondità prima della correzione dello shader standard MRTK](../features/images/performance/DepthBufferFixNow_Before.PNG)

<span data-ttu-id="1e1e9-160">After</span><span class="sxs-lookup"><span data-stu-id="1e1e9-160">After</span></span>

![Buffer di profondità corretto shader MRTK Standard](../features/images/performance/DepthBufferFixNow_After.PNG)

##### <a name="text-mesh-pro"></a><span data-ttu-id="1e1e9-162">Mesh di testo Pro</span><span class="sxs-lookup"><span data-stu-id="1e1e9-162">Text Mesh Pro</span></span>

<span data-ttu-id="1e1e9-163">Per text mesh Pro oggetti, selezionare il GameObject TMP per visualizzarlo nel controllo.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-163">For Text Mesh Pro objects, select the TMP GameObject to view it in the inspector.</span></span> <span data-ttu-id="1e1e9-164">Nel componente material cambiare lo shader per il materiale assegnato per usare lo shader TextMeshPro MRTK.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-164">Under the material component, switch the shader for the assigned material to use the MRTK TextMeshPro shader.</span></span>

![Correzione buffer Pro mesh di testo](../features/images/performance/TextMeshPro-DepthBuffer-Fix.PNG)

##### <a name="custom-shader"></a><span data-ttu-id="1e1e9-166">Shader personalizzato</span><span class="sxs-lookup"><span data-stu-id="1e1e9-166">Custom shader</span></span>

<span data-ttu-id="1e1e9-167">Se si scrive uno shader personalizzato, aggiungere il [flag ZWrite](https://docs.unity3d.com/Manual/SL-CullAndDepth.html) all'inizio della definizione del blocco *Pass* per configurare lo shader per la scrittura nel buffer di profondità.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-167">If writing a custom shader, add the [ZWrite flag](https://docs.unity3d.com/Manual/SL-CullAndDepth.html) to the top of the *Pass* block definition to configure the shader to write to the depth buffer.</span></span>

```
Shader "Custom/MyShader"
{
    SubShader
    {
        Pass
        {
            ...
            ZWrite On
            ...
        }
    }
}
```

##### <a name="opaque-backings"></a><span data-ttu-id="1e1e9-168">Backup opachi</span><span class="sxs-lookup"><span data-stu-id="1e1e9-168">Opaque backings</span></span>

<span data-ttu-id="1e1e9-169">Se i metodi precedenti non funzionano per uno scenario specifico ,ad esempio</span><span class="sxs-lookup"><span data-stu-id="1e1e9-169">If the above methods do not work for a given scenario (i.e</span></span> <span data-ttu-id="1e1e9-170">usando l'interfaccia utente di Unity), è possibile fare in modo che un altro oggetto scrivo nel buffer di profondità.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-170">using Unity UI), it is possible to have another object write to the depth buffer.</span></span> <span data-ttu-id="1e1e9-171">Un esempio comune è l'uso del testo dell'interfaccia utente di Unity in un pannello mobile in una scena.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-171">A common example is using Unity UI Text on a floating panel in a scene.</span></span> <span data-ttu-id="1e1e9-172">Rendendo il pannello opaco o almeno scrivendo in profondità, sia il testo & il pannello verrà stabilizzato dalla piattaforma perché i valori z sono così vicini l'uno all'altro.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-172">By making the panel opaque or at least writing to depth, then both the text & the panel will be stabilized by the platform since their z-values are so close to each other.</span></span>

### <a name="worldanchors-hololens"></a><span data-ttu-id="1e1e9-173">WorldAnchors (HoloLens)</span><span class="sxs-lookup"><span data-stu-id="1e1e9-173">WorldAnchors (HoloLens)</span></span>

<span data-ttu-id="1e1e9-174">Oltre a garantire che siano soddisfatte le configurazioni corrette per garantire la stabilità visiva, è importante assicurarsi che gli ologrammi rimangano stabili nelle posizioni fisiche corrette.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-174">Along with ensuring the correct configurations are met to ensure visual stability, it is important to ensure holograms remain stable at their correct physical locations.</span></span> <span data-ttu-id="1e1e9-175">Per informare la piattaforma su posizioni importanti in uno spazio fisico, gli sviluppatori possono sfruttare [WorldAnchors](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) su GameObject che devono rimanere in un'unica posizione.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-175">To inform the platform on important locations in a physical space, developers can leverage [WorldAnchors](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) on GameObjects that need to stay in one place.</span></span> <span data-ttu-id="1e1e9-176">[WorldAnchor è](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) un componente aggiunto a un GameObject che assume il controllo assoluto sulla trasformazione dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-176">A [WorldAnchor](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) is a component added to a GameObject that takes absolute control over that object's transform.</span></span>

<span data-ttu-id="1e1e9-177">I dispositivi come HoloLens vengono costantemente a scansione e a conoscenza dell'ambiente.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-177">Devices such as HoloLens are constantly scanning and learning about the environment.</span></span> <span data-ttu-id="1e1e9-178">Pertanto, poiché il HoloLens tiene traccia & posizione nello spazio, le stime verranno aggiornate e il sistema di [coordinate unity regolato](/windows/mixed-reality/coordinate-systems-in-unity).</span><span class="sxs-lookup"><span data-stu-id="1e1e9-178">Thus, as the HoloLens tracks movement & position in space, its estimates will be updated and the [Unity coordinate system adjusted](/windows/mixed-reality/coordinate-systems-in-unity).</span></span> <span data-ttu-id="1e1e9-179">Ad esempio, se un GameObject viene posizionato a 1 m dalla fotocamera all'inizio, poiché il HoloLens tiene traccia dell'ambiente, potrebbe rendersi conto che il punto fisico in cui si trova il GameObject si trova effettivamente a 1,1 m di distanza.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-179">For example, if a GameObject is placed 1m from the camera at start, as the HoloLens tracks the environment, it may realize the physical point where the GameObject is located is actually 1.1m away.</span></span> <span data-ttu-id="1e1e9-180">Ciò comporta la deriva dell'ologramma.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-180">This would result in the hologram drifting.</span></span> <span data-ttu-id="1e1e9-181">L'applicazione di un WorldAnchor a un GameObject consentirà all'ancoraggio di controllare la trasformazione dell'oggetto in modo che l'oggetto rimanga nella posizione fisica corretta ,ad esempio</span><span class="sxs-lookup"><span data-stu-id="1e1e9-181">Applying a WorldAnchor to a GameObject will enable the anchor to control the object's transform so that the object will remain at the correct physical location (i.e</span></span> <span data-ttu-id="1e1e9-182">eseguire l'aggiornamento a 1,1 m anziché a 1 m in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-182">update to 1.1m away instead of 1m at runtime).</span></span> <span data-ttu-id="1e1e9-183">Per rendere [persistenti gli WorldAnchors](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) tra le sessioni dell'app, gli sviluppatori possono usare [WorldAnchorStore](https://docs.unity3d.com/ScriptReference/XR.WSA.Persistence.WorldAnchorStore.html) per salvare e caricare [WorldAnchors.](/windows/mixed-reality/persistence-in-unity)</span><span class="sxs-lookup"><span data-stu-id="1e1e9-183">To persist [WorldAnchors](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) across app sessions, developers can employ the [WorldAnchorStore](https://docs.unity3d.com/ScriptReference/XR.WSA.Persistence.WorldAnchorStore.html) to [save and load WorldAnchors](/windows/mixed-reality/persistence-in-unity).</span></span>

> [!NOTE]
> <span data-ttu-id="1e1e9-184">Dopo aver aggiunto un componente WorldAnchor a un GameObject, non è possibile modificare la trasformazione di tale GameObject, ad esempio</span><span class="sxs-lookup"><span data-stu-id="1e1e9-184">Once a WorldAnchor component has been added to a GameObject, it is not possible to modify that GameObject's transform (i.e</span></span> <span data-ttu-id="1e1e9-185">transform.position = x).</span><span class="sxs-lookup"><span data-stu-id="1e1e9-185">transform.position = x).</span></span> <span data-ttu-id="1e1e9-186">Uno sviluppatore deve rimuovere WorldAnchor per modificare la trasformazione.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-186">A developer must remove the WorldAnchor to edit the transform.</span></span>

```c#
WorldAnchor m_anchor;

public void AddAnchor()
{
    this.m_anchor = this.gameObject.AddComponent<WorldAnchor>();
}

public void RemoveAnchor()
{
    DestroyImmediate(m_anchor);
}
```

<span data-ttu-id="1e1e9-187">Per un'alternativa all'uso manuale degli ancoraggi, vedere Microsoft World Locking Tools.</span><span class="sxs-lookup"><span data-stu-id="1e1e9-187">If you want an alternative to manually working with Anchors, check out the Microsoft World Locking Tools.</span></span> 

> [!div class="nextstepaction"]
> [<span data-ttu-id="1e1e9-188">Eseguire l'installazione con mr feature tool</span><span class="sxs-lookup"><span data-stu-id="1e1e9-188">Install with the MR Feature Tool</span></span>](https://microsoft.github.io/MixedReality-WorldLockingTools-Unity/DocGen/Documentation/HowTos/WLTviaMRFeatureTool.html)

## <a name="see-also"></a><span data-ttu-id="1e1e9-189">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="1e1e9-189">See also</span></span>

- [<span data-ttu-id="1e1e9-190">Prestazioni</span><span class="sxs-lookup"><span data-stu-id="1e1e9-190">Performance</span></span>](../performance/perf-getting-started.md)
- [<span data-ttu-id="1e1e9-191">Considerazioni sull'ambiente per HoloLens</span><span class="sxs-lookup"><span data-stu-id="1e1e9-191">Environment Considerations for HoloLens</span></span>](/windows/mixed-reality/environment-considerations-for-hololens)
- [<span data-ttu-id="1e1e9-192">Ologramma Stability Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="1e1e9-192">Hologram Stability Windows Mixed Reality</span></span>](/windows/mixed-reality/hologram-stability)
- [<span data-ttu-id="1e1e9-193">Punto focale in Unity</span><span class="sxs-lookup"><span data-stu-id="1e1e9-193">Focus point in Unity</span></span>](/windows/mixed-reality/focus-point-in-unity)
- [<span data-ttu-id="1e1e9-194">Sistemi di coordinate in Unity</span><span class="sxs-lookup"><span data-stu-id="1e1e9-194">Coordinate systems in Unity</span></span>](/windows/mixed-reality/coordinate-systems-in-unity)
- [<span data-ttu-id="1e1e9-195">Persistenza in Unity</span><span class="sxs-lookup"><span data-stu-id="1e1e9-195">Persistence in Unity</span></span>](/windows/mixed-reality/persistence-in-unity)
- [<span data-ttu-id="1e1e9-196">Informazioni sulle prestazioni per la realtà mista</span><span class="sxs-lookup"><span data-stu-id="1e1e9-196">Understanding Performance for Mixed Reality</span></span>](/windows/mixed-reality/understanding-performance-for-mixed-reality)
- [<span data-ttu-id="1e1e9-197">Consigli sulle prestazioni per Unity</span><span class="sxs-lookup"><span data-stu-id="1e1e9-197">Performance recommendations for Unity</span></span>](/windows/mixed-reality/performance-recommendations-for-unity)
