---
title: stabilizzazione dell'ologramma
description: Prestazioni degli ologrammi in condizioni di ambiente e frequenza fotogrammi diverse.
author: keveleigh
ms.author: kurtie
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, realtà mista, sviluppo, MRTK, rilevamento dell'ambiente, TMP,
ms.openlocfilehash: 4ea3f62153676154188584221c83ac97b5589e05
ms.sourcegitcommit: 3e36b2fbbcc250c49aaf8ca1b6133cf0e9db69fa
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/16/2021
ms.locfileid: "107528722"
---
# <a name="hologram-stabilization"></a><span data-ttu-id="e546a-104">Stabilizzazione dell'ologramma</span><span class="sxs-lookup"><span data-stu-id="e546a-104">Hologram stabilization</span></span>

## <a name="performance"></a><span data-ttu-id="e546a-105">Prestazioni</span><span class="sxs-lookup"><span data-stu-id="e546a-105">Performance</span></span>

<span data-ttu-id="e546a-106">Per consentire alla piattaforma e al dispositivo di realtà mista sottostanti di produrre risultati ottimali, è importante ottenere la frequenza dei fotogrammi.</span><span class="sxs-lookup"><span data-stu-id="e546a-106">In order for the underlying mixed reality platform and device to produce the best results, it is important to achieve performing frame rates.</span></span> <span data-ttu-id="e546a-107">Il framerate di destinazione (ad esempio, 60 FPS o 90 FPS) varia a seconda delle piattaforme e dei dispositivi.</span><span class="sxs-lookup"><span data-stu-id="e546a-107">The target framerate (ex: 60 FPS or 90 FPS) will vary across platforms and devices.</span></span> <span data-ttu-id="e546a-108">Tuttavia, le applicazioni di realtà mista che incornicieranno il framerate avranno ologrammi stabili, oltre a un efficiente rilevamento della testa, un rilevamento manuale e altro ancora.</span><span class="sxs-lookup"><span data-stu-id="e546a-108">However, mixed reality applications meeting framerate will have stable holograms as well as efficient head tracking, hand tracking and more.</span></span>  

## <a name="environment-tracking"></a><span data-ttu-id="e546a-109">Rilevamento dell'ambiente</span><span class="sxs-lookup"><span data-stu-id="e546a-109">Environment tracking</span></span>

<span data-ttu-id="e546a-110">Il rendering olografico stabile si basa molto sul rilevamento della posizione della testa da parte della piattaforma & dispositivo.</span><span class="sxs-lookup"><span data-stu-id="e546a-110">Stable holographic rendering heavily relies on head-pose tracking by the platform & device.</span></span> <span data-ttu-id="e546a-111">Unity eseguirà il rendering della scena di ogni fotogramma della posizione della fotocamera stimata e fornita dalla piattaforma sottostante.</span><span class="sxs-lookup"><span data-stu-id="e546a-111">Unity will render the scene every frame from the camera pose estimated and supplied by the underlying platform.</span></span> <span data-ttu-id="e546a-112">Se questo rilevamento non segue correttamente lo spostamento effettivo della testa, gli ologrammi appariranno visivamente non accurati.</span><span class="sxs-lookup"><span data-stu-id="e546a-112">If this tracking does not correctly follow actual head movement, then holograms will appear visually inaccurate.</span></span> <span data-ttu-id="e546a-113">Questo è particolarmente evidente e importante per i dispositivi ar come HoloLens in cui gli utenti possono correlare ologrammi virtuali al mondo reale.</span><span class="sxs-lookup"><span data-stu-id="e546a-113">This is especially evident and important for AR devices like HoloLens where users can relate virtual holograms to the real world.</span></span> <span data-ttu-id="e546a-114">Le prestazioni sono significative per il rilevamento head affidabile, ma possono essere presenti [anche](/windows/mixed-reality/environment-considerations-for-hololens)altre importanti funzionalità.</span><span class="sxs-lookup"><span data-stu-id="e546a-114">Performance is significant for reliable head tracking, but there can be [other important features](/windows/mixed-reality/environment-considerations-for-hololens), as well.</span></span> <span data-ttu-id="e546a-115">I tipi di elementi dell'ambiente che influiscono sull'esperienza utente dipendono dalle specifiche della piattaforma di destinazione.</span><span class="sxs-lookup"><span data-stu-id="e546a-115">The types of environment elements impacting user experience will depend on the targeted platform specifics.</span></span>

## <a name="windows-mixed-reality"></a><span data-ttu-id="e546a-116">Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="e546a-116">Windows Mixed Reality</span></span>

<span data-ttu-id="e546a-117">La Windows Mixed Reality fornisce un materiale [di riferimento per](/windows/mixed-reality/hologram-stability) la stabilizzazione degli ologrammi nella piattaforma.</span><span class="sxs-lookup"><span data-stu-id="e546a-117">The Windows Mixed Reality platform provides some [reference material](/windows/mixed-reality/hologram-stability) for stabilizing holograms on the platform.</span></span> <span data-ttu-id="e546a-118">Esistono tuttavia alcuni strumenti chiave che gli sviluppatori possono usare per migliorare l'esperienza visiva degli ologrammi per gli utenti.</span><span class="sxs-lookup"><span data-stu-id="e546a-118">There are a handful of key tools though that developers can utilize to improve the hologram visual experience for users.</span></span>

### <a name="depth-buffer-sharing"></a><span data-ttu-id="e546a-119">Condivisione buffer di profondità</span><span class="sxs-lookup"><span data-stu-id="e546a-119">Depth buffer sharing</span></span>

<span data-ttu-id="e546a-120">Gli sviluppatori unity hanno la possibilità di condividere il buffer di profondità dell'applicazione con la piattaforma.</span><span class="sxs-lookup"><span data-stu-id="e546a-120">Unity developers have the option of sharing the application's depth buffer with the platform.</span></span> <span data-ttu-id="e546a-121">Vengono fornite informazioni, in cui sono presenti ologrammi per un frame corrente, che la piattaforma può usare per stabilizzare gli ologrammi tramite un processo assistito dall'hardware noto come Late-Stage reproiezione.</span><span class="sxs-lookup"><span data-stu-id="e546a-121">This provides information, where holograms exist for a current frame, that the platform can utilize to stabilize holograms via a hardware-assisted process known as Late-Stage Reprojection.</span></span>

#### <a name="late-stage-reprojection"></a><span data-ttu-id="e546a-122">Riprogettazione in ritardo</span><span class="sxs-lookup"><span data-stu-id="e546a-122">Late-stage reprojection</span></span>

<span data-ttu-id="e546a-123">Al termine del rendering di un frame, la piattaforma Windows Mixed Reality accetta il colore & destinazioni di rendering di profondità prodotte dall'applicazione e trasforma l'output dello schermo finale per conto di qualsiasi leggero spostamento della testa dall'ultima previsione di posizione della testa.</span><span class="sxs-lookup"><span data-stu-id="e546a-123">At the end of rendering a frame, the Windows Mixed Reality platform takes the color & depth render targets produced by the application and transforms the final screen output to account for any slight head movement since the last head pose prediction.</span></span> <span data-ttu-id="e546a-124">L'esecuzione del ciclo di gioco di un'applicazione richiede tempo.</span><span class="sxs-lookup"><span data-stu-id="e546a-124">An application's game loop takes time to execute.</span></span> <span data-ttu-id="e546a-125">Ad esempio, a 60 FPS, ciò significa che l'applicazione sta prendendo ~16.667 ms per eseguire il rendering di un frame.</span><span class="sxs-lookup"><span data-stu-id="e546a-125">For example, at 60 FPS, this means the application is taking ~16.667ms to render a frame.</span></span> <span data-ttu-id="e546a-126">Anche se può sembrare una quantità di tempo minima, la posizione e l'orientamento dell'utente della testa cambieranno, determinando nuove matrici di proiezione per la fotocamera nel rendering.</span><span class="sxs-lookup"><span data-stu-id="e546a-126">Even though this may seem like a miniscule amount of time, the user's position and orientation of their head will change resulting in new projection matrices for the camera in rendering.</span></span> <span data-ttu-id="e546a-127">La riproiezione in fase tardiva trasforma i pixel nell'immagine finale per conto di questa nuova prospettiva.</span><span class="sxs-lookup"><span data-stu-id="e546a-127">Late-stage reprojection transforms the pixels in the final image to account for this new perspective.</span></span>

#### <a name="per-pixel-vs-stabilization-plane-lsr"></a><span data-ttu-id="e546a-128">LSR per pixel rispetto al piano di stabilizzazione</span><span class="sxs-lookup"><span data-stu-id="e546a-128">Per-pixel vs stabilization plane LSR</span></span>

<span data-ttu-id="e546a-129">A seconda dell'endpoint del dispositivo e della versione del sistema operativo in esecuzione in un dispositivo Windows Mixed Reality, l'algoritmo Late-Stage Reprojection verrà eseguito per pixel o tramite un piano [di stabilizzazione.](/windows/mixed-reality/hologram-stability#stabilization-plane)</span><span class="sxs-lookup"><span data-stu-id="e546a-129">Depending on the device endpoint and OS version running on a Windows Mixed Reality device, the Late-Stage Reprojection algorithm will either be performed per-pixel or via a [stabilization plane](/windows/mixed-reality/hologram-stability#stabilization-plane).</span></span>

##### <a name="per-pixel-depth-based"></a><span data-ttu-id="e546a-130">Basata sulla profondità per pixel</span><span class="sxs-lookup"><span data-stu-id="e546a-130">Per-pixel depth-based</span></span>

<span data-ttu-id="e546a-131">La riproiezione basata sulla profondità per pixel comporta l'uso del buffer di profondità per modificare l'output dell'immagine per pixel e quindi stabilizzare gli ologrammi a varie distanze.</span><span class="sxs-lookup"><span data-stu-id="e546a-131">Per-pixel depth-based reprojection involves utilizing the depth buffer to modify the image output per pixel and thus stabilize holograms at various distances.</span></span> <span data-ttu-id="e546a-132">Ad esempio, una sfera a 1 m di distanza può essere davanti a un pilastro a 10 metri di distanza.</span><span class="sxs-lookup"><span data-stu-id="e546a-132">For example, a sphere 1m away may be in front of a pillar that is 10m away.</span></span> <span data-ttu-id="e546a-133">I pixel che rappresentano la sfera avranno una trasformazione diversa rispetto ai pixel più lontani che rappresentano il pilastro se l'utente ha leggermente inclinato la testa.</span><span class="sxs-lookup"><span data-stu-id="e546a-133">The pixels representing the sphere will have a different transform than the far away pixels representing the pillar if the user has tilted their head slightly.</span></span> <span data-ttu-id="e546a-134">La riproiezione per pixel prenderà in considerazione questa differenza di distanza in ogni pixel per una riprogettazione più accurata.</span><span class="sxs-lookup"><span data-stu-id="e546a-134">Per-pixel reprojection will take into account this distance difference at every pixel for more accurate reprojection.</span></span>

##### <a name="stabilization-plane"></a><span data-ttu-id="e546a-135">Piano di stabilizzazione</span><span class="sxs-lookup"><span data-stu-id="e546a-135">Stabilization plane</span></span>

<span data-ttu-id="e546a-136">Se non è possibile creare un buffer di profondità accurato da condividere con la piattaforma, un'altra forma di LSR usa un piano di stabilizzazione.</span><span class="sxs-lookup"><span data-stu-id="e546a-136">If it is not possible to create an accurate depth buffer to share with the platform, another form of LSR utilizes a stabilization plane.</span></span> <span data-ttu-id="e546a-137">Tutti gli ologrammi in una scena riceveranno una certa stabilizzazione, ma gli ologrammi che si trovano nel piano desiderato riceveranno la stabilizzazione hardware massima.</span><span class="sxs-lookup"><span data-stu-id="e546a-137">All holograms in a scene will receive some stabilization, but holograms lying in the desired plane will receive the maximum hardware stabilization.</span></span> <span data-ttu-id="e546a-138">Il punto e la normale per il piano possono essere forniti alla piattaforma tramite l'API *HolographicSettings.SetFocusPointForFrame* [fornita da Unity.](/windows/mixed-reality/focus-point-in-unity)</span><span class="sxs-lookup"><span data-stu-id="e546a-138">The point and normal for the plane can be supplied to the platform via the *HolographicSettings.SetFocusPointForFrame* [API provided by Unity](/windows/mixed-reality/focus-point-in-unity).</span></span>

#### <a name="depth-buffer-format"></a><span data-ttu-id="e546a-139">Formato del buffer di profondità</span><span class="sxs-lookup"><span data-stu-id="e546a-139">Depth buffer format</span></span>

<span data-ttu-id="e546a-140">Se la destinazione è HoloLens per lo sviluppo, è consigliabile usare il formato buffer di profondità a 16 bit rispetto a 24 bit.</span><span class="sxs-lookup"><span data-stu-id="e546a-140">If targeting HoloLens for development, it is highly recommended to utilize the 16-bit depth buffer format compared to 24-bit.</span></span> <span data-ttu-id="e546a-141">Ciò consente di risparmiare molto sulle prestazioni, anche se i valori di profondità avranno una precisione inferiore.</span><span class="sxs-lookup"><span data-stu-id="e546a-141">This can save tremendously on performance although depth values will have less precision.</span></span> <span data-ttu-id="e546a-142">Per compensare la precisione inferiore ed evitare [lo z-fighting,](https://en.wikipedia.org/wiki/Z-fighting)è consigliabile ridurre il piano di [ritaglio](https://docs.unity3d.com/Manual/class-Camera.html) lontano dal valore predefinito di 1000 metri impostato da Unity.</span><span class="sxs-lookup"><span data-stu-id="e546a-142">To compensate for the lower precision and avoid [z-fighting](https://en.wikipedia.org/wiki/Z-fighting), it is recommended to reduce the [far clip plane](https://docs.unity3d.com/Manual/class-Camera.html) from the 1000m default value set by Unity.</span></span>

> [!NOTE]
> <span data-ttu-id="e546a-143">Se si usa il formato di profondità a *16 bit,* gli effetti necessari del buffer di stencil non funzioneranno perché Unity non crea un [buffer di stencil](https://docs.unity3d.com/ScriptReference/RenderTexture-depth.html) in questa impostazione.</span><span class="sxs-lookup"><span data-stu-id="e546a-143">If using *16-bit depth format*, stencil buffer required effects will not work because [Unity does not create a stencil buffer](https://docs.unity3d.com/ScriptReference/RenderTexture-depth.html) in this setting.</span></span> <span data-ttu-id="e546a-144">Se si seleziona il formato di profondità a *24 bit,* in genere verrà creato un buffer di stencil a [8 bit,](https://docs.unity3d.com/Manual/SL-Stencil.html)se applicabile nella piattaforma grafica dell'endpoint.</span><span class="sxs-lookup"><span data-stu-id="e546a-144">Selecting *24-bit depth format* conversely will generally create an [8-bit stencil buffer](https://docs.unity3d.com/Manual/SL-Stencil.html), if applicable on the endpoint graphics platform.</span></span>

#### <a name="depth-buffer-sharing-in-unity"></a><span data-ttu-id="e546a-145">Condivisione del buffer di profondità in Unity</span><span class="sxs-lookup"><span data-stu-id="e546a-145">Depth buffer sharing in Unity</span></span>

<span data-ttu-id="e546a-146">Per usare l'LSR basato sulla profondità, è necessario eseguire due passaggi importanti.</span><span class="sxs-lookup"><span data-stu-id="e546a-146">In order to utilize depth-based LSR, there are two important steps that developers need to take.</span></span>

1. <span data-ttu-id="e546a-147">In **Modifica impostazioni** progetto  >    >  **Player**  >  **XR Settings** Virtual Reality  >  **SDK** > Enable Depth Buffer **Sharing**</span><span class="sxs-lookup"><span data-stu-id="e546a-147">Under **Edit** > **Project Settings** > **Player** > **XR Settings** > **Virtual Reality SDKs** > Enable **Depth Buffer Sharing**</span></span>
    1. <span data-ttu-id="e546a-148">Se la destinazione è HoloLens, è consigliabile selezionare anche il formato di profondità a **16 bit.**</span><span class="sxs-lookup"><span data-stu-id="e546a-148">If targeting HoloLens, it is recommended to select **16-bit depth format** as well.</span></span>
1. <span data-ttu-id="e546a-149">Quando si esegue il rendering del colore sullo schermo, anche la profondità di rendering</span><span class="sxs-lookup"><span data-stu-id="e546a-149">When rendering color on screen, render depth as well</span></span>

<span data-ttu-id="e546a-150">[Gli oggetti GameObject opachi](https://docs.unity3d.com/Manual/StandardShaderMaterialParameterRenderingMode.html) in Unity in genere scrivono automaticamente in profondità.</span><span class="sxs-lookup"><span data-stu-id="e546a-150">[Opaque GameObjects](https://docs.unity3d.com/Manual/StandardShaderMaterialParameterRenderingMode.html) in Unity will generally write to depth automatically.</span></span> <span data-ttu-id="e546a-151">Tuttavia, per & gli oggetti di testo non scrivono in profondità per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="e546a-151">However, transparent & text objects will generally not write to depth by default.</span></span> <span data-ttu-id="e546a-152">Se si usa MRTK Standard Shader o Text Mesh Pro, questa operazione può essere risolta facilmente.</span><span class="sxs-lookup"><span data-stu-id="e546a-152">If utilizing the MRTK Standard Shader or Text Mesh Pro, this can be easily remedied.</span></span>

> [!NOTE]
> <span data-ttu-id="e546a-153">Per determinare rapidamente quali oggetti di una scena non scrivono visivamente nel buffer di profondità, è possibile usare l'utilità [ *Buffer*](../configuration/mixed-reality-configuration-guide.md#editor-utilities) di profondità di rendering in *Impostazioni* editor nel profilo di configurazione MRTK.</span><span class="sxs-lookup"><span data-stu-id="e546a-153">To quickly determine which objects in a scene do not write to the depth buffer visually, one can use the [*Render Depth Buffer* utility](../configuration/mixed-reality-configuration-guide.md#editor-utilities) under the *Editor Settings* in the MRTK Configuration profile.</span></span>

##### <a name="transparent-mrtk-standard-shader"></a><span data-ttu-id="e546a-154">Shader MRTK Standard trasparente</span><span class="sxs-lookup"><span data-stu-id="e546a-154">Transparent MRTK Standard shader</span></span>

<span data-ttu-id="e546a-155">Per i materiali trasparenti che [usano lo shader MRTK Standard,](../features/rendering/MRTK-standard-shader.md)selezionare il materiale per visualizzarlo nella *finestra Inspector (Controllo).*</span><span class="sxs-lookup"><span data-stu-id="e546a-155">For transparent materials using the [MRTK Standard shader](../features/rendering/MRTK-standard-shader.md), select the material to view it in the *Inspector* window.</span></span> <span data-ttu-id="e546a-156">Fare quindi clic *sul pulsante Correggi* ora per convertire il materiale in modo da scrivere in profondità,ad esempio</span><span class="sxs-lookup"><span data-stu-id="e546a-156">Then click the *Fix Now* button to convert the material to write to depth (i.e</span></span> <span data-ttu-id="e546a-157">Z-Write On).</span><span class="sxs-lookup"><span data-stu-id="e546a-157">Z-Write On).</span></span>

<span data-ttu-id="e546a-158">Prima</span><span class="sxs-lookup"><span data-stu-id="e546a-158">Before</span></span>

![Buffer di profondità prima di correggere lo shader standard MRTK](../features/images/performance/DepthBufferFixNow_Before.PNG)

<span data-ttu-id="e546a-160">After</span><span class="sxs-lookup"><span data-stu-id="e546a-160">After</span></span>

![Buffer di profondità fisso MRTK Standard Shader](../features/images/performance/DepthBufferFixNow_After.PNG)

##### <a name="text-mesh-pro"></a><span data-ttu-id="e546a-162">Text Mesh Pro</span><span class="sxs-lookup"><span data-stu-id="e546a-162">Text Mesh Pro</span></span>

<span data-ttu-id="e546a-163">Per gli oggetti Text Mesh Pro, selezionare il GameObject TMP per visualizzarlo nel controllo.</span><span class="sxs-lookup"><span data-stu-id="e546a-163">For Text Mesh Pro objects, select the TMP GameObject to view it in the inspector.</span></span> <span data-ttu-id="e546a-164">Nel componente material cambiare lo shader per il materiale assegnato per usare lo shader TextMeshPro MRTK.</span><span class="sxs-lookup"><span data-stu-id="e546a-164">Under the material component, switch the shader for the assigned material to use the MRTK TextMeshPro shader.</span></span>

![Correzione buffer pro depth mesh di testo](../features/images/performance/TextMeshPro-DepthBuffer-Fix.PNG)

##### <a name="custom-shader"></a><span data-ttu-id="e546a-166">Shader personalizzato</span><span class="sxs-lookup"><span data-stu-id="e546a-166">Custom shader</span></span>

<span data-ttu-id="e546a-167">Se si scrive uno shader personalizzato, aggiungere il [flag ZWrite](https://docs.unity3d.com/Manual/SL-CullAndDepth.html) all'inizio della definizione del blocco *Pass* per configurare lo shader per la scrittura nel buffer di profondità.</span><span class="sxs-lookup"><span data-stu-id="e546a-167">If writing a custom shader, add the [ZWrite flag](https://docs.unity3d.com/Manual/SL-CullAndDepth.html) to the top of the *Pass* block definition to configure the shader to write to the depth buffer.</span></span>

```
Shader "Custom/MyShader"
{
    SubShader
    {
        Pass
        {
            ...
            ZWrite On
            ...
        }
    }
}
```

##### <a name="opaque-backings"></a><span data-ttu-id="e546a-168">Backup opachi</span><span class="sxs-lookup"><span data-stu-id="e546a-168">Opaque backings</span></span>

<span data-ttu-id="e546a-169">Se i metodi precedenti non funzionano per uno scenario specifico ,ad esempio</span><span class="sxs-lookup"><span data-stu-id="e546a-169">If the above methods do not work for a given scenario (i.e</span></span> <span data-ttu-id="e546a-170">usando l'interfaccia utente di Unity), è possibile fare in modo che un altro oggetto scrivo nel buffer di profondità.</span><span class="sxs-lookup"><span data-stu-id="e546a-170">using Unity UI), it is possible to have another object write to the depth buffer.</span></span> <span data-ttu-id="e546a-171">Un esempio comune è l'uso del testo dell'interfaccia utente di Unity in un pannello mobile in una scena.</span><span class="sxs-lookup"><span data-stu-id="e546a-171">A common example is using Unity UI Text on a floating panel in a scene.</span></span> <span data-ttu-id="e546a-172">Rendendo il pannello opaco o almeno scrivendo in profondità, sia il testo & il pannello verrà stabilizzato dalla piattaforma perché i valori z sono così vicini l'uno all'altro.</span><span class="sxs-lookup"><span data-stu-id="e546a-172">By making the panel opaque or at least writing to depth, then both the text & the panel will be stabilized by the platform since their z-values are so close to each other.</span></span>

### <a name="worldanchors-hololens"></a><span data-ttu-id="e546a-173">WorldAnchors (HoloLens)</span><span class="sxs-lookup"><span data-stu-id="e546a-173">WorldAnchors (HoloLens)</span></span>

<span data-ttu-id="e546a-174">Oltre a garantire che siano soddisfatte le configurazioni corrette per garantire la stabilità visiva, è importante assicurarsi che gli ologrammi rimangano stabili nelle posizioni fisiche corrette.</span><span class="sxs-lookup"><span data-stu-id="e546a-174">Along with ensuring the correct configurations are met to ensure visual stability, it is important to ensure holograms remain stable at their correct physical locations.</span></span> <span data-ttu-id="e546a-175">Per informare la piattaforma su posizioni importanti in uno spazio fisico, gli sviluppatori possono sfruttare [WorldAnchors](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) su GameObject che devono rimanere in un'unica posizione.</span><span class="sxs-lookup"><span data-stu-id="e546a-175">To inform the platform on important locations in a physical space, developers can leverage [WorldAnchors](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) on GameObjects that need to stay in one place.</span></span> <span data-ttu-id="e546a-176">[WorldAnchor è](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) un componente aggiunto a un GameObject che assume il controllo assoluto sulla trasformazione dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="e546a-176">A [WorldAnchor](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) is a component added to a GameObject that takes absolute control over that object's transform.</span></span>

<span data-ttu-id="e546a-177">I dispositivi, ad esempio HoloLens, stanno continuamente eseguendo l'analisi e imparando a conoscere l'ambiente.</span><span class="sxs-lookup"><span data-stu-id="e546a-177">Devices such as HoloLens are constantly scanning and learning about the environment.</span></span> <span data-ttu-id="e546a-178">Pertanto, poiché HoloLens tiene traccia del & posizione nello spazio, le stime verranno aggiornate e il sistema di [coordinate unity](/windows/mixed-reality/coordinate-systems-in-unity)regola .</span><span class="sxs-lookup"><span data-stu-id="e546a-178">Thus, as the HoloLens tracks movement & position in space, its estimates will be updated and the [Unity coordinate system adjusted](/windows/mixed-reality/coordinate-systems-in-unity).</span></span> <span data-ttu-id="e546a-179">Ad esempio, se un GameObject viene posizionato a 1 m dalla fotocamera all'inizio, poiché HoloLens tiene traccia dell'ambiente, potrebbe rendersi conto che il punto fisico in cui si trova il GameObject si trova effettivamente a 1,1 m di distanza.</span><span class="sxs-lookup"><span data-stu-id="e546a-179">For example, if a GameObject is placed 1m from the camera at start, as the HoloLens tracks the environment, it may realize the physical point where the GameObject is located is actually 1.1m away.</span></span> <span data-ttu-id="e546a-180">Ciò comporta la deriva dell'ologramma.</span><span class="sxs-lookup"><span data-stu-id="e546a-180">This would result in the hologram drifting.</span></span> <span data-ttu-id="e546a-181">L'applicazione di un WorldAnchor a un GameObject consentirà all'ancoraggio di controllare la trasformazione dell'oggetto in modo che l'oggetto rimanga nella posizione fisica corretta ,ad esempio</span><span class="sxs-lookup"><span data-stu-id="e546a-181">Applying a WorldAnchor to a GameObject will enable the anchor to control the object's transform so that the object will remain at the correct physical location (i.e</span></span> <span data-ttu-id="e546a-182">eseguire l'aggiornamento a 1,1 m anziché a 1 m in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="e546a-182">update to 1.1m away instead of 1m at runtime).</span></span> <span data-ttu-id="e546a-183">Per salvare [e caricare WorldAnchors](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) tra sessioni di app, gli sviluppatori possono usare [WorldAnchorStore](https://docs.unity3d.com/ScriptReference/XR.WSA.Persistence.WorldAnchorStore.html) per salvare e caricare [WorldAnchors.](/windows/mixed-reality/persistence-in-unity)</span><span class="sxs-lookup"><span data-stu-id="e546a-183">To persist [WorldAnchors](https://docs.unity3d.com/ScriptReference/XR.WSA.WorldAnchor.html) across app sessions, developers can employ the [WorldAnchorStore](https://docs.unity3d.com/ScriptReference/XR.WSA.Persistence.WorldAnchorStore.html) to [save and load WorldAnchors](/windows/mixed-reality/persistence-in-unity).</span></span>

> [!NOTE]
> <span data-ttu-id="e546a-184">Dopo l'aggiunta di un componente WorldAnchor a un GameObject, non è possibile modificare la trasformazione di tale GameObject,ad esempio</span><span class="sxs-lookup"><span data-stu-id="e546a-184">Once a WorldAnchor component has been added to a GameObject, it is not possible to modify that GameObject's transform (i.e</span></span> <span data-ttu-id="e546a-185">transform.position = x).</span><span class="sxs-lookup"><span data-stu-id="e546a-185">transform.position = x).</span></span> <span data-ttu-id="e546a-186">Uno sviluppatore deve rimuovere WorldAnchor per modificare la trasformazione.</span><span class="sxs-lookup"><span data-stu-id="e546a-186">A developer must remove the WorldAnchor to edit the transform.</span></span>

```c#
WorldAnchor m_anchor;

public void AddAnchor()
{
    this.m_anchor = this.gameObject.AddComponent<WorldAnchor>();
}

public void RemoveAnchor()
{
    DestroyImmediate(m_anchor);
}
```

<span data-ttu-id="e546a-187">Se si vuole un'alternativa all'uso manuale degli ancoraggi, vedere Microsoft World Locking Tools.</span><span class="sxs-lookup"><span data-stu-id="e546a-187">If you want an alternative to manually working with Anchors, check out the Microsoft World Locking Tools.</span></span> 

> [!div class="nextstepaction"]
> [<span data-ttu-id="e546a-188">Instal con lo strumento di funzionalità MR</span><span class="sxs-lookup"><span data-stu-id="e546a-188">Instal with the MR Feature Tool</span></span>](https://microsoft.github.io/MixedReality-WorldLockingTools-Unity/DocGen/Documentation/HowTos/WLTviaMRFeatureTool.html)

## <a name="see-also"></a><span data-ttu-id="e546a-189">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="e546a-189">See also</span></span>

- [<span data-ttu-id="e546a-190">Prestazioni</span><span class="sxs-lookup"><span data-stu-id="e546a-190">Performance</span></span>](../performance/perf-getting-started.md)
- [<span data-ttu-id="e546a-191">Considerazioni sull'ambiente per HoloLens</span><span class="sxs-lookup"><span data-stu-id="e546a-191">Environment Considerations for HoloLens</span></span>](/windows/mixed-reality/environment-considerations-for-hololens)
- [<span data-ttu-id="e546a-192">Ologramma Stability Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="e546a-192">Hologram Stability Windows Mixed Reality</span></span>](/windows/mixed-reality/hologram-stability)
- [<span data-ttu-id="e546a-193">Punto focale in Unity</span><span class="sxs-lookup"><span data-stu-id="e546a-193">Focus point in Unity</span></span>](/windows/mixed-reality/focus-point-in-unity)
- [<span data-ttu-id="e546a-194">Sistemi di coordinate in Unity</span><span class="sxs-lookup"><span data-stu-id="e546a-194">Coordinate systems in Unity</span></span>](/windows/mixed-reality/coordinate-systems-in-unity)
- [<span data-ttu-id="e546a-195">Persistenza in Unity</span><span class="sxs-lookup"><span data-stu-id="e546a-195">Persistence in Unity</span></span>](/windows/mixed-reality/persistence-in-unity)
- [<span data-ttu-id="e546a-196">Informazioni sulle prestazioni per la realtà mista</span><span class="sxs-lookup"><span data-stu-id="e546a-196">Understanding Performance for Mixed Reality</span></span>](/windows/mixed-reality/understanding-performance-for-mixed-reality)
- [<span data-ttu-id="e546a-197">Consigli sulle prestazioni per Unity</span><span class="sxs-lookup"><span data-stu-id="e546a-197">Performance recommendations for Unity</span></span>](/windows/mixed-reality/performance-recommendations-for-unity)