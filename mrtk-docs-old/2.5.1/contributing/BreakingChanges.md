---
title: BreakingChanges
description: criteri riguardanti le modifiche di rilievo nella MRTK.
author: polar-kev
ms.author: kesemple
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, realtà mista, sviluppo, MRTK,
ms.openlocfilehash: f59eea0cf8bf4f9578bf18da88e6c7660c68faae
ms.sourcegitcommit: 59c91f8c70d1ad30995fba6cf862615e25e78d10
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/19/2021
ms.locfileid: "104688671"
---
# <a name="breaking-changes"></a><span data-ttu-id="b32f6-104">Modifiche che causano un'interruzione</span><span class="sxs-lookup"><span data-stu-id="b32f6-104">Breaking changes</span></span>

<span data-ttu-id="b32f6-105">I consumer di MRTK dipendono dalla presenza di una superficie dell'API Release-to-release stabile, in modo che possano eseguire aggiornamenti al MRTK senza dover apportare modifiche di rilievo a grandi dimensioni ogni volta.</span><span class="sxs-lookup"><span data-stu-id="b32f6-105">Consumers of the MRTK depend on having a stable release-to-release API surface, so that they can take updates to the MRTK without having large breaking changes each time.</span></span>

<span data-ttu-id="b32f6-106">In questa pagina vengono descritti i criteri correnti riguardanti le modifiche di rilievo apportate alla MRTK, insieme ad alcuni obiettivi a lungo termine su come migliorare la gestione del compromesso tra la riduzione delle modifiche di rilievo e la possibilità di apportare le modifiche tecniche a lungo termine al codice.</span><span class="sxs-lookup"><span data-stu-id="b32f6-106">This page describes our current policy regarding breaking changes in the MRTK, along with some longer term goals around how we can better manage the tradeoff between keeping breaking changes low and being able to make the right long term technical changes to the code.</span></span>

## <a name="what-is-a-breaking-change"></a><span data-ttu-id="b32f6-107">Che cos'è una modifica di rilievo?</span><span class="sxs-lookup"><span data-stu-id="b32f6-107">What is a breaking change?</span></span>

<span data-ttu-id="b32f6-108">Una modifica è una modifica di rilievo se soddisfa tutte le condizioni nell' [elenco a](#list-a) e soddisfa tutte le condizioni nell' [elenco B](#list-b)</span><span class="sxs-lookup"><span data-stu-id="b32f6-108">A change is a breaking change if it satisfies any of the conditions in the [List A](#list-a) AND satisfies all of the conditions in [list B](#list-b)</span></span>

### <a name="list-a"></a><span data-ttu-id="b32f6-109">Elencare un</span><span class="sxs-lookup"><span data-stu-id="b32f6-109">List A</span></span>

- <span data-ttu-id="b32f6-110">L'aggiunta, la rimozione o l'aggiornamento di qualsiasi membro o funzione di qualsiasi interfaccia (o rimozione/ridenominazione dell'intera interfaccia).</span><span class="sxs-lookup"><span data-stu-id="b32f6-110">The addition, removal, or update of any member or function of any interface (or removal/rename of the entire interface).</span></span>
- <span data-ttu-id="b32f6-111">Rimozione, aggiornamento (modifica del tipo/definizione, rendendo privato o interno) qualsiasi membro o funzione della classe protetta o pubblica.</span><span class="sxs-lookup"><span data-stu-id="b32f6-111">The removal, update (changing type/definition, making private or internal) of any protected or public member or function of class.</span></span> <span data-ttu-id="b32f6-112">(o rimozione/ridenominazione dell'intera classe).</span><span class="sxs-lookup"><span data-stu-id="b32f6-112">(or removal/rename of the entire class).</span></span>
- <span data-ttu-id="b32f6-113">Modifica dell'ordine degli eventi generati da una classe.</span><span class="sxs-lookup"><span data-stu-id="b32f6-113">The change in the order of events fired by a class.</span></span>
- <span data-ttu-id="b32f6-114">Ridenominazione di qualsiasi SerializedField privato (senza un tag FormerlySerializedAs corrispondente) o di una proprietà pubblica in un ScriptableObject (in particolare modifiche ai profili).</span><span class="sxs-lookup"><span data-stu-id="b32f6-114">The rename of any private SerializedField (without a corresponding FormerlySerializedAs tag) or public property on a ScriptableObject (especially changes to profiles).</span></span>
- <span data-ttu-id="b32f6-115">Modifica del tipo di un campo in un ScriptableObject (in particolare modifiche ai profili).</span><span class="sxs-lookup"><span data-stu-id="b32f6-115">Changing the type of a field on a ScriptableObject (especially changes to profiles).</span></span>
- <span data-ttu-id="b32f6-116">Aggiornamenti allo spazio dei nomi o asmdefs di qualsiasi classe o interfaccia.</span><span class="sxs-lookup"><span data-stu-id="b32f6-116">Updates to the namespace or asmdefs of any class or interface.</span></span>
- <span data-ttu-id="b32f6-117">Rimozione di qualsiasi prefabbricata o rimozione di uno script nell'oggetto di primo livello di una prefabbricata.</span><span class="sxs-lookup"><span data-stu-id="b32f6-117">Removal of any prefab or removal of a script on the top level object of a prefab.</span></span>

### <a name="list-b"></a><span data-ttu-id="b32f6-118">Elenco B</span><span class="sxs-lookup"><span data-stu-id="b32f6-118">List B</span></span>

- <span data-ttu-id="b32f6-119">L'asset in questione si trova nel pacchetto Foundation, ovvero in una delle cartelle seguenti:</span><span class="sxs-lookup"><span data-stu-id="b32f6-119">The asset in question is in the foundation package (i.e. it's in one of the following folders):</span></span>

  - <span data-ttu-id="b32f6-120">MRTK/Core</span><span class="sxs-lookup"><span data-stu-id="b32f6-120">MRTK/Core</span></span>
  - <span data-ttu-id="b32f6-121">MRTK/provider/</span><span class="sxs-lookup"><span data-stu-id="b32f6-121">MRTK/Providers/</span></span>
  - <span data-ttu-id="b32f6-122">MRTK/servizi/</span><span class="sxs-lookup"><span data-stu-id="b32f6-122">MRTK/Services/</span></span>
  - <span data-ttu-id="b32f6-123">MRTK/SDK/</span><span class="sxs-lookup"><span data-stu-id="b32f6-123">MRTK/SDK/</span></span>
  - <span data-ttu-id="b32f6-124">MRTK/estensioni</span><span class="sxs-lookup"><span data-stu-id="b32f6-124">MRTK/Extensions</span></span>

- <span data-ttu-id="b32f6-125">L'asset in questione non appartiene allo spazio dei nomi sperimentale.</span><span class="sxs-lookup"><span data-stu-id="b32f6-125">The asset in question does not belong to the experimental namespace.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b32f6-126">Tutti gli asset che si trovano nel pacchetto degli esempi (ad esempio, parte di MRTK/examples/Folder) sono soggetti a modifiche in qualsiasi momento, poiché le risorse sono progettate per essere copiate e visualizzate dai consumer come "implementazioni di riferimento", ma non fanno parte del set principale di API e asset.</span><span class="sxs-lookup"><span data-stu-id="b32f6-126">Any asset that sits in the examples package (i.e. part of the MRTK/Examples/ folder) is subject to change at any time, as assets there are designed to be copied and viewed by consumers as 'reference implementations' but are not part of the core set of APIs and assets.</span></span> <span data-ttu-id="b32f6-127">Gli asset nello spazio dei nomi sperimentale (o più in generale, le funzionalità contrassegnate come sperimentali) sono quelli che vengono pubblicati prima che siano state eseguite tutte le operazioni di diligenza (ad esempio, test, iterazione UX, documentazione) e pubblicate in anticipo per ricevere commenti e suggerimenti prima.</span><span class="sxs-lookup"><span data-stu-id="b32f6-127">Assets in the experimental namespace (or more generally, features labelled as experimental) are ones that get published before all due diligence has been done (i.e. tests, UX iteration, documentation) and is published early to get feedback sooner.</span></span>  <span data-ttu-id="b32f6-128">Tuttavia, poiché non dispongono di test e documentazione e perché probabilmente non sono state rimosse tutte le interazioni e le progettazioni, le si pubblicano in uno stato in cui il pubblico dovrebbe presumere che possano e cambieranno, ovvero verranno modificati, completamente rimossi e così via.</span><span class="sxs-lookup"><span data-stu-id="b32f6-128">However, because they don't have tests and documentation, and because we likely haven't nailed down all of the interactions and designs, we publish them in a state where the public should assume that they can and will change (i.e. be modified, completely removed, etc).</span></span>
>
> <span data-ttu-id="b32f6-129">Per ulteriori informazioni, vedere [funzionalità sperimentali](../contributing/ExperimentalFeatures.md) .</span><span class="sxs-lookup"><span data-stu-id="b32f6-129">See [Experimental features](../contributing/ExperimentalFeatures.md) for more information.</span></span>

<span data-ttu-id="b32f6-130">Poiché la superficie di attacco per le modifiche di rilievo è molto grande, è importante notare che la presenza di una regola assoluta che indica che non sono state apportate modifiche significative potrebbe essere un problema che può essere risolto in modo sano con una modifica di rilievo.</span><span class="sxs-lookup"><span data-stu-id="b32f6-130">As the surface area for breaking changes is very large, it's important to note that having an absolute rule that says "no breaking changes" would be impossible - there may be issues that can only be fixed in a sane way by having a breaking change.</span></span> <span data-ttu-id="b32f6-131">Per un altro modo, l'unico modo per ottenere una "nessuna modifica di rilievo" è quello di non avere alcuna modifica.</span><span class="sxs-lookup"><span data-stu-id="b32f6-131">To put another way, the only way we could really have "no breaking changes" is to have no changes at all.</span></span>

<span data-ttu-id="b32f6-132">Il nostro criterio permanente consiste nell'evitare di apportare modifiche di rilievo, se possibile, ed eseguire questa operazione solo se la modifica accumula un notevole valore a lungo termine del cliente o del Framework.</span><span class="sxs-lookup"><span data-stu-id="b32f6-132">Our standing policy is to avoid making breaking changes if possible, and only do so if the change would accrue significant customer or framework long term value.</span></span>

## <a name="what-to-do-about-breaking-changes"></a><span data-ttu-id="b32f6-133">Operazioni da eseguire per le modifiche di rilievo</span><span class="sxs-lookup"><span data-stu-id="b32f6-133">What to do about breaking changes</span></span>

<span data-ttu-id="b32f6-134">Se è possibile eseguire un'operazione senza una modifica sostanziale e senza compromettere la struttura a lungo termine e la redditività della funzionalità, non eseguire la modifica sostanziale.</span><span class="sxs-lookup"><span data-stu-id="b32f6-134">If it is possible to accomplish something without a breaking change and without compromising the long term structure and viability of the feature, don't do the breaking change.</span></span> <span data-ttu-id="b32f6-135">Se non esiste un altro modo, i criteri correnti consentono di valutare ogni singola modifica di rilievo, per comprendere se il vantaggio derivante dall'adozione della modifica supera il costo del consumatore di assorbire la modifica.</span><span class="sxs-lookup"><span data-stu-id="b32f6-135">If there is no other way, the current policy is to evaluate each individual breaking change, to understand if the benefit from taking the change outweighs the cost to the consumer of absorbing the change.</span></span> <span data-ttu-id="b32f6-136">Si tratta di un dibattito su ciò che vale la pena e sugli elementi che in genere non si verificano nella richiesta pull o nel problema.</span><span class="sxs-lookup"><span data-stu-id="b32f6-136">Debate about what is worth doing and what isn't will generally take place on the PR or issue discussion itself.</span></span>

<span data-ttu-id="b32f6-137">Cosa può accadere qui in diversi bucket:</span><span class="sxs-lookup"><span data-stu-id="b32f6-137">What can happen here falls into several buckets:</span></span>

### <a name="the-breaking-change-adds-value-but-could-be-written-in-a-way-that-isnt-breaking"></a><span data-ttu-id="b32f6-138">La modifica di rilievo aggiunge valore ma potrebbe essere scritta in un modo che non si interrompe</span><span class="sxs-lookup"><span data-stu-id="b32f6-138">The breaking change adds value but could be written in a way that isn't breaking</span></span>

<span data-ttu-id="b32f6-139">[Questa](https://github.com/microsoft/MixedRealityToolkit-Unity/pull/4882) richiesta pull, ad esempio, ha aggiunto una nuova funzionalità inizialmente scritta in un modo in cui è stata modificata un'interfaccia esistente, che è stata quindi riscritta dove la funzionalità è stata suddivisa come interfaccia personalizzata.</span><span class="sxs-lookup"><span data-stu-id="b32f6-139">For example, [this PR](https://github.com/microsoft/MixedRealityToolkit-Unity/pull/4882) added a new feature that was initially written in a way that was breaking - it modified an existing interface - but was then rewritten where the feature was broken out as its own interface.</span></span> <span data-ttu-id="b32f6-140">Si tratta in genere del migliore risultato possibile.</span><span class="sxs-lookup"><span data-stu-id="b32f6-140">This is generally the best possible outcome.</span></span> <span data-ttu-id="b32f6-141">Non tentare di forzare una modifica in un modulo senza interruzioni se questa operazione comprometterebbe la redditività o la struttura della funzionalità a lungo termine.</span><span class="sxs-lookup"><span data-stu-id="b32f6-141">Do not try to force a change into a non-breaking form if doing so would compromise the long term viability or structure of the feature.</span></span>

### <a name="the-breaking-change-adds-sufficient-value-to-the-customer-that-its-worth-doing"></a><span data-ttu-id="b32f6-142">La modifica di rilievo aggiunge un valore sufficiente al cliente che vale la pena</span><span class="sxs-lookup"><span data-stu-id="b32f6-142">The breaking change adds sufficient value to the customer that it's worth doing</span></span>

<span data-ttu-id="b32f6-143">Documentare le modifiche di rilievo e fornire la migliore mitigazione (ad esempio, procedure descrittive per eseguire la migrazione o migliorare gli strumenti che verranno automaticamente migrati per il cliente).</span><span class="sxs-lookup"><span data-stu-id="b32f6-143">Document what the breaking changes are and provide the best possible mitigation (i.e. prescriptive steps on how to migrate, or better yet tooling that will automatically migrate for the customer).</span></span> <span data-ttu-id="b32f6-144">Ogni versione può contenere una piccola quantità di modifiche che vengono interrotte, che devono essere sempre documentate in docs come è stato fatto in [questa](https://github.com/microsoft/MixedRealityToolkit-Unity/pull/4858)richiesta pull.</span><span class="sxs-lookup"><span data-stu-id="b32f6-144">Each release may contain a small amount of changes that are breaking - these should always be documented in docs as was done in [this PR](https://github.com/microsoft/MixedRealityToolkit-Unity/pull/4858).</span></span> <span data-ttu-id="b32f6-145">Se è già presente una guida alla migrazione 2. x. x → 2. x +1. x + 1, aggiungere istruzioni o strumenti a tale documento. Se non esiste, crearlo.</span><span class="sxs-lookup"><span data-stu-id="b32f6-145">If there already is a 2.x.x→2.x+1.x+1 migration guide, then add instructions or tooling to that doc. If it doesn't exist, create it.</span></span>

### <a name="the-breaking-change-adds-value-but-the-customer-pain-would-be-too-high"></a><span data-ttu-id="b32f6-146">La modifica di rilievo aggiunge un valore, ma il dolore del cliente è troppo elevato</span><span class="sxs-lookup"><span data-stu-id="b32f6-146">The breaking change adds value but the customer pain would be too high</span></span>

<span data-ttu-id="b32f6-147">Non vengono creati tutti i tipi di modifiche di rilievo. alcuni sono molto più dolorosi che altri, in base alla nostra esperienza e in base alle esperienze dei clienti.</span><span class="sxs-lookup"><span data-stu-id="b32f6-147">Not all types of breaking changes are created equal - some are significantly more painful that others, based on our experience and based on customer experiences.</span></span> <span data-ttu-id="b32f6-148">Ad esempio, le modifiche alle interfacce possono essere penose. Tuttavia, se la modifica di rilievo è una condizione in cui è improbabile che un cliente abbia esteso/implementato in passato (il sistema di visualizzazione diagnostica, ad esempio), il costo effettivo è probabilmente minimo per niente.</span><span class="sxs-lookup"><span data-stu-id="b32f6-148">For example, changes to interfaces may be painful, but if the breaking change is one in which a customer is unlikely to have extended/implemented in the past (the diagnostic visualization system, for example), then the actual cost is probably low to nothing.</span></span> <span data-ttu-id="b32f6-149">Tuttavia, se la modifica è il tipo di un campo in un ScriptableObject (ad esempio, in uno dei profili di base di MRTK), è probabile che si verifichi un notevole dolore dei clienti.</span><span class="sxs-lookup"><span data-stu-id="b32f6-149">However, if the change is the type of a field on a ScriptableObject (for example, on one of the core profiles of the MRTK), this is likely to cause massive customer pain.</span></span> <span data-ttu-id="b32f6-150">I clienti hanno già clonato il profilo predefinito, i profili di Unione/aggiornamento possono essere estremamente difficili da eseguire manualmente (ad esempio, tramite un editor di testo durante l'esecuzione del merge) e la Ricopia del profilo predefinito e la riconfigurazione di tutti gli elementi è molto probabile che si verifichino regressioni difficili da eseguire.</span><span class="sxs-lookup"><span data-stu-id="b32f6-150">Customers have already cloned the default profile, merging/updating profiles can be extremely hard to do manually (i.e. via a text editor during merge time), and re-copying the default profile and reconfiguring everything by hand is extremely likely to lead to hard to debug regressions.</span></span>

<span data-ttu-id="b32f6-151">Queste modifiche devono essere riportate sullo scaffale fino a quando non esiste un ramo che consentirà di apportare modifiche significative (insieme a un valore significativo che fornirà ai clienti un motivo per l'aggiornamento).</span><span class="sxs-lookup"><span data-stu-id="b32f6-151">These changes we have to put back onto the shelf until a branch exists that will allow significantly breaking changes (along with significant value that will give customers a reason to upgrade).</span></span> <span data-ttu-id="b32f6-152">Questo ramo attualmente non esiste.</span><span class="sxs-lookup"><span data-stu-id="b32f6-152">Such a branch doesn't currently exist.</span></span> <span data-ttu-id="b32f6-153">Nelle prossime riunioni di pianificazione dell'iterazione, verrà esaminato il set di modifiche/problemi che erano "troppo importanti" per verificare se è stata raggiunta una massa critica per rendere ragionevole la ricerca di un set di modifiche contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="b32f6-153">In our future iteration planning meetings, we will review the set of changes/issues that were 'too breaking' to see if we reached a critical mass to make it reasonable to pursue a set of changes all at once.</span></span> <span data-ttu-id="b32f6-154">Si noti che è pericoloso creare un ramo "tutto ciò che è consentito" senza che venga eseguita la diligenza a causa delle risorse di progettazione limitate e del fatto che è necessario suddividere i test e la convalida tra questi due.</span><span class="sxs-lookup"><span data-stu-id="b32f6-154">Note that it's dangerous to spin up a "everything is allowed" branch without due diligence being done because of the limited engineering resources we have, and the fact that we'd have to split testing and validation across those two.</span></span> <span data-ttu-id="b32f6-155">È necessario essere uno scopo chiaro e una data di inizio e di fine con comunicazione corretta di un ramo esistente.</span><span class="sxs-lookup"><span data-stu-id="b32f6-155">There needs to be a clear purpose and well-communicated start and end date of such a branch when it exists.</span></span>

## <a name="long-term-management-of-breaking-changes"></a><span data-ttu-id="b32f6-156">Gestione a lungo termine delle modifiche di rilievo</span><span class="sxs-lookup"><span data-stu-id="b32f6-156">Long term management of breaking changes</span></span>

<span data-ttu-id="b32f6-157">A lungo termine, è consigliabile cercare di ridurre l'ambito di una modifica sostanziale aumentando il set di condizioni nell' [elenco B](#list-b). Il set di elementi nell' [elenco a](#list-a) sarà sempre tecnicamente in fase di suddivisione per il set di file e di asset ritenuti "public API Surface".</span><span class="sxs-lookup"><span data-stu-id="b32f6-157">In the long term, we should seek to reduce the scope of what is a breaking change by increasing the set of conditions in [List B](#list-b). Going forward the set of things in [List A](#list-a) will always technically be breaking for the set of files and assets that we deem to be in the "public API surface."</span></span> <span data-ttu-id="b32f6-158">Il modo in cui possiamo ottenere una maggiore libertà per l'iterazione, ovvero modificare i dettagli di implementazione interni, semplificando il refactoring e la condivisione del codice tra più classi e così via, è più esplicito su quali parti del codice sono la superficie ufficiale, anziché i dettagli di implementazione.</span><span class="sxs-lookup"><span data-stu-id="b32f6-158">The way that we can get a little more freedom for iteration (i.e. changing up the internal implementation details, allowing for easier refactoring and sharing of code between multiple classes, etc) is to be more explicit about which portions of the code are official surface, rather than implementation detail.</span></span>

<span data-ttu-id="b32f6-159">Una delle cose che abbiamo già fatto è il concetto di una funzionalità "sperimentale", che appartiene allo spazio dei nomi sperimentale, che potrebbe non avere test/documentazione e che è disponibile pubblicamente, ma che può essere rimossa e aggiornata senza preavviso.</span><span class="sxs-lookup"><span data-stu-id="b32f6-159">One thing we've already done is introduce the concept of an "experimental" feature (it belongs in the experimental namespace, it may not have tests/documentation, and is publicly proclaimed to exist but may be removed and updated without warning).</span></span> <span data-ttu-id="b32f6-160">Questo ha consentito di aggiungere nuove funzionalità prima di ottenere un feedback precedente, ma non di essere immediatamente collegato alla relativa superficie API (perché la superficie dell'API potrebbe non essere completamente pensata).</span><span class="sxs-lookup"><span data-stu-id="b32f6-160">This has given has freedom to add new features sooner to get earlier feedback, but not be immediately tied to its API surface (because we may not have fully thought out the API surface).</span></span>

### <a name="other-examples-of-things-that-could-help-in-the-future"></a><span data-ttu-id="b32f6-161">Altri esempi di elementi che potrebbero essere utili in futuro</span><span class="sxs-lookup"><span data-stu-id="b32f6-161">Other examples of things that could help in the future</span></span>

- <span data-ttu-id="b32f6-162">Utilizzo della [parola chiave internal](https://docs.microsoft.com/dotnet/csharp/language-reference/keywords/internal).</span><span class="sxs-lookup"><span data-stu-id="b32f6-162">Usage of the [internal keyword](https://docs.microsoft.com/dotnet/csharp/language-reference/keywords/internal).</span></span>
  <span data-ttu-id="b32f6-163">Questo consentirebbe di avere codice condiviso all'interno degli assembly (per ridurre la duplicazione del codice) senza rendere le cose pubbliche a utenti esterni.</span><span class="sxs-lookup"><span data-stu-id="b32f6-163">This would allow for us to have shared code within our own assemblies (for reducing code duplication) without making things public to external consumers.</span></span>
- <span data-ttu-id="b32f6-164">Creazione di uno spazio dei nomi "interno" (ad esempio Microsoft. MixedReality. Toolkit. Internal. Utilities), in cui viene documentato pubblicamente che qualsiasi elemento contenuto in tale spazio dei nomi interno è soggetto a modifiche in qualsiasi momento e potrebbe essere rimosso e così via. Questa operazione è simile alla modalità con cui le librerie di intestazioni C++ utilizzeranno gli spazi dei nomi:: interni per nascondere i dettagli di implementazione.</span><span class="sxs-lookup"><span data-stu-id="b32f6-164">Creation of an "internal" namespace (i.e. Microsoft.MixedReality.Toolkit.Internal.Utilities), where we publicly document that anything contained within that internal namespace is subject to change at anytime and could be removed, etc. This is similar to how C++ header libraries will make use of ::internal namespaces to hide their implementation details.</span></span>
