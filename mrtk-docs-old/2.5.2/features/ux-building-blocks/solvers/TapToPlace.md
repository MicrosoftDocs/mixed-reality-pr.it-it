---
title: TapToPlace
description: Documentazione di TapToPlace MRTK
author: CDiaz-MS
ms.author: cadia
ms.date: 01/12/2021
keywords: Unity, HoloLens, HoloLens 2, realtà mista, sviluppo, MRTK, tocco a posto,
ms.openlocfilehash: 7863ab52dc4378d11a459ef99d24997895752c14
ms.sourcegitcommit: 59c91f8c70d1ad30995fba6cf862615e25e78d10
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/19/2021
ms.locfileid: "104686644"
---
# <a name="tap-to-place"></a><span data-ttu-id="a728f-104">Toccare per posizionare</span><span class="sxs-lookup"><span data-stu-id="a728f-104">Tap to Place</span></span>

![Introduzione a TapToPlace](../../images/solver/tap-to-place/TapToPlaceIntroGif.gif)

<span data-ttu-id="a728f-106">Toccare per posizionare è un componente di interazione molto usato per posizionare un oggetto gioco sulla superficie.</span><span class="sxs-lookup"><span data-stu-id="a728f-106">Tap to Place is a far interaction component that is used to place a game object on surface.</span></span> <span data-ttu-id="a728f-107">Questo componente è utile per inserire oggetti in una rete spaziale.</span><span class="sxs-lookup"><span data-stu-id="a728f-107">This component is useful for placing objects on a spatial mesh.</span></span> <span data-ttu-id="a728f-108">Toccare per posizionare usa una combinazione di due clic e movimento Head per inserire un oggetto.</span><span class="sxs-lookup"><span data-stu-id="a728f-108">Tap to Place uses a combination of two clicks and head movement to place an object.</span></span> <span data-ttu-id="a728f-109">Un clic per avviare la selezione host, lo spostamento Head per controllare la posizione dell'oggetto e un clic per posizionare l'oggetto nella scena.</span><span class="sxs-lookup"><span data-stu-id="a728f-109">A click to start the placement, head movement to control the position of the object and a click to place the object in the scene.</span></span>

## <a name="using-tap-to-place"></a><span data-ttu-id="a728f-110">Uso del tocco per posizionare</span><span class="sxs-lookup"><span data-stu-id="a728f-110">Using Tap to Place</span></span>

1. <span data-ttu-id="a728f-111">Configurare la scena</span><span class="sxs-lookup"><span data-stu-id="a728f-111">Set up the scene</span></span>
    - <span data-ttu-id="a728f-112">Crea una nuova scena Unity</span><span class="sxs-lookup"><span data-stu-id="a728f-112">Create a new unity scene</span></span>
    - <span data-ttu-id="a728f-113">Per aggiungere MRTK alla scena, passare al Toolkit di **realtà mista**  >  **Aggiungi alla scena e configurare**</span><span class="sxs-lookup"><span data-stu-id="a728f-113">Add MRTK to the scene by navigating to the **Mixed Reality Toolkit** > **Add to Scene and Configure**</span></span>
    > [!NOTE]
    > <span data-ttu-id="a728f-114">Toccare per posizionare usa i clic basati sul sistema di input MRTK, ma può anche essere controllato senza clic, vedere la sezione tap to Place configurabilità del codice riportata di seguito.</span><span class="sxs-lookup"><span data-stu-id="a728f-114">Tap to Place uses clicks driven by the MRTK Input System but it can also be controlled without clicks, see the Tap To Place Code Configurability section below.</span></span>
    - <span data-ttu-id="a728f-115">Aggiungere un cubo alla scena e impostare la scala su 0,2 e impostare la posizione su (0, 0, 0,7).</span><span class="sxs-lookup"><span data-stu-id="a728f-115">Add a cube to the scene and change the scale to 0.2 and change the position to (0, 0, 0.7).</span></span>
1. <span data-ttu-id="a728f-116">Associa il [tocco alla posizione](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.TapToPlace) di un oggetto gioco con un Collider</span><span class="sxs-lookup"><span data-stu-id="a728f-116">Attach [Tap to Place](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.TapToPlace) to a game object with a collider</span></span>

    ![TapToPlaceInspector](../../images/solver/tap-to-place/TapToPlaceInspector2.png)

    - <span data-ttu-id="a728f-118">Quando viene aggiunto il componente tap to Place, viene collegato anche un gestore del Risolutore.</span><span class="sxs-lookup"><span data-stu-id="a728f-118">When the Tap to Place component is added, a Solver Handler will also be attached.</span></span> <span data-ttu-id="a728f-119">Toccare per posizionare deriva dalla classe [Solver](Solver.md) che richiede un gestore del Risolutore.</span><span class="sxs-lookup"><span data-stu-id="a728f-119">Tap to Place derives from the [Solver](Solver.md) class which requires a Solver Handler.</span></span> <span data-ttu-id="a728f-120">La posizione di un oggetto Tap per posizionare viene calcolata in relazione all'oggetto `TrackedTargetType` all'interno del gestore del Risolutore.</span><span class="sxs-lookup"><span data-stu-id="a728f-120">The position of a Tap to Place object is calculated relative to the `TrackedTargetType` within the Solver Handler.</span></span> <span data-ttu-id="a728f-121">Per impostazione predefinita, l'intestazione è `TrackedTargetType` , ovvero quando viene spostata, l'oggetto segue se è selezionato.</span><span class="sxs-lookup"><span data-stu-id="a728f-121">By default the Head is the `TrackedTargetType`, i.e. when the head moves, the object follows if it is selected.</span></span>  <span data-ttu-id="a728f-122">`TrackedTargetType`Può anche essere impostato su un raggio del controller che ha l'oggetto che segue il controller.</span><span class="sxs-lookup"><span data-stu-id="a728f-122">The `TrackedTargetType` can also be set to Controller Ray which has the object follow the controller.</span></span> <span data-ttu-id="a728f-123">Il primo gruppo di proprietà nel controllo Tap to Place è costituito dalle [proprietà del Risolutore comune](Solver.md#common-solver-properties).</span><span class="sxs-lookup"><span data-stu-id="a728f-123">The first group of properties in the Tap to Place inspector are the [Common Solver Properties](Solver.md#common-solver-properties).</span></span>  
    > [!IMPORTANT]
    > <span data-ttu-id="a728f-124">Il tocco da posizionare è un risolutore autonomo e non può essere concatenato ad altri risolutori.</span><span class="sxs-lookup"><span data-stu-id="a728f-124">Tap to Place is a stand alone Solver and cannot be chained with other Solvers.</span></span> <span data-ttu-id="a728f-125">Non può essere concatenato perché SolverHandler. UpdateSolvers viene usato per aggiornare la posizione dell'oggetto durante la sua immissione.</span><span class="sxs-lookup"><span data-stu-id="a728f-125">It cannot be chained because SolverHandler.UpdateSolvers is used to update the object's position while it is being placed.</span></span>
    - <span data-ttu-id="a728f-126">Toccare per inserire le proprietà:</span><span class="sxs-lookup"><span data-stu-id="a728f-126">Tap to Place Properties:</span></span>
        - <span data-ttu-id="a728f-127">`Auto Start`: Se true, il tocco per posizionare il Risolutore inizierà a controllare la posizione dell'oggetto gioco da inserire.</span><span class="sxs-lookup"><span data-stu-id="a728f-127">`Auto Start`: If true, the Tap to Place solver will start out controlling the position of the game object to be placed.</span></span> <span data-ttu-id="a728f-128">L'oggetto inizierà immediatamente dopo TrackedTargetType (Head o Ray controller).</span><span class="sxs-lookup"><span data-stu-id="a728f-128">The object will immediately start following the TrackedTargetType (Head or Controller Ray).</span></span> <span data-ttu-id="a728f-129">Questo valore deve essere modificato prima che venga richiamato Start () per avere un effetto.</span><span class="sxs-lookup"><span data-stu-id="a728f-129">This value must be modified before Start() is invoked in order to have any effect.</span></span>
        - <span data-ttu-id="a728f-130">`Default Placement Distance`: Distanza predefinita (in metri) in cui un oggetto verrà inserito rispetto al TrackedTargetType successivo in SolverHandler.</span><span class="sxs-lookup"><span data-stu-id="a728f-130">`Default Placement Distance`: The default distance (in meters) an object will be placed relative to the TrackedTargetType forward in the SolverHandler.</span></span> <span data-ttu-id="a728f-131">Se una superficie non viene raggiunta da Raycast, l'oggetto Game verrà posizionato alla distanza di posizionamento predefinita.</span><span class="sxs-lookup"><span data-stu-id="a728f-131">The game object will be placed at the default placement distance if a surface is not hit by the raycast.</span></span>
        - <span data-ttu-id="a728f-132">`Max Raycast Distance`: Distanza massima (contatori) per il Raycast in base all'origine ' TrackedTargetType '.</span><span class="sxs-lookup"><span data-stu-id="a728f-132">`Max Raycast Distance`: The max distance (meters) for the raycast based on the 'TrackedTargetType' origin.</span></span> <span data-ttu-id="a728f-133">Questo Raycast cerca una superficie per inserire un oggetto selezionato.</span><span class="sxs-lookup"><span data-stu-id="a728f-133">This raycast looks for a surface to place a selected object.</span></span>
        - <span data-ttu-id="a728f-134">`UseDefaultSurfaceNormalOffset`: Questa proprietà è true per impostazione predefinita, assicura che l'oggetto da posizionare sia allineato in una superficie.</span><span class="sxs-lookup"><span data-stu-id="a728f-134">`UseDefaultSurfaceNormalOffset`: This property is true by default, it ensures the object being placed is aligned on a surface.</span></span> <span data-ttu-id="a728f-135">Se questa proprietà è true, verrà applicato l'offset normale della superficie predefinita al posto di qualsiasi valore specificato per la `SurfaceNormalOffset` Proprietà.</span><span class="sxs-lookup"><span data-stu-id="a728f-135">If this property is true, the default surface normal offset will be applied instead of any value specified for the `SurfaceNormalOffset` property.</span></span> <span data-ttu-id="a728f-136">Se false, verrà applicato il valore per `SurfaceNormalOffset` .</span><span class="sxs-lookup"><span data-stu-id="a728f-136">If false, the value for `SurfaceNormalOffset` will be applied.</span></span> <span data-ttu-id="a728f-137">L'offset normale della superficie predefinita è l'extent del Collider lungo l'asse z.</span><span class="sxs-lookup"><span data-stu-id="a728f-137">The default surface normal offset is the collider's extents along the z axis.</span></span>
        - <span data-ttu-id="a728f-138">`Surface Normal Offset`: Distanza tra il centro dell'oggetto gioco e una superficie lungo la normale della superficie, se il Raycast raggiunge una superficie.</span><span class="sxs-lookup"><span data-stu-id="a728f-138">`Surface Normal Offset`: The distance between the center of the game object to place and a surface along the surface normal, if the raycast hits a surface.</span></span> <span data-ttu-id="a728f-139">Questa proprietà viene applicata a un oggetto solo se `UseDefaultSurfaceNormalOffset` è false.</span><span class="sxs-lookup"><span data-stu-id="a728f-139">This property is only applied to an object if `UseDefaultSurfaceNormalOffset` is false.</span></span>
        - <span data-ttu-id="a728f-140">`Keep Orientation Vertical`: Se è true, l'oggetto Game da inserire rimarrà in verticale e in linea con Vector3. up.</span><span class="sxs-lookup"><span data-stu-id="a728f-140">`Keep Orientation Vertical`: If true, the game object to place will remain upright and in line with Vector3.up.</span></span>
        - <span data-ttu-id="a728f-141">`Rotate According to Surface`: Se false, l'oggetto Game da inserire non modifica la rotazione in base alla superficie raggiunta.</span><span class="sxs-lookup"><span data-stu-id="a728f-141">`Rotate According to Surface`: If false, the game object to place will not change its rotation according to the surface hit.</span></span>  <span data-ttu-id="a728f-142">L'oggetto rimarrà connesso alla videocamera mentre IsBeingPlaced è true.</span><span class="sxs-lookup"><span data-stu-id="a728f-142">The object will remain facing the camera while IsBeingPlaced is true.</span></span>
        - <span data-ttu-id="a728f-143">`Magnetic Surfaces`: Matrice di LayerMasks da eseguire dalla priorità più alta alla più bassa.</span><span class="sxs-lookup"><span data-stu-id="a728f-143">`Magnetic Surfaces`: An array of LayerMasks to execute from highest to lowest priority.</span></span> <span data-ttu-id="a728f-144">Prima maschera di livello per fornire un hit Raycast verrà usato per i calcoli di posizione.</span><span class="sxs-lookup"><span data-stu-id="a728f-144">First layer mask to provide a raycast hit will be used for position calculations.</span></span>
        - <span data-ttu-id="a728f-145">`Debug Enabled`: Se è true e nell'editor di Unity, il valore normale del Raycast hit verrà disegnato in giallo.</span><span class="sxs-lookup"><span data-stu-id="a728f-145">`Debug Enabled`: If true and in the Unity Editor, the normal of the raycast hit will be drawn in yellow.</span></span> <span data-ttu-id="a728f-146">Il debug abilitato è utile quando `RotateAccordingToSurface` è true perché disegna la normale della superficie raggiunta, che spiega visivamente il motivo per cui l'oggetto viene impostato sull'orientamento corrente.</span><span class="sxs-lookup"><span data-stu-id="a728f-146">Debug enabled is useful when `RotateAccordingToSurface` is true because it draws the normal of the surface hit which visually explains why the object is set at its current orientation.</span></span>
        - <span data-ttu-id="a728f-147">`On Placing Started`: Questo evento viene attivato una volta quando viene selezionato l'oggetto gioco da inserire.</span><span class="sxs-lookup"><span data-stu-id="a728f-147">`On Placing Started`: This event is triggered once when the game object to place is selected.</span></span>
        - <span data-ttu-id="a728f-148">`On Placing Stopped`: Questo evento viene generato una volta quando l'oggetto Game da inserire viene deselezionato, inserito.</span><span class="sxs-lookup"><span data-stu-id="a728f-148">`On Placing Stopped`: This event is triggered once when the game object to place is unselected, placed.</span></span>

1. <span data-ttu-id="a728f-149">Test del comportamento di tap per posizionare nell'editor</span><span class="sxs-lookup"><span data-stu-id="a728f-149">Testing Tap to Place behavior in editor</span></span>
    - <span data-ttu-id="a728f-150">Premere Riproduci e tenere premuto la barra spaziatrice per visualizzare una mano di simulazione di input.</span><span class="sxs-lookup"><span data-stu-id="a728f-150">Press play and hold the space bar to show an input simulation hand.</span></span>
    - <span data-ttu-id="a728f-151">Spostare la mano fino a quando il cubo non è attivo e simulare un clic con la mano della simulazione di input facendo clic con il pulsante sinistro del mouse.</span><span class="sxs-lookup"><span data-stu-id="a728f-151">Move the hand until the cube is in focus and simulate a click with the input simulation hand by clicking with the left mouse.</span></span>
        - <span data-ttu-id="a728f-152">Se i Collider non sono presenti nella scena, l'oggetto seguirà `TrackedTargetType` in corrispondenza dell'oggetto definito `Default Placement Distance` .</span><span class="sxs-lookup"><span data-stu-id="a728f-152">If colliders are not present in the scene, the object will follow the `TrackedTargetType` at the defined `Default Placement Distance`.</span></span>
    - <span data-ttu-id="a728f-153">L'oggetto seguirà lo spostamento della `TrackedTargetType` selezione dopo.</span><span class="sxs-lookup"><span data-stu-id="a728f-153">The object will follow the movement of the `TrackedTargetType` after selection.</span></span> <span data-ttu-id="a728f-154">Per simulare il movimento Head nell'editor, premere i tasti WASD.</span><span class="sxs-lookup"><span data-stu-id="a728f-154">To simulate head movement in editor, press the WASD keys.</span></span> <span data-ttu-id="a728f-155">Modificare la rotazione della testa facendo clic e tenendo premuto il pulsante destro del mouse.</span><span class="sxs-lookup"><span data-stu-id="a728f-155">Change head rotation by clicking and holding the right mouse.</span></span>
    - <span data-ttu-id="a728f-156">Per arrestare l'inserimento dell'oggetto, fare di nuovo clic su.</span><span class="sxs-lookup"><span data-stu-id="a728f-156">To stop placing the object, click again.</span></span>  <span data-ttu-id="a728f-157">Non è necessario che l'oggetto sia attivo per il clic su Arresta selezione host.</span><span class="sxs-lookup"><span data-stu-id="a728f-157">The object does not need to be in focus for the stop placement click.</span></span> <span data-ttu-id="a728f-158">Lo stato attivo è necessario solo per il clic iniziale che avvia il processo di selezione host.</span><span class="sxs-lookup"><span data-stu-id="a728f-158">Focus is only required for the initial click that starts the placement process.</span></span>

    <span data-ttu-id="a728f-159">`TrackedTargetType`: Head (impostazione predefinita)</span><span class="sxs-lookup"><span data-stu-id="a728f-159">`TrackedTargetType`: Head (Default)</span></span> |  <span data-ttu-id="a728f-160">`TrackedTargetType`: Raggio controller</span><span class="sxs-lookup"><span data-stu-id="a728f-160">`TrackedTargetType`: Controller Ray</span></span>
    :-------------------------:|:-------------------------:
    ![Visualizzazione di esempio TapToPlaceInputSimulationHead](../../images/solver/tap-to-place/TapToPlaceInputSimulationHead.gif)  |  ![Visualizzazione di esempio TapToPlaceInputSimulationControllerRay](../../images/solver/tap-to-place/TapToPlaceInputSimulationControllerRay.gif)

## <a name="tap-to-place-code-configurability"></a><span data-ttu-id="a728f-163">Toccare per inserire la configurabilità del codice</span><span class="sxs-lookup"><span data-stu-id="a728f-163">Tap to Place Code Configurability</span></span>

<span data-ttu-id="a728f-164">Toccare per posizionare la tempistica di selezione degli oggetti può anche essere controllata tramite `StartPlacement()` e `StopPlacement()` anziché richiedere un evento click.</span><span class="sxs-lookup"><span data-stu-id="a728f-164">Tap to Place object selection timing can also be controlled via `StartPlacement()` and `StopPlacement()` instead of requiring a click event.</span></span> <span data-ttu-id="a728f-165">Questa funzionalità è utile per la scrittura di test e fornisce un metodo alternativo per inserire un oggetto nell'editor senza usare il sistema di input MRTK.</span><span class="sxs-lookup"><span data-stu-id="a728f-165">This capability is useful for writing tests and provides an alternative method to place an object in editor without using the MRTK Input System.</span></span>

1. <span data-ttu-id="a728f-166">Creare un oggetto gioco vuoto</span><span class="sxs-lookup"><span data-stu-id="a728f-166">Create an empty game object</span></span>
1. <span data-ttu-id="a728f-167">Crea e alleghi lo script di esempio seguente all'oggetto gioco vuoto</span><span class="sxs-lookup"><span data-stu-id="a728f-167">Create and attach the following example script to the empty game object</span></span>

    ```c#
    using UnityEngine;
    using Microsoft.MixedReality.Toolkit.Utilities.Solvers;

    public class TapToPlaceInputExample : MonoBehaviour
    {
        private GameObject cube;
        private TapToPlace tapToPlace;

        void Start()
        {
            cube = GameObject.CreatePrimitive(PrimitiveType.Cube);
            cube.transform.localScale = Vector3.one * 0.2f;
            cube.transform.position = Vector3.forward * 0.7f;

            tapToPlace = cube.AddComponent<TapToPlace>();
        }

        void Update()
        {
            if (Input.GetKeyDown(KeyCode.U))
            {
                tapToPlace.StartPlacement();
            }
            if (Input.GetKeyDown(KeyCode.I))
            {
                tapToPlace.StopPlacement();
            }
        }
    }
    ```

1. <span data-ttu-id="a728f-168">In modalità di riproduzione premere il *tasto U* per iniziare a inserire il cubo</span><span class="sxs-lookup"><span data-stu-id="a728f-168">In play mode, press the *U key* to start placing the cube</span></span>
1. <span data-ttu-id="a728f-169">Premere il *tasto* i per arrestare la selezione host</span><span class="sxs-lookup"><span data-stu-id="a728f-169">Press the *I key* to stop the placement</span></span>

## <a name="tap-to-place-example-scene"></a><span data-ttu-id="a728f-170">Toccare per inserire la scena di esempio</span><span class="sxs-lookup"><span data-stu-id="a728f-170">Tap to Place Example Scene</span></span>

<span data-ttu-id="a728f-171">La scena di esempio tap to Place è costituita da 4 oggetti posizionabili, ognuno con una configurazione diversa.</span><span class="sxs-lookup"><span data-stu-id="a728f-171">The Tap to Place example scene consists of 4 placeable objects, each with a different configuration.</span></span> <span data-ttu-id="a728f-172">La scena di esempio contiene i muri per mostrare il comportamento di posizionamento della superficie disabilitato per impostazione predefinita nella gerarchia.</span><span class="sxs-lookup"><span data-stu-id="a728f-172">The example scene contains walls to show the surface placement behavior that are disabled by default in the hierarchy.</span></span> <span data-ttu-id="a728f-173">La scena di esempio è disponibile nel pacchetto Microsoft. MixedReality. Toolkit. Unity. examples Unity disponibile nella [pagina della versione](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases).</span><span class="sxs-lookup"><span data-stu-id="a728f-173">The example scene can be found in the Microsoft.MixedReality.Toolkit.Unity.Examples unity package found on the [Release Page](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases).</span></span> <span data-ttu-id="a728f-174">Il percorso della scena è: *MRTK. Esempi/demo/risolutori/scene/TapToPlaceExample. Unity*</span><span class="sxs-lookup"><span data-stu-id="a728f-174">The scene location is: *MRTK.Examples/Demos/Solvers/Scenes/TapToPlaceExample.unity*</span></span>

![ExampleScene per il tocco da posizionare](../../images/solver/tap-to-place/TapToPlaceExampleScene.gif)

## <a name="see-also"></a><span data-ttu-id="a728f-176">Vedi anche</span><span class="sxs-lookup"><span data-stu-id="a728f-176">See also</span></span>

- [<span data-ttu-id="a728f-177">Risolutori</span><span class="sxs-lookup"><span data-stu-id="a728f-177">Solvers</span></span>](Solver.md)
- [<span data-ttu-id="a728f-178">Consapevolezza spaziale</span><span class="sxs-lookup"><span data-stu-id="a728f-178">Spatial Awareness</span></span>](../../spatial-awareness/SpatialAwarenessGettingStarted.md)
- [<span data-ttu-id="a728f-179">Simulazione di input</span><span class="sxs-lookup"><span data-stu-id="a728f-179">Input Simulation</span></span>](../../input-simulation/InputSimulationService.md)
- [<span data-ttu-id="a728f-180">Rilevamento della mano</span><span class="sxs-lookup"><span data-stu-id="a728f-180">Hand Tracking</span></span>](../../input/HandTracking.md)
- [<span data-ttu-id="a728f-181">Sguardo fisso</span><span class="sxs-lookup"><span data-stu-id="a728f-181">Gaze</span></span>](../../input/Gaze.md)
