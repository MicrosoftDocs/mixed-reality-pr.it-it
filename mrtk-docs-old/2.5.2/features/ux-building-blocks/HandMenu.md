---
title: HandMenu
description: Scena di esempio del menu a mano in MRTK
author: cre8ivepark
ms.author: dongpark
ms.date: 01/12/2021
ms.localizationpriority: high
keywords: Unity, HoloLens, HoloLens 2, realtà mista, sviluppo, MRTK, HandMenu,
ms.openlocfilehash: 300fdefaf8db6f55cc95197db0d37787c9aba689
ms.sourcegitcommit: 97815006c09be0a43b3d9b33c1674150cdfecf2b
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/03/2021
ms.locfileid: "101782193"
---
# <a name="hand-menu"></a><span data-ttu-id="acef4-104">Menu a mano</span><span class="sxs-lookup"><span data-stu-id="acef4-104">Hand menu</span></span>

![Esempio di UX menu a mano](../images/solver/MRTK_UX_HandMenu.png)

<span data-ttu-id="acef4-106">I menu a mano consentono agli utenti di visualizzare rapidamente l'interfaccia utente collegata manualmente per le funzioni usate di frequente.</span><span class="sxs-lookup"><span data-stu-id="acef4-106">Hand menus allow users to quickly bring up hand-attached UI for frequently used functions.</span></span> <span data-ttu-id="acef4-107">Per evitare l'attivazione di false durante l'interazione con altri oggetti, il menu a mano fornisce opzioni come ' Richiedi mano piatta ' è usa lo sguardo di attivazione '.</span><span class="sxs-lookup"><span data-stu-id="acef4-107">To prevent false activation while interacting with other objects, hand menu provides options such as 'Require Flat Hand' and 'Use Gaze Activation'.</span></span> <span data-ttu-id="acef4-108">È consigliabile usare queste opzioni per impedire l'attivazione indesiderata.</span><span class="sxs-lookup"><span data-stu-id="acef4-108">It is recommended to use these options to prevent unwanted activation.</span></span>

## <a name="hand-menu-examples"></a><span data-ttu-id="acef4-109">Esempi di menu a mano</span><span class="sxs-lookup"><span data-stu-id="acef4-109">Hand menu examples</span></span>

<span data-ttu-id="acef4-110">La scena **HandMenuExamples. Unity** si trova nella ``MRTK/Examples/Demos/HandTracking/Scenes`` cartella.</span><span class="sxs-lookup"><span data-stu-id="acef4-110">**HandMenuExamples.unity** scene is under ``MRTK/Examples/Demos/HandTracking/Scenes`` folder.</span></span> <span data-ttu-id="acef4-111">Quando è in esecuzione, la scena attiverà solo il tipo di menu attualmente selezionato.</span><span class="sxs-lookup"><span data-stu-id="acef4-111">When it is running, the scene will only activate currently selected menu type.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_ExampleScene.png" width="600px" alt="Hand Menu Example Scene">

<span data-ttu-id="acef4-112">È possibile trovare questi prefabbricati di menu della mano in ``MRTK/Examples/Demos/HandTracking/Prefabs`` cartella.</span><span class="sxs-lookup"><span data-stu-id="acef4-112">You can find these hand menu prefabs under ``MRTK/Examples/Demos/HandTracking/Prefabs`` folder.</span></span>

### <a name="handmenu_small_hideonhanddrop-and-handmenu_medium_hideonhanddrop"></a><span data-ttu-id="acef4-113">HandMenu_Small_HideOnHandDrop e HandMenu_Medium_HideOnHandDrop</span><span class="sxs-lookup"><span data-stu-id="acef4-113">HandMenu_Small_HideOnHandDrop and HandMenu_Medium_HideOnHandDrop</span></span>

<span data-ttu-id="acef4-114">Questi due esempi attivano e disattivano semplicemente l'oggetto MenuContent per visualizzare e nascondere il menu in **OnFirstHandDetected ()** e l'evento **OnLastHandLost ()** .</span><span class="sxs-lookup"><span data-stu-id="acef4-114">These two examples simply activate and deactivate the MenuContent object to show and hide menu on **OnFirstHandDetected()** and **OnLastHandLost()** event.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example1.png" width="600" alt="Hand Menu Example 1">
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example2.png" width="600" alt="Hand Menu Example 2">

### <a name="handmenu_large_worldlock_on_grabandpull"></a><span data-ttu-id="acef4-115">HandMenu_Large_WorldLock_On_GrabAndPull</span><span class="sxs-lookup"><span data-stu-id="acef4-115">HandMenu_Large_WorldLock_On_GrabAndPull</span></span>

<span data-ttu-id="acef4-116">Per i menu più complessi che richiedono tempi di interazione più lunghi, è consigliabile bloccare il menu in modo globale.</span><span class="sxs-lookup"><span data-stu-id="acef4-116">For more complex menus that require longer interaction time, it is recommended to world-lock the menu.</span></span> <span data-ttu-id="acef4-117">In questo esempio, l'utente può eseguire il pull e il pull in un blocco globale del menu, oltre ad attivare e disattivare gli eventi MenuContent in **OnFirstHandDetected ()** e **OnLastHandLost ()** .</span><span class="sxs-lookup"><span data-stu-id="acef4-117">In this example, the user can grab and pull to world-lock the menu, in addition to activating and deactivating the MenuContent on **OnFirstHandDetected()** and **OnLastHandLost()** events.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example3.png" width="600" alt="Hand Menu Example 3">

<span data-ttu-id="acef4-118">Il backplating `ManipulationHandler` lo rende afferrabile e mobile.</span><span class="sxs-lookup"><span data-stu-id="acef4-118">Backplate's `ManipulationHandler` makes it grabbable and movable.</span></span> <span data-ttu-id="acef4-119">All'evento di **manipolazione avviata** , **SolverHandler. UpdateSolvers** viene disattivato per bloccare il menu in modo globale.</span><span class="sxs-lookup"><span data-stu-id="acef4-119">**On Manipulation Started** event, **SolverHandler.UpdateSolvers** is deactivated to world-lock the menu.</span></span> <span data-ttu-id="acef4-120">Inoltre, viene visualizzato il **pulsante Chiudi** per consentire all'utente di chiudere il menu al termine dell'attività.</span><span class="sxs-lookup"><span data-stu-id="acef4-120">Additionally, it shows the **Close button** to allow the user to close the menu when the task is finished.</span></span> <span data-ttu-id="acef4-121">All'evento di **modifica terminata** , chiama **HandConstraintPalmUp. StartWorldLockReattachCheckCoroutine** per consentire all'utente di riportare il menu tramite la generazione e l'analisi del Palm.</span><span class="sxs-lookup"><span data-stu-id="acef4-121">**On Manipulation Ended** event, it calls **HandConstraintPalmUp.StartWorldLockReattachCheckCoroutine** to allow the user bring the menu back to hand by raising and looking at the palm.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example4.png" width="600" alt="Hand Menu Example 4">

<span data-ttu-id="acef4-122">Il pulsante **Chiudi** riattiva **SolverHandler. UpdateSolvers** e nasconde il **MenuContent**.</span><span class="sxs-lookup"><span data-stu-id="acef4-122">**Close** button reactivates **SolverHandler.UpdateSolvers** and hide the **MenuContent**.</span></span>
<br/><img src="../images/hand-menu/MRTK_HandMenu_Example5.png" alt="Hand Menu Example 5">

### <a name="handmenu_large_autoworldlock_on_handdrop"></a><span data-ttu-id="acef4-123">HandMenu_Large_AutoWorldLock_On_HandDrop</span><span class="sxs-lookup"><span data-stu-id="acef4-123">HandMenu_Large_AutoWorldLock_On_HandDrop</span></span>

<span data-ttu-id="acef4-124">Questo esempio è simile a HandMenu_Large_WorldLock_On_GrabAndPull.</span><span class="sxs-lookup"><span data-stu-id="acef4-124">This example is similar to HandMenu_Large_WorldLock_On_GrabAndPull.</span></span> <span data-ttu-id="acef4-125">L'unica differenza è che il menu verrà automaticamente bloccato a mano.</span><span class="sxs-lookup"><span data-stu-id="acef4-125">The only difference is that the menu will be automatically world-locked on hand drop.</span></span> <span data-ttu-id="acef4-126">Questa operazione viene eseguita semplicemente non nascondendo l'evento MenuContent in **OnLastHandLost ()** .</span><span class="sxs-lookup"><span data-stu-id="acef4-126">This is done by simply not hiding the MenuContent on **OnLastHandLost()** event.</span></span> <span data-ttu-id="acef4-127">Il comportamento di pull & è uguale a quello HandMenu_Large_WorldLock_On_GrabAndPull esempio.</span><span class="sxs-lookup"><span data-stu-id="acef4-127">Grab & pull behavior is same as HandMenu_Large_WorldLock_On_GrabAndPull example.</span></span>

## <a name="scripts"></a><span data-ttu-id="acef4-128">Script</span><span class="sxs-lookup"><span data-stu-id="acef4-128">Scripts</span></span>

<span data-ttu-id="acef4-129">Il [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) comportamento fornisce un risolutore che vincola l'oggetto rilevato a un'area sicura per il contenuto vincolato della mano, ad esempio l'interfaccia utente, i menu e così via.</span><span class="sxs-lookup"><span data-stu-id="acef4-129">The [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) behavior provides a solver that constrains the tracked object to a region safe for hand constrained content (such as hand UI, menus, etc).</span></span> <span data-ttu-id="acef4-130">Le aree sicure sono considerate aree che non si intersecano con la mano.</span><span class="sxs-lookup"><span data-stu-id="acef4-130">Safe regions are considered areas that don't intersect with the hand.</span></span> <span data-ttu-id="acef4-131">Viene inoltre inclusa una classe derivata di [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) chiamata [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) per illustrare un comportamento comune di attivazione dell'oggetto rilevato del Risolutore quando il Palm è rivolte all'utente.</span><span class="sxs-lookup"><span data-stu-id="acef4-131">A derived class of [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) called [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) is also included to demonstrate a common behavior of activating the solver tracked object when the palm is facing the user.</span></span>

<span data-ttu-id="acef4-132">Per ulteriori informazioni, vedere le descrizioni comandi disponibili per ogni [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) Proprietà.</span><span class="sxs-lookup"><span data-stu-id="acef4-132">Please see the tool tips available for each [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) property for additional documentation.</span></span> <span data-ttu-id="acef4-133">Alcune proprietà sono definite in modo più dettagliato di seguito.</span><span class="sxs-lookup"><span data-stu-id="acef4-133">A few properties are defined in more detail below.</span></span>

<img src="../images/solver/MRTK_Solver_HandConstraintPalmUp.png" width="450" alt="Hand Constraint Palm up">

* <span data-ttu-id="acef4-134">**Area sicura**: l'area sicura specifica il punto in cui vincolare il contenuto.</span><span class="sxs-lookup"><span data-stu-id="acef4-134">**Safe Zone**: The safe zone specifies where on the hand to constrain content.</span></span> <span data-ttu-id="acef4-135">È consigliabile posizionare il contenuto sul lato ulnare per evitare sovrapposizioni con la mano e una migliore qualità di interazione.</span><span class="sxs-lookup"><span data-stu-id="acef4-135">It is recommended that content be placed on the Ulnar Side to avoid overlap with the hand and improved interaction quality.</span></span> <span data-ttu-id="acef4-136">Le zone sicure vengono calcolate impostando l'orientamento delle mani proiettato in un piano ortogonale alla visualizzazione della fotocamera e Raycasting in base a un rettangolo di delimitazione delle mani.</span><span class="sxs-lookup"><span data-stu-id="acef4-136">Safe zones are calculated by taking the hands orientation projected into a plane orthogonal to the camera's view and raycasting against a bounding box around the hands.</span></span> <span data-ttu-id="acef4-137">Le zone sicure sono definite per funzionare con [`IMixedRealityHand`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityHand) ma anche con altri tipi di controller.</span><span class="sxs-lookup"><span data-stu-id="acef4-137">Safe zones are defined to work with [`IMixedRealityHand`](xref:Microsoft.MixedReality.Toolkit.Input.IMixedRealityHand) but also works with other controller types.</span></span> <span data-ttu-id="acef4-138">Si consiglia di esaminare il significato di ogni zona sicura su diversi tipi di controller.</span><span class="sxs-lookup"><span data-stu-id="acef4-138">It is recommended to explore what each safe zone represents on different controller types.</span></span>

* <span data-ttu-id="acef4-139">**Segui manualmente fino alla videocamera** Con questo attivo, il Risolutore seguirà la rotazione della mano fino a quando il menu non sarà sufficientemente allineato con lo sguardo, a quel punto la fotocamera.</span><span class="sxs-lookup"><span data-stu-id="acef4-139">**Follow Hand Until Facing Camera** With this active, solver will follow hand rotation until the menu is sufficiently aligned with the gaze, at which point it faces the camera.</span></span> <span data-ttu-id="acef4-140">Questa operazione può essere eseguita modificando SolverRotationBehavior in HandConstraintSolver, da LookAtTrackedObject a LookAtMainCamera come l'angolo GazeAlignment con il Risolutore varia.</span><span class="sxs-lookup"><span data-stu-id="acef4-140">This works by changing the SolverRotationBehavior in the HandConstraintSolver, from LookAtTrackedObject to LookAtMainCamera as the GazeAlignment angle with the solver varies.</span></span>

<img src="../images/solver/MRTK_Solver_HandConstraintSafeZones.png" width="450" alt="Hand Constraints safe zone">

* <span data-ttu-id="acef4-141">**Eventi di attivazione**: attualmente [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) Attiva quattro eventi di attivazione.</span><span class="sxs-lookup"><span data-stu-id="acef4-141">**Activation Events**: Currently the [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) triggers four activation events.</span></span> <span data-ttu-id="acef4-142">Questi eventi possono essere usati in molte combinazioni diverse per creare comportamenti univoci [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) `MRTK/Examples/Demos/HandTracking/Scenes/` . per esempi di questi comportamenti, vedere la scena HandBasedMenuExample in.</span><span class="sxs-lookup"><span data-stu-id="acef4-142">These events can be used in many different combinations to create unique [`HandConstraint`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraint) behaviors, please see the HandBasedMenuExample scene under `MRTK/Examples/Demos/HandTracking/Scenes/` for examples of these behaviors.</span></span>

  * <span data-ttu-id="acef4-143">*OnHandActivate*: viene attivato quando una mano soddisfa il metodo IsHandActive.</span><span class="sxs-lookup"><span data-stu-id="acef4-143">*OnHandActivate*: triggers when a hand satisfies the IsHandActive method.</span></span>
  * <span data-ttu-id="acef4-144">*OnHandDeactivate*: viene attivato quando il metodo IsHandActive non è più soddisfatto.</span><span class="sxs-lookup"><span data-stu-id="acef4-144">*OnHandDeactivate*: triggers when the IsHandActive method is no longer satisfied.</span></span>
  * <span data-ttu-id="acef4-145">*OnFirstHandDetected*: si verifica quando lo stato di rilevamento della mano passa da nessuna mano alla visualizzazione, fino alla prima mano nella visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="acef4-145">*OnFirstHandDetected*: occurs when the hand tracking state changes from no hands in view, to the first hand in view.</span></span>
  * <span data-ttu-id="acef4-146">*OnLastHandLost*: si verifica in seguito alla modifica dello stato di rilevamento della mano da almeno una mano nella visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="acef4-146">*OnLastHandLost*: occurs when the hand tracking state changes from at least one hand in view, to no hands in view.</span></span>

* <span data-ttu-id="acef4-147">**Logica di attivazione/disattivazione del Risolutore**: attualmente la raccomandazione per l'attivazione e la disattivazione della [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) logica consiste nell'usare il valore UpdateSolver di SolverHandler, invece di disabilitare o abilitare l'oggetto.</span><span class="sxs-lookup"><span data-stu-id="acef4-147">**Solver Activation/Deactivation Logic**: Currently the recommendation for activating and deactivating [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) logic is to do so through the use of the SolverHandler's UpdateSolver value, rather than by disabling/enabling the object.</span></span> <span data-ttu-id="acef4-148">Questo può essere visualizzato nella scena di esempio tramite gli hook basati su Editor attivati dopo gli eventi ManipulationHandler "OnManipulationStarted/ended" del menu associato.</span><span class="sxs-lookup"><span data-stu-id="acef4-148">This can be seen in the example scene through the editor-based hooks triggered after the attached menu's ManipulationHandler "OnManipulationStarted/Ended" events.</span></span>

  * <span data-ttu-id="acef4-149">*Arresto della logica del vincolo di mano*: quando si tenta di impostare l'oggetto vincolato della mano su Stop (oltre a non eseguire la logica di attivazione/disattivazione), impostare UpdateSolver su false anziché disabilitare HandConstraintPalmUp.</span><span class="sxs-lookup"><span data-stu-id="acef4-149">*Stopping the hand-constraint logic*: When trying to set the hand constrained object to stop (as well as not run the activation/deactivation logic), set UpdateSolver to False rather than disabling HandConstraintPalmUp.</span></span>
    * <span data-ttu-id="acef4-150">Se si vuole abilitare la logica di riassociazione basata sullo sguardo (o anche senza sguardo), questo viene seguito chiamando la funzione HandConstraintPalmUp. StartWorldLockReattachCheckCoroutine ().</span><span class="sxs-lookup"><span data-stu-id="acef4-150">If you want to enable the gaze-based (or even non-gaze-based) Reattach logic, this is then followed by calling the HandConstraintPalmUp.StartWorldLockReattachCheckCoroutine() function.</span></span> <span data-ttu-id="acef4-151">Verrà attivata una coroutine che continua a controllare se i criteri "IsValidController" sono soddisfatti e imposterà UpdateSolver su true una volta (oppure l'oggetto è disabilitato)</span><span class="sxs-lookup"><span data-stu-id="acef4-151">This will trigger a coroutine that then continues to check if the "IsValidController" criteria is met and will set UpdateSolver to True once it is (or the object is disabled)</span></span>
  * <span data-ttu-id="acef4-152">*Avvio della logica del vincolo di mano*: quando si tenta di impostare l'oggetto vincolato Hand per iniziare a seguire di nuovo la mano (a seconda che soddisfi i criteri di attivazione), impostare UpdateSolver di SolverHandler su true.</span><span class="sxs-lookup"><span data-stu-id="acef4-152">*Starting the hand-constraint logic*: When trying to set the hand constrained object to start following your hand again (based on whether it meets the activation criteria), set the SolverHandler's UpdateSolver to true.</span></span>

* <span data-ttu-id="acef4-153">**Logica di riconnessione**: attualmente [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) è in grado di allineare automaticamente l'oggetto di destinazione al punto di rilevamento, indipendentemente dal fatto che il UpdateSolver di SolverHandler sia true o meno.</span><span class="sxs-lookup"><span data-stu-id="acef4-153">**Reattach Logic**: Currently the [`HandConstraintPalmUp`](xref:Microsoft.MixedReality.Toolkit.Utilities.Solvers.HandConstraintPalmUp) is able to automatically reattach the target object to the tracked point, regardless of whether the SolverHandler's UpdateSolver is True or not.</span></span> <span data-ttu-id="acef4-154">Questa operazione viene eseguita tramite la chiamata della funzione StartWorldLockReattachCheckCoroutine () di HandConstraintPalmUp, dopo che è stata bloccata in modo globale, in questo caso l'impostazione del UpdateSolver di SolverHandler su false.</span><span class="sxs-lookup"><span data-stu-id="acef4-154">This is done through calling the HandConstraintPalmUp's StartWorldLockReattachCheckCoroutine() function, after it's been world-locked (which in this case, is effectively setting the SolverHandler's UpdateSolver to False).</span></span>

## <a name="see-also"></a><span data-ttu-id="acef4-155">Vedi anche</span><span class="sxs-lookup"><span data-stu-id="acef4-155">See also</span></span>

* [<span data-ttu-id="acef4-156">Button</span><span class="sxs-lookup"><span data-stu-id="acef4-156">Button</span></span>](Button.md)
* [<span data-ttu-id="acef4-157">Menu vicino</span><span class="sxs-lookup"><span data-stu-id="acef4-157">Near Menu</span></span>](NearMenu.md)
